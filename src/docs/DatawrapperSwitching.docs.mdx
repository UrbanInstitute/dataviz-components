import { Meta, Story } from "@storybook/blocks";
import * as stories from "./stories/DatawrapperSwitching.stories.svelte";

<Meta title="Examples/Datawrapper Switching" />

# Datawrapper Switching

It's useful to switch between Datawrapper iframes. Below, we demonstrate two use cases: switching with a dropdown and switching with buttons.

### Switching with a dropdown

```html
<script>
  let selectedChart;

  const dropdownData = [
    { value: "AHpJL", label: "Chart #1" },
    { value: "91Q0t", label: "Chart #2" },
    { value: "eaD2D", label: "Chart #3" }
  ];
</script>
<BasicDropdown
  id="dropdown"
  data="{dropdownData}"
  inlineLabel="Dropdown"
  bind:value="{selectedChart}"
  placeholder="{null}"
/>

{#key selectedChart}
<DatawrapperIframe datawrapperId="{selectedChart}" />
{/key}
```

<Story of={stories.Dropdown} />
<hr />

### Switching with buttons

```html
<script>
  let selectedChart;
</script>

<!-- added quotes are a symptom of code block formatting -->
<button on:click="{()" ="">(selectedChart = "AHpJL")}>Chart #1</button>
<button on:click="{()" ="">(selectedChart = "91Q0t")}>Chart #2</button>
<button on:click="{()" ="">(selectedChart = "eaD2D")}>Chart #3</button>

{#key selectedChart}
<DatawrapperIframe datawrapperId="{selectedChart}" />
{/key}
```

<Story of={stories.Buttons} />
