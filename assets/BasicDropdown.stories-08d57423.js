import{S as x,i as ee,s as te,j as le,n as z,r as ne,c as y,a as b,m as k,t as D,b as S,d as B,e as ie}from"./index-e3b48b1c.js";import{e as W,t as N,s as T,a as C,f as E,h as P,d as m,c as L,o as _,y as H,i as v,j as w,z as R,A as Z,k as U,u as O,l as ae,B as se}from"./lifecycle-6e31b59c.js";import{g as oe,a as re}from"./spread-8a54911c.js";import{e as F,u as de,d as ce}from"./each-5ab6bd7e.js";import{u as ue}from"./urbanColors-d358ce75.js";import{p as fe,T as pe,S as I}from"./collect-stories-7274ab70.js";import{w as _e,f as G,e as J}from"./index-1115cec3.js";function K(i,t,a){const o=i.slice();return o[10]=t[a],o}function Q(i){let t,a=i[10].label+"",o,n;return{c(){t=W("option"),o=N(a),this.h()},l(e){t=C(e,"OPTION",{});var s=E(t);o=P(s,a),s.forEach(m),this.h()},h(){t.__value=n=i[10].value,H(t,t.__value)},m(e,s){v(e,t,s),w(t,o)},p(e,s){s&4&&a!==(a=e[10].label+"")&&U(o,a),s&4&&n!==(n=e[10].value)&&(t.__value=n,H(t,t.__value))},d(e){e&&m(t)}}}function X(i,t){let a,o,n=t[10].value!==""&&Q(t);return{key:i,first:null,c(){a=O(),n&&n.c(),o=O(),this.h()},l(e){a=O(),n&&n.l(e),o=O(),this.h()},h(){this.first=a},m(e,s){v(e,a,s),n&&n.m(e,s),v(e,o,s)},p(e,s){t=e,t[10].value!==""?n?n.p(t,s):(n=Q(t),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},d(e){e&&(m(a),m(o)),n&&n.d(e)}}}function me(i){let t,a,o,n,e,s,f,u=[],l=new Map,p,g,V,c=F(i[2]);const q=r=>r[10].value;for(let r=0;r<c.length;r+=1){let d=K(i,c,r),h=q(d);l.set(h,u[r]=X(h,d))}return{c(){t=W("div"),a=W("label"),o=N(i[3]),n=T(),e=W("select"),s=W("option"),f=N(i[4]);for(let r=0;r<u.length;r+=1)u[r].c();this.h()},l(r){t=C(r,"DIV",{class:!0});var d=E(t);a=C(d,"LABEL",{"aria-hidden":!0,for:!0});var h=E(a);o=P(h,i[3]),h.forEach(m),n=L(d),e=C(d,"SELECT",{name:!0,id:!0,class:!0,style:!0,"aria-label":!0});var M=E(e);s=C(M,"OPTION",{});var Y=E(s);f=P(Y,i[4]),Y.forEach(m);for(let j=0;j<u.length;j+=1)u[j].l(M);M.forEach(m),d.forEach(m),this.h()},h(){_(a,"aria-hidden","true"),a.hidden=!0,_(a,"for",i[1]),s.__value=null,H(s,s.__value),_(e,"name",i[1]),_(e,"id",i[1]),_(e,"class","dropdown-select svelte-reh2fh"),_(e,"style",p=`--bg-img: url("${i[6]}"); width: ${i[5]}px;`),_(e,"aria-label",i[3]),i[0]===void 0&&le(()=>i[9].call(e)),_(t,"class","dropdown-container svelte-reh2fh")},m(r,d){v(r,t,d),w(t,a),w(a,o),w(t,n),w(t,e),w(e,s),w(s,f);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(e,null);R(e,i[0],!0),g||(V=[Z(e,"change",i[9]),Z(e,"change",i[8])],g=!0)},p(r,[d]){d&8&&U(o,r[3]),d&2&&_(a,"for",r[1]),d&16&&U(f,r[4]),d&4&&(c=F(r[2]),u=de(u,d,q,1,r,c,l,e,ce,X,null,K)),d&2&&_(e,"name",r[1]),d&2&&_(e,"id",r[1]),d&32&&p!==(p=`--bg-img: url("${r[6]}"); width: ${r[5]}px;`)&&_(e,"style",p),d&8&&_(e,"aria-label",r[3]),d&5&&R(e,r[0])},i:z,o:z,d(r){r&&m(t);for(let d=0;d<u.length;d+=1)u[d].d();g=!1,ne(V)}}}function he(i,t,a){let{id:o}=t,{value:n}=t,{data:e}=t,{inline_label:s}=t,{placeholder:f="Select..."}=t,{dropdown_width:u=260}=t,{arrow_fill_color:l=ue.blue}=t,p=`data:image/svg+xml;utf8,<svg width='16' height='10' viewBox='0 0 16 10' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M15.1313 0.666626C15.5179 0.666626 15.7794 0.846014 15.9272 1.20479C16.0749 1.56356 15.9954 1.85507 15.7111 2.09052L8.65117 9.12027C8.45791 9.26602 8.2419 9.33329 8.00316 9.33329C7.76442 9.33329 7.57115 9.26602 7.42335 9.12027L0.283802 2.09052C-0.000415318 1.85507 -0.0686276 1.55235 0.0677969 1.20479C0.21559 0.846014 0.477071 0.666626 0.863607 0.666626H15.1313Z' fill='${encodeURIComponent(l)}'/></svg>`;function g(c){ae.call(this,i,c)}function V(){n=se(this),a(0,n),a(2,e)}return i.$$set=c=>{"id"in c&&a(1,o=c.id),"value"in c&&a(0,n=c.value),"data"in c&&a(2,e=c.data),"inline_label"in c&&a(3,s=c.inline_label),"placeholder"in c&&a(4,f=c.placeholder),"dropdown_width"in c&&a(5,u=c.dropdown_width),"arrow_fill_color"in c&&a(7,l=c.arrow_fill_color)},[n,o,e,s,f,u,p,l,g,V]}class $ extends x{constructor(t){super(),ee(this,t,he,me,te,{id:1,value:0,data:2,inline_label:3,placeholder:4,dropdown_width:5,arrow_fill_color:7})}}$.__docgen={version:3,name:"BasicDropdown.svelte",data:[{keywords:[{name:"type",description:"{string}"}],visibility:"public",description:"Unique id given to the dropdown DOM node",name:"id",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"}},{keywords:[{name:"type",description:"{string}"}],visibility:"public",description:"Binds to the current value for the dropdown (data.value)",name:"value",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},bind:[{source:"select",property:"value"}]},{keywords:[{name:"type",description:"{{ value: string, label: string}[]}"}],visibility:"public",description:"Source data as an array of objects (value and label attributes)",name:"data",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"{ value: string, label: string}[]",type:"{ value: string, label: string}[]"}},{keywords:[{name:"type",description:"{string}"}],visibility:"public",description:"Label for the dropdown (currently hidden)",name:"inline_label",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"}},{keywords:[{name:"type",description:'{string} [placeholder="Select..."]'}],visibility:"public",description:"placeholder for when no option is selected",name:"placeholder",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:"Select..."},{keywords:[{name:"type",description:"{number}"}],visibility:"public",description:"Width (px) of the dropdown",name:"dropdown_width",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:260},{keywords:[{name:"type",description:"{string}"}],visibility:"public",description:"Hex color for arrow fill",name:"arrow_fill_color",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"}}],computed:[],methods:[],components:[],description:null,keywords:[],events:[{keywords:[],visibility:"public",description:"",name:"change",parent:"select",modificators:[],locations:null}],slots:[],refs:[]};function ge(i){let t,a;const o=[i[3]];let n={};for(let e=0;e<o.length;e+=1)n=ie(n,o[e]);return t=new $({props:n}),t.$on("change",i[1]),{c(){y(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,s){k(t,e,s),a=!0},p(e,s){const f=s&8?oe(o,[re(e[3])]):{};t.$set(f)},i(e){a||(D(t.$$.fragment,e),a=!0)},o(e){S(t.$$.fragment,e),a=!1},d(e){B(t,e)}}}function we(i){let t,a,o,n,e,s,f,u;return t=new pe({props:{$$slots:{default:[ge,({args:l})=>({3:l}),({args:l})=>l?8:0]},$$scope:{ctx:i}}}),o=new I({props:{name:"Default",args:{id:"dropdown-story",dropdown_width:260,inline_label:"Dropdown label",arrow_fill_color:"#1696D1",placeholder:"Select a state",data:i[0]}}}),e=new I({props:{name:"With value specified",args:{id:"dropdown-story-2",inline_label:"Dropdown with value",placeholder:"Select a state",value:"Ohio",data:i[0]}}}),f=new I({props:{name:"With value selected",args:{id:"dropdown-story-2",inline_label:"Dropdown with selected value",placeholder:"Select a state",data:i[0]},play:i[2]}}),{c(){y(t.$$.fragment),a=T(),y(o.$$.fragment),n=T(),y(e.$$.fragment),s=T(),y(f.$$.fragment)},l(l){b(t.$$.fragment,l),a=L(l),b(o.$$.fragment,l),n=L(l),b(e.$$.fragment,l),s=L(l),b(f.$$.fragment,l)},m(l,p){k(t,l,p),v(l,a,p),k(o,l,p),v(l,n,p),k(e,l,p),v(l,s,p),k(f,l,p),u=!0},p(l,[p]){const g={};p&24&&(g.$$scope={dirty:p,ctx:l}),t.$set(g)},i(l){u||(D(t.$$.fragment,l),D(o.$$.fragment,l),D(e.$$.fragment,l),D(f.$$.fragment,l),u=!0)},o(l){S(t.$$.fragment,l),S(o.$$.fragment,l),S(e.$$.fragment,l),S(f.$$.fragment,l),u=!1},d(l){l&&(m(a),m(n),m(s)),B(t,l),B(o,l),B(e,l),B(f,l)}}}const ve={title:"Components/BasicDropdown",description:"A basic dropdown component that uses a <select> element under the hood.",component:$,tags:["autodocs"],argTypes:{arrow_fill_color:{control:"color"},data:{control:"object"}},parameters:{docs:{description:{component:"Basic HTML dropdown adhering to Urban styles."}}}};function ye(i){const t=[{value:"Ohio",label:"Ohio"},{value:"Pennsylvania",label:"Pennsylvania"},{value:"New York",label:"New York"},{value:"Maryland",label:"Maryland"}];function a(n){ae.call(this,i,n)}return[t,a,async({canvasElement:n})=>{const s=_e(n).getByLabelText("Dropdown with selected value",{selector:"select"});await G.change(s,{target:{value:t[1].value}}),J(s.value).toBe(t[1].value),await G.change(s,{target:{value:t[3].value}}),J(s.value).toBe(t[3].value)}]}class be extends x{constructor(t){super(),ee(this,t,ye,we,te,{})}}const A=fe(be,{meta:{title:"Components/BasicDropdown",tags:["autodocs"]},stories:{"tpl:default":{name:"default",template:!0,source:"<BasicDropdown {...args} on:change />",hasArgs:!0},Default:{name:"Default",template:!1,source:"",hasArgs:!1},WithValueSpecified:{name:"With value specified",template:!1,source:"",hasArgs:!1},WithValueSelected:{name:"With value selected",template:!1,source:"",hasArgs:!1}},allocatedIds:["default","Story","Template","fireEvent","within","expect"]},ve),Ve=A.meta,Oe=["Default","WithValueSpecified","WithValueSelected"],Te=A.stories.Default,Le=A.stories.WithValueSpecified,Ae=A.stories.WithValueSelected;export{Te as Default,Ae as WithValueSelected,Le as WithValueSpecified,Oe as __namedExportsOrder,Ve as default};
