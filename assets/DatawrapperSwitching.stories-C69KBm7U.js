import{S as j,i as O,s as E,c as _,a as g,m as h,t as f,b as c,d as b,e as F,f as G,g as K,h as Q,j as q,n as P,k as J}from"./index-Dy1J9qof.js";import{s as C,c as w,i as $,d as m,m as L,t as B,g as v}from"./lifecycle-mCW1c9RL.js";import{L as R}from"./LoadingWrapper-CBHI7ntG.js";import{p as V,S as W}from"./collect-stories-DS3D1-He.js";import{D as H}from"./DatawrapperIframe-DXnIm9vI.js";import{B as X}from"./BasicDropdown-D5Xnl74M.js";import{B as k}from"./Button-EJV1Zdii.js";import"./urbanColors-BkxYcPwH.js";import"./LogoUrbanAnimated-ww49eVg9.js";import"./spread-CgU5AtxT.js";import"./each-CjkgdRJJ.js";function T(i){let e,t;return e=new H({props:{datawrapperId:i[3].value,title:i[3].label,ariaLabel:i[3].ariaLabel}}),{c(){_(e.$$.fragment)},l(a){g(e.$$.fragment,a)},m(a,s){h(e,a,s),t=!0},p(a,s){const n={};s&8&&(n.datawrapperId=a[3].value),s&8&&(n.title=a[3].label),s&8&&(n.ariaLabel=a[3].ariaLabel),e.$set(n)},i(a){t||(f(e.$$.fragment,a),t=!0)},o(a){c(e.$$.fragment,a),t=!1},d(a){b(e,a)}}}function Y(i){let e,t,a,s,n;function u(l){i[5](l)}let o={id:"dropdown",data:i[4],inlineLabel:"Dropdown",placeholder:null};i[0]!==void 0&&(o.value=i[0]),e=new X({props:o}),F.push(()=>G(e,"value",u));let r=i[3]&&T(i);return{c(){_(e.$$.fragment),a=C(),r&&r.c(),s=L()},l(l){g(e.$$.fragment,l),a=w(l),r&&r.l(l),s=L()},m(l,p){h(e,l,p),$(l,a,p),r&&r.m(l,p),$(l,s,p),n=!0},p(l,p){const d={};!t&&p&1&&(t=!0,d.value=l[0],K(()=>t=!1)),e.$set(d),l[3]?r?(r.p(l,p),p&8&&f(r,1)):(r=T(l),r.c(),f(r,1),r.m(s.parentNode,s)):r&&(Q(),c(r,1,1,()=>{r=null}),q())},i(l){n||(f(e.$$.fragment,l),f(r),n=!0)},o(l){c(e.$$.fragment,l),c(r),n=!1},d(l){l&&(m(a),m(s)),b(e,l),r&&r.d(l)}}}function Z(i){let e;return{c(){e=B("Chart #1")},l(t){e=v(t,"Chart #1")},m(t,a){$(t,e,a)},d(t){t&&m(e)}}}function y(i){let e;return{c(){e=B("Chart #2")},l(t){e=v(t,"Chart #2")},m(t,a){$(t,e,a)},d(t){t&&m(e)}}}function x(i){let e;return{c(){e=B("Chart #3")},l(t){e=v(t,"Chart #3")},m(t,a){$(t,e,a)},d(t){t&&m(e)}}}function N(i){let e,t;return e=new H({props:{datawrapperId:i[3].value,title:i[3].label,ariaLabel:i[3].ariaLabel}}),{c(){_(e.$$.fragment)},l(a){g(e.$$.fragment,a)},m(a,s){h(e,a,s),t=!0},p(a,s){const n={};s&8&&(n.datawrapperId=a[3].value),s&8&&(n.title=a[3].label),s&8&&(n.ariaLabel=a[3].ariaLabel),e.$set(n)},i(a){t||(f(e.$$.fragment,a),t=!0)},o(a){c(e.$$.fragment,a),t=!1},d(a){b(e,a)}}}function ee(i){let e,t,a,s,n,u,o,r;e=new k({props:{$$slots:{default:[Z]},$$scope:{ctx:i}}}),e.$on("click",i[6]),a=new k({props:{$$slots:{default:[y]},$$scope:{ctx:i}}}),a.$on("click",i[7]),n=new k({props:{$$slots:{default:[x]},$$scope:{ctx:i}}}),n.$on("click",i[8]);let l=i[0]&&N(i);return{c(){_(e.$$.fragment),t=C(),_(a.$$.fragment),s=C(),_(n.$$.fragment),u=C(),l&&l.c(),o=L()},l(p){g(e.$$.fragment,p),t=w(p),g(a.$$.fragment,p),s=w(p),g(n.$$.fragment,p),u=w(p),l&&l.l(p),o=L()},m(p,d){h(e,p,d),$(p,t,d),h(a,p,d),$(p,s,d),h(n,p,d),$(p,u,d),l&&l.m(p,d),$(p,o,d),r=!0},p(p,d){const M={};d&16384&&(M.$$scope={dirty:d,ctx:p}),e.$set(M);const I={};d&16384&&(I.$$scope={dirty:d,ctx:p}),a.$set(I);const S={};d&16384&&(S.$$scope={dirty:d,ctx:p}),n.$set(S),p[0]?l?(l.p(p,d),d&1&&f(l,1)):(l=N(p),l.c(),f(l,1),l.m(o.parentNode,o)):l&&(Q(),c(l,1,1,()=>{l=null}),q())},i(p){r||(f(e.$$.fragment,p),f(a.$$.fragment,p),f(n.$$.fragment,p),f(l),r=!0)},o(p){c(e.$$.fragment,p),c(a.$$.fragment,p),c(n.$$.fragment,p),c(l),r=!1},d(p){p&&(m(t),m(s),m(u),m(o)),b(e,p),b(a,p),b(n,p),l&&l.d(p)}}}function ae(i){let e;return{c(){e=B("Chart #1")},l(t){e=v(t,"Chart #1")},m(t,a){$(t,e,a)},d(t){t&&m(e)}}}function te(i){let e;return{c(){e=B("Chart #2")},l(t){e=v(t,"Chart #2")},m(t,a){$(t,e,a)},d(t){t&&m(e)}}}function U(i){let e,t;return e=new R({props:{$$slots:{default:[re,({setChildLoaded:a,setChildLoading:s})=>({12:a,13:s}),({setChildLoaded:a,setChildLoading:s})=>(a?4096:0)|(s?8192:0)]},$$scope:{ctx:i}}}),{c(){_(e.$$.fragment)},l(a){g(e.$$.fragment,a)},m(a,s){h(e,a,s),t=!0},p(a,s){const n={};s&28678&&(n.$$scope={dirty:s,ctx:a}),e.$set(n)},i(a){t||(f(e.$$.fragment,a),t=!0)},o(a){c(e.$$.fragment,a),t=!1},d(a){b(e,a)}}}function z(i){let e,t;return e=new H({props:{datawrapperId:i[2].value}}),e.$on("startrender",function(){J(i[13])&&i[13].apply(this,arguments)}),e.$on("visrendered",function(){J(i[12])&&i[12].apply(this,arguments)}),{c(){_(e.$$.fragment)},l(a){g(e.$$.fragment,a)},m(a,s){h(e,a,s),t=!0},p(a,s){i=a;const n={};s&4&&(n.datawrapperId=i[2].value),e.$set(n)},i(a){t||(f(e.$$.fragment,a),t=!0)},o(a){c(e.$$.fragment,a),t=!1},d(a){b(e,a)}}}function re(i){let e=i[1],t,a,s=z(i);return{c(){s.c(),t=L()},l(n){s.l(n),t=L()},m(n,u){s.m(n,u),$(n,t,u),a=!0},p(n,u){u&2&&E(e,e=n[1])?(Q(),c(s,1,1,P),q(),s=z(n),s.c(),f(s,1),s.m(t.parentNode,t)):s.p(n,u)},i(n){a||(f(s),a=!0)},o(n){c(s),a=!1},d(n){n&&m(t),s.d(n)}}}function ne(i){let e,t,a,s,n,u;e=new k({props:{$$slots:{default:[ae]},$$scope:{ctx:i}}}),e.$on("click",i[9]),a=new k({props:{$$slots:{default:[te]},$$scope:{ctx:i}}}),a.$on("click",i[10]);let o=i[2]&&U(i);return{c(){_(e.$$.fragment),t=C(),_(a.$$.fragment),s=C(),o&&o.c(),n=L()},l(r){g(e.$$.fragment,r),t=w(r),g(a.$$.fragment,r),s=w(r),o&&o.l(r),n=L()},m(r,l){h(e,r,l),$(r,t,l),h(a,r,l),$(r,s,l),o&&o.m(r,l),$(r,n,l),u=!0},p(r,l){const p={};l&16384&&(p.$$scope={dirty:l,ctx:r}),e.$set(p);const d={};l&16384&&(d.$$scope={dirty:l,ctx:r}),a.$set(d),r[2]?o?(o.p(r,l),l&4&&f(o,1)):(o=U(r),o.c(),f(o,1),o.m(n.parentNode,n)):o&&(Q(),c(o,1,1,()=>{o=null}),q())},i(r){u||(f(e.$$.fragment,r),f(a.$$.fragment,r),f(o),u=!0)},o(r){c(e.$$.fragment,r),c(a.$$.fragment,r),c(o),u=!1},d(r){r&&(m(t),m(s),m(n)),b(e,r),b(a,r),o&&o.d(r)}}}function le(i){let e,t,a,s,n,u;return e=new W({props:{name:"Dropdown",source:`
<script>
  import { BasicDropdown, DatawrapperIframe } from "@urbaninstitute/dataviz-components";
  let selectedChart;

  // look up metadata based on selected chart
  $: selectedChartMetadata = dropdownData.find((d) => d.value === selectedChart);

  const dropdownData = [
    {
      value: "AHpJL",
      label: "Chart #1",
      ariaLabel: "Quis id magna ut esse qui nostrud magna."
    },
    {
      value: "91Q0t",
      label: "Chart #2",
      ariaLabel: "Quis id magna ut esse qui nostrud magna."
    },
    {
      value: "eaD2D",
      label: "Chart #3",
      ariaLabel: "Quis id magna ut esse qui nostrud magna."
    }
  ];
<\/script>

<BasicDropdown
  id="dropdown"
  data={dropdownData}
  inlineLabel="Dropdown"
  bind:value={selectedChart}
  placeholder={null}
/>

{#if selectedChartMetaData}
  <DatawrapperIframe
    datawrapperId={selectedChartMetadata.value}
    title={selectedChartMetadata.label}
    ariaLabel={selectedChartMetadata.ariaLabel}
  />
{/if}
`,$$slots:{default:[Y]},$$scope:{ctx:i}}}),a=new W({props:{name:"Buttons",source:`
<script>
  import { Button, DatawrapperIframe } from "@urbaninstitute/dataviz-components";
  // see first code chunk for setup
<\/script>

<Button on:click={() => (selectedChart = "AHpJL")}>Chart #1</Button>
<Button on:click={() => (selectedChart = "91Q0t")}>Chart #2</Button>
<Button on:click={() => (selectedChart = "eaD2D")}>Chart #3</Button>

{#if selectedChartMetadata}
  <DatawrapperIframe
    datawrapperId={selectedChartMetadata.value}
    title={selectedChartMetadata.label}
    ariaLabel={selectedChartMetadata.ariaLabel}
  />
{/if}
  `,$$slots:{default:[ee]},$$scope:{ctx:i}}}),n=new W({props:{name:"Loading",source:`
<script>
  import { Button, DatawrapperIframe, LoadingWrapper } from "@urbaninstitute/dataviz-components";
  // see first code chunk for setup
<\/script>

<Button on:click={() => (selectedChart = "Toh1S")}>Chart #1</Button>
<Button on:click={() => (selectedChart = "rgLU1")}>Chart #2</Button>

  {#if selectedChartMetadata}
    <LoadingWrapper let:setChildLoaded let:setChildLoading>
      {#key selectedChart}
        <DatawrapperIframe
          datawrapperId={selectedChartMetadata.value}
          title={selectedChartMetadata.label}
          ariaLabel={selectedChartMetadata.ariaLabel}
          on:startrender={setChildLoading}
          on:visrendered={setChildLoaded}
        />
      {/key}
    </LoadingWrapper>
  {/if}
`,$$slots:{default:[ne]},$$scope:{ctx:i}}}),{c(){_(e.$$.fragment),t=C(),_(a.$$.fragment),s=C(),_(n.$$.fragment)},l(o){g(e.$$.fragment,o),t=w(o),g(a.$$.fragment,o),s=w(o),g(n.$$.fragment,o)},m(o,r){h(e,o,r),$(o,t,r),h(a,o,r),$(o,s,r),h(n,o,r),u=!0},p(o,[r]){const l={};r&16393&&(l.$$scope={dirty:r,ctx:o}),e.$set(l);const p={};r&16393&&(p.$$scope={dirty:r,ctx:o}),a.$set(p);const d={};r&16390&&(d.$$scope={dirty:r,ctx:o}),n.$set(d)},i(o){u||(f(e.$$.fragment,o),f(a.$$.fragment,o),f(n.$$.fragment,o),u=!0)},o(o){c(e.$$.fragment,o),c(a.$$.fragment,o),c(n.$$.fragment,o),u=!1},d(o){o&&(m(t),m(s)),b(e,o),b(a,o),b(n,o)}}}const se={title:"Examples/Stories/Datawrapper Switching"};function oe(i,e,t){let a,s,n="AHpJL";const u=[{value:"AHpJL",label:"Chart #1",ariaLabel:"Quis id magna ut esse qui nostrud magna."},{value:"91Q0t",label:"Chart #2",ariaLabel:"Quis id magna ut esse qui nostrud magna."},{value:"eaD2D",label:"Chart #3",ariaLabel:"Quis id magna ut esse qui nostrud magna."}],o=[{value:"Toh1S",label:"Chart #1",ariaLabel:"Quis id magna ut esse qui nostrud magna."},{value:"rgLU1",label:"Chart #2",ariaLabel:"Quis id magna ut esse qui nostrud magna."}];let r="Toh1S";function l(D){n=D,t(0,n)}const p=()=>t(0,n="AHpJL"),d=()=>t(0,n="91Q0t"),M=()=>t(0,n="eaD2D"),I=()=>t(1,r="Toh1S"),S=()=>t(1,r="rgLU1");return i.$$.update=()=>{i.$$.dirty&1&&t(3,a=u.find(D=>D.value===n)),i.$$.dirty&2&&t(2,s=o.find(D=>D.value===r))},[n,r,s,a,u,l,p,d,M,I,S]}class ie extends j{constructor(e){super(),O(this,e,oe,le,E,{})}}const A=V(ie,{meta:{title:"Examples/Stories/Datawrapper Switching"},stories:{Dropdown:{name:"Dropdown",template:!1,source:`<BasicDropdown
  id="dropdown"
  data={dropdownData}
  inlineLabel="Dropdown"
  bind:value={selectedChart}
  placeholder={null}
/>
{#if selectedChartMetadata}
  <DatawrapperIframe
    datawrapperId={selectedChartMetadata.value}
    title={selectedChartMetadata.label}
    ariaLabel={selectedChartMetadata.ariaLabel}
  />
{/if}`,hasArgs:!1},Buttons:{name:"Buttons",template:!1,source:`<Button on:click={() => (selectedChart = "AHpJL")}>Chart #1</Button>
<Button on:click={() => (selectedChart = "91Q0t")}>Chart #2</Button>
<Button on:click={() => (selectedChart = "eaD2D")}>Chart #3</Button>
{#if selectedChart}
  <DatawrapperIframe
    datawrapperId={selectedChartMetadata.value}
    title={selectedChartMetadata.label}
    ariaLabel={selectedChartMetadata.ariaLabel}
  />
{/if}`,hasArgs:!1},Loading:{name:"Loading",template:!1,source:`<Button on:click={() => (selectedChartLoading = "Toh1S")}>Chart #1</Button>
<Button on:click={() => (selectedChartLoading = "rgLU1")}>Chart #2</Button>

{#if selectedChartLoadingMetadata}
  <LoadingWrapper let:setChildLoaded let:setChildLoading>
    {#key selectedChartLoading}
      <DatawrapperIframe
        datawrapperId={selectedChartLoadingMetadata.value}
        on:startrender={setChildLoading}
        on:visrendered={setChildLoaded}
      />
    {/key}
  </LoadingWrapper>
{/if}`,hasArgs:!1}},allocatedIds:["default","LoadingWrapper","Story","DatawrapperIframe","BasicDropdown","Button"]},se),Ce=A.meta,we=["Dropdown","Buttons","Loading"],Le=A.stories.Dropdown,De=A.stories.Buttons,ke=A.stories.Loading;export{De as Buttons,Le as Dropdown,ke as Loading,we as __namedExportsOrder,Ce as default};
