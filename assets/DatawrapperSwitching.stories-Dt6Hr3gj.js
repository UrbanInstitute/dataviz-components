import{S as U,i as j,s as I,c as g,a as h,m as w,t as f,b as $,d as C,e as G,f as O,g as F,h as S,n as Q,j as A,k as z}from"./index-Dy1J9qof.js";import{s as b,c as k,i as m,d as _,m as L,t as B,g as v}from"./lifecycle-mCW1c9RL.js";import{L as K}from"./LoadingWrapper-CBHI7ntG.js";import{p as P,S as M}from"./collect-stories-DS3D1-He.js";import{D as W}from"./DatawrapperIframe-DXnIm9vI.js";import{B as R}from"./BasicDropdown-D5Xnl74M.js";import{B as D}from"./Button-EJV1Zdii.js";import"./urbanColors-BkxYcPwH.js";import"./LogoUrbanAnimated-ww49eVg9.js";import"./spread-CgU5AtxT.js";import"./each-CjkgdRJJ.js";function E(o){let e,a;return e=new W({props:{datawrapperId:o[1].value,title:o[1].label,ariaLabel:o[1].ariaLabel}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,l){w(e,t,l),a=!0},p(t,l){const p={};l&2&&(p.datawrapperId=t[1].value),l&2&&(p.title=t[1].label),l&2&&(p.ariaLabel=t[1].ariaLabel),e.$set(p)},i(t){a||(f(e.$$.fragment,t),a=!0)},o(t){$(e.$$.fragment,t),a=!1},d(t){C(e,t)}}}function V(o){let e,a,t,l=o[0],p,c;function i(r){o[3](r)}let d={id:"dropdown",data:o[2],inlineLabel:"Dropdown",placeholder:null};o[0]!==void 0&&(d.value=o[0]),e=new R({props:d}),G.push(()=>O(e,"value",i));let s=E(o);return{c(){g(e.$$.fragment),t=b(),s.c(),p=L()},l(r){h(e.$$.fragment,r),t=k(r),s.l(r),p=L()},m(r,n){w(e,r,n),m(r,t,n),s.m(r,n),m(r,p,n),c=!0},p(r,n){const u={};!a&&n&1&&(a=!0,u.value=r[0],F(()=>a=!1)),e.$set(u),n&1&&I(l,l=r[0])?(S(),$(s,1,1,Q),A(),s=E(r),s.c(),f(s,1),s.m(p.parentNode,p)):s.p(r,n)},i(r){c||(f(e.$$.fragment,r),f(s),c=!0)},o(r){$(e.$$.fragment,r),$(s),c=!1},d(r){r&&(_(t),_(p)),C(e,r),s.d(r)}}}function X(o){let e;return{c(){e=B("Chart #1")},l(a){e=v(a,"Chart #1")},m(a,t){m(a,e,t)},d(a){a&&_(e)}}}function Y(o){let e;return{c(){e=B("Chart #2")},l(a){e=v(a,"Chart #2")},m(a,t){m(a,e,t)},d(a){a&&_(e)}}}function Z(o){let e;return{c(){e=B("Chart #3")},l(a){e=v(a,"Chart #3")},m(a,t){m(a,e,t)},d(a){a&&_(e)}}}function N(o){let e,a;return e=new W({props:{datawrapperId:o[0]}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,l){w(e,t,l),a=!0},p(t,l){const p={};l&1&&(p.datawrapperId=t[0]),e.$set(p)},i(t){a||(f(e.$$.fragment,t),a=!0)},o(t){$(e.$$.fragment,t),a=!1},d(t){C(e,t)}}}function x(o){let e,a,t,l,p,c,i=o[0],d,s;e=new D({props:{$$slots:{default:[X]},$$scope:{ctx:o}}}),e.$on("click",o[4]),t=new D({props:{$$slots:{default:[Y]},$$scope:{ctx:o}}}),t.$on("click",o[5]),p=new D({props:{$$slots:{default:[Z]},$$scope:{ctx:o}}}),p.$on("click",o[6]);let r=N(o);return{c(){g(e.$$.fragment),a=b(),g(t.$$.fragment),l=b(),g(p.$$.fragment),c=b(),r.c(),d=L()},l(n){h(e.$$.fragment,n),a=k(n),h(t.$$.fragment,n),l=k(n),h(p.$$.fragment,n),c=k(n),r.l(n),d=L()},m(n,u){w(e,n,u),m(n,a,u),w(t,n,u),m(n,l,u),w(p,n,u),m(n,c,u),r.m(n,u),m(n,d,u),s=!0},p(n,u){const q={};u&2048&&(q.$$scope={dirty:u,ctx:n}),e.$set(q);const H={};u&2048&&(H.$$scope={dirty:u,ctx:n}),t.$set(H);const J={};u&2048&&(J.$$scope={dirty:u,ctx:n}),p.$set(J),u&1&&I(i,i=n[0])?(S(),$(r,1,1,Q),A(),r=N(n),r.c(),f(r,1),r.m(d.parentNode,d)):r.p(n,u)},i(n){s||(f(e.$$.fragment,n),f(t.$$.fragment,n),f(p.$$.fragment,n),f(r),s=!0)},o(n){$(e.$$.fragment,n),$(t.$$.fragment,n),$(p.$$.fragment,n),$(r),s=!1},d(n){n&&(_(a),_(l),_(c),_(d)),C(e,n),C(t,n),C(p,n),r.d(n)}}}function ee(o){let e;return{c(){e=B("Chart #1")},l(a){e=v(a,"Chart #1")},m(a,t){m(a,e,t)},d(a){a&&_(e)}}}function te(o){let e;return{c(){e=B("Chart #2")},l(a){e=v(a,"Chart #2")},m(a,t){m(a,e,t)},d(a){a&&_(e)}}}function ae(o){let e,a;return e=new W({props:{datawrapperId:oe}}),e.$on("startrender",function(){z(o[10])&&o[10].apply(this,arguments)}),e.$on("visrendered",function(){z(o[9])&&o[9].apply(this,arguments)}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,l){w(e,t,l),a=!0},p(t,l){o=t},i(t){a||(f(e.$$.fragment,t),a=!0)},o(t){$(e.$$.fragment,t),a=!1},d(t){C(e,t)}}}function T(o){let e,a;return e=new K({props:{$$slots:{default:[ae,({setChildLoaded:t,setChildLoading:l})=>({9:t,10:l}),({setChildLoaded:t,setChildLoading:l})=>(t?512:0)|(l?1024:0)]},$$scope:{ctx:o}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,l){w(e,t,l),a=!0},p(t,l){const p={};l&3584&&(p.$$scope={dirty:l,ctx:t}),e.$set(p)},i(t){a||(f(e.$$.fragment,t),a=!0)},o(t){$(e.$$.fragment,t),a=!1},d(t){C(e,t)}}}function re(o){let e,a,t,l,p=o[0],c,i;e=new D({props:{$$slots:{default:[ee]},$$scope:{ctx:o}}}),e.$on("click",o[7]),t=new D({props:{$$slots:{default:[te]},$$scope:{ctx:o}}}),t.$on("click",o[8]);let d=T(o);return{c(){g(e.$$.fragment),a=b(),g(t.$$.fragment),l=b(),d.c(),c=L()},l(s){h(e.$$.fragment,s),a=k(s),h(t.$$.fragment,s),l=k(s),d.l(s),c=L()},m(s,r){w(e,s,r),m(s,a,r),w(t,s,r),m(s,l,r),d.m(s,r),m(s,c,r),i=!0},p(s,r){const n={};r&2048&&(n.$$scope={dirty:r,ctx:s}),e.$set(n);const u={};r&2048&&(u.$$scope={dirty:r,ctx:s}),t.$set(u),r&1&&I(p,p=s[0])?(S(),$(d,1,1,Q),A(),d=T(s),d.c(),f(d,1),d.m(c.parentNode,c)):d.p(s,r)},i(s){i||(f(e.$$.fragment,s),f(t.$$.fragment,s),f(d),i=!0)},o(s){$(e.$$.fragment,s),$(t.$$.fragment,s),$(d),i=!1},d(s){s&&(_(a),_(l),_(c)),C(e,s),C(t,s),d.d(s)}}}function ne(o){let e,a,t,l,p,c;return e=new M({props:{name:"Dropdown",source:`
<script>
  import { BasicDropdown, DatawrapperIframe } from "@urbaninstitute/dataviz-components";
  let selectedChart;

  // look up metadata based on selected chart
  $: selectedChartMetadata = dropdownData.find((d) => d.value === selectedChart);

  const dropdownData = [
    {
      value: "AHpJL",
      label: "Chart #1",
      ariaLabel: "Quis id magna ut esse qui nostrud magna."
    },
    {
      value: "91Q0t",
      label: "Chart #2",
      ariaLabel: "Quis id magna ut esse qui nostrud magna."
    },
    {
      value: "eaD2D",
      label: "Chart #3",
      ariaLabel: "Quis id magna ut esse qui nostrud magna."
    }
  ];
<\/script>

<BasicDropdown
  id="dropdown"
  data={dropdownData}
  inlineLabel="Dropdown"
  bind:value={selectedChart}
  placeholder={null}
/>

{#key selectedChart}
  <DatawrapperIframe
    datawrapperId={selectedChartMetadata.value}
    title={selectedChartMetadata.label}
    ariaLabel={selectedChartMetadata.ariaLabel}
  />
{/key}
`,$$slots:{default:[V]},$$scope:{ctx:o}}}),t=new M({props:{name:"Buttons",source:`
<script>
  import { Button, DatawrapperIframe } from "@urbaninstitute/dataviz-components";
  // see first code chunk for setup
<\/script>

<Button on:click={() => (selectedChart = "AHpJL")}>Chart #1</Button>
<Button on:click={() => (selectedChart = "91Q0t")}>Chart #2</Button>
<Button on:click={() => (selectedChart = "eaD2D")}>Chart #3</Button>

{#key selectedChart}
  <DatawrapperIframe
    datawrapperId={selectedChartMetadata.value}
    title={selectedChartMetadata.label}
    ariaLabel={selectedChartMetadata.ariaLabel}
  />
{/key}
  `,$$slots:{default:[x]},$$scope:{ctx:o}}}),p=new M({props:{name:"Loading",source:`
<script>
  import { Button, DatawrapperIframe, LoadingWrapper } from "@urbaninstitute/dataviz-components";
  // see first code chunk for setup
<\/script>

<Button on:click={() => (selectedChart = "Toh1S")}>Chart #1</Button>
<Button on:click={() => (selectedChart = "rgLU1")}>Chart #2</Button>

{#key selectedChart}
  <LoadingWrapper let:setChildLoaded let:setChildLoading>
    <DatawrapperIframe
      datawrapperId={selectedChartMetadata.value}
      title={selectedChartMetadata.label}
      ariaLabel={selectedChartMetadata.ariaLabel}
      on:startrender={setChildLoading}
      on:visrendered={setChildLoaded}
    />
  </LoadingWrapper>
{/key}
`,$$slots:{default:[re]},$$scope:{ctx:o}}}),{c(){g(e.$$.fragment),a=b(),g(t.$$.fragment),l=b(),g(p.$$.fragment)},l(i){h(e.$$.fragment,i),a=k(i),h(t.$$.fragment,i),l=k(i),h(p.$$.fragment,i)},m(i,d){w(e,i,d),m(i,a,d),w(t,i,d),m(i,l,d),w(p,i,d),c=!0},p(i,[d]){const s={};d&2051&&(s.$$scope={dirty:d,ctx:i}),e.$set(s);const r={};d&2049&&(r.$$scope={dirty:d,ctx:i}),t.$set(r);const n={};d&2049&&(n.$$scope={dirty:d,ctx:i}),p.$set(n)},i(i){c||(f(e.$$.fragment,i),f(t.$$.fragment,i),f(p.$$.fragment,i),c=!0)},o(i){$(e.$$.fragment,i),$(t.$$.fragment,i),$(p.$$.fragment,i),c=!1},d(i){i&&(_(a),_(l)),C(e,i),C(t,i),C(p,i)}}}const se={title:"Examples/Stories/Datawrapper Switching"};let oe="WsGs1";function le(o,e,a){let t,l="AHpJL";const p=[{value:"AHpJL",label:"Chart #1",ariaLabel:"Quis id magna ut esse qui nostrud magna."},{value:"91Q0t",label:"Chart #2",ariaLabel:"Quis id magna ut esse qui nostrud magna."},{value:"eaD2D",label:"Chart #3",ariaLabel:"Quis id magna ut esse qui nostrud magna."}];function c(u){l=u,a(0,l)}const i=()=>a(0,l="AHpJL"),d=()=>a(0,l="91Q0t"),s=()=>a(0,l="eaD2D"),r=()=>a(0,l="Toh1S"),n=()=>a(0,l="rgLU1");return o.$$.update=()=>{o.$$.dirty&1&&a(1,t=p.find(u=>u.value===l))},[l,t,p,c,i,d,s,r,n]}class pe extends U{constructor(e){super(),j(this,e,le,ne,I,{})}}const y=P(pe,{meta:{title:"Examples/Stories/Datawrapper Switching"},stories:{Dropdown:{name:"Dropdown",template:!1,source:`<BasicDropdown
  id="dropdown"
  data={dropdownData}
  inlineLabel="Dropdown"
  bind:value={selectedChart}
  placeholder={null}
/>
{#key selectedChart}
  <DatawrapperIframe
    datawrapperId={selectedChartMetadata.value}
    title={selectedChartMetadata.label}
    ariaLabel={selectedChartMetadata.ariaLabel}
  />
{/key}`,hasArgs:!1},Buttons:{name:"Buttons",template:!1,source:`<Button on:click={() => (selectedChart = "AHpJL")}>Chart #1</Button>
<Button on:click={() => (selectedChart = "91Q0t")}>Chart #2</Button>
<Button on:click={() => (selectedChart = "eaD2D")}>Chart #3</Button>
{#key selectedChart}
  <DatawrapperIframe datawrapperId={selectedChart} />
{/key}`,hasArgs:!1},Loading:{name:"Loading",template:!1,source:`<Button on:click={() => (selectedChart = "Toh1S")}>Chart #1</Button>
<Button on:click={() => (selectedChart = "rgLU1")}>Chart #2</Button>

{#key selectedChart}
  <LoadingWrapper let:setChildLoaded let:setChildLoading>
    <DatawrapperIframe
      datawrapperId={selectedChartLoading}
      on:startrender={setChildLoading}
      on:visrendered={setChildLoaded}
    />
  </LoadingWrapper>
{/key}`,hasArgs:!1}},allocatedIds:["default","LoadingWrapper","Story","DatawrapperIframe","BasicDropdown","Button"]},se),Ce=y.meta,be=["Dropdown","Buttons","Loading"],ke=y.stories.Dropdown,Le=y.stories.Buttons,De=y.stories.Loading;export{Le as Buttons,ke as Dropdown,De as Loading,be as __namedExportsOrder,Ce as default};
