var fr=Object.defineProperty;var Ne=t=>{throw TypeError(t)};var hr=(t,n,e)=>n in t?fr(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var pn=(t,n,e)=>hr(t,typeof n!="symbol"?n+"":n,e),Ve=(t,n,e)=>n.has(t)||Ne("Cannot "+e);var J=(t,n,e)=>(Ve(t,n,"read from private field"),e?e.call(t):n.get(t)),_t=(t,n,e)=>n.has(t)?Ne("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,e),Un=(t,n,e,i)=>(Ve(t,n,"write to private field"),i?i.call(t,e):n.set(t,e),e);import{bi as Xn,a7 as On,m as kn,bh as yi,T as Mt,i as G,Z as vt,a6 as Ie,R as mi,p as _i,g as $,f as cn,y as Jt,x as Rt,c as Yt,s as Vt,t as te,b as bt,d as wi,z as pr,a5 as qe,Y as dr,Q as De,a as Fe}from"./iframe-BjxEKEQH.js";import{s as ht}from"./attributes-UJeNkN1P.js";import{s as ki}from"./class-B9SFUanI.js";import{s as vr}from"./style-CNURdi_Z.js";import{b as gr}from"./size-C1syiTDZ.js";import{b as yr}from"./this-DGLcOT4Q.js";import{i as xt,a as Xe,b as mr,d as Oe}from"./string-BqOgh9tw.js";import{T as _r}from"./Tooltip-DQtD7qmK.js";const jt=Symbol("MatchMediaContext"),wr="(prefers-reduced-motion: reduce)";var on,St;class kr{constructor(){_t(this,on,Mt(!1));_t(this,St,null);typeof window<"u"&&(Un(this,St,window.matchMedia(wr)),this.reducedMotion=J(this,St).matches)}get reducedMotion(){return G(J(this,on))}set reducedMotion(n){vt(J(this,on),n,!0)}listen(){if(!J(this,St))return()=>{};const n=e=>{this.reducedMotion=e.matches};return J(this,St).addEventListener("change",n),()=>J(this,St).removeEventListener("change",n)}}on=new WeakMap,St=new WeakMap;function Sr(){if(Xn(jt))return On(jt);const t=new kr;return kn(()=>t.listen()),yi(jt,t),t}function Er(){return Xn(jt)?On(jt):Sr()}class Ct{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const o=e[r],a=n+o,l=Math.abs(n)<Math.abs(o)?n-(a-o):o-(a-n);l&&(e[i++]=l),n=a}return e[i]=n,this._n=i+1,this}valueOf(){const n=this._partials;let e=this._n,i,r,o,a=0;if(e>0){for(a=n[--e];e>0&&(i=a,r=n[--e],a=i+r,o=r-(a-i),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(r=o*2,i=a+r,r==i-a&&(a=i))}return a}}function*xr(t){for(const n of t)yield*n}function Si(t){return Array.from(xr(t))}var D=1e-6,I=Math.PI,rt=I/2,Ze=I/4,at=I*2,j=180/I,U=I/180,B=Math.abs,Mr=Math.atan,It=Math.atan2,W=Math.cos,Nu=Math.exp,Vu=Math.log,X=Math.sin,Sn=Math.sign||function(t){return t>0?1:t<0?-1:0},yt=Math.sqrt,Iu=Math.tan;function br(t){return t>1?0:t<-1?I:Math.acos(t)}function At(t){return t>1?rt:t<-1?-rt:Math.asin(t)}function ot(){}function Cn(t,n){t&&Be.hasOwnProperty(t.type)&&Be[t.type](t,n)}var He={Feature:function(t,n){Cn(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,i=-1,r=e.length;++i<r;)Cn(e[i].geometry,n)}},Be={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)t=e[i],n.point(t[0],t[1],t[2])},LineString:function(t,n){ne(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)ne(e[i],n,0)},Polygon:function(t,n){Ye(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)Ye(e[i],n)},GeometryCollection:function(t,n){for(var e=t.geometries,i=-1,r=e.length;++i<r;)Cn(e[i],n)}};function ne(t,n,e){var i=-1,r=t.length-e,o;for(n.lineStart();++i<r;)o=t[i],n.point(o[0],o[1],o[2]);n.lineEnd()}function Ye(t,n){var e=-1,i=t.length;for(n.polygonStart();++e<i;)ne(t[e],n,1);n.polygonEnd()}function Lt(t,n){t&&He.hasOwnProperty(t.type)?He[t.type](t,n):Cn(t,n)}function ee(t){return[It(t[1],t[0]),At(t[2])]}function qt(t){var n=t[0],e=t[1],i=W(e);return[i*W(n),i*X(n),X(e)]}function dn(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function An(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Kn(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function vn(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function ie(t){var n=yt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function re(t,n){function e(i,r){return i=t(i,r),n(i[0],i[1])}return t.invert&&n.invert&&(e.invert=function(i,r){return i=n.invert(i,r),i&&t.invert(i[0],i[1])}),e}function oe(t,n){return B(t)>I&&(t-=Math.round(t/at)*at),[t,n]}oe.invert=oe;function Ei(t,n,e){return(t%=at)?n||e?re(We(t),Ue(n,e)):We(t):n||e?Ue(n,e):oe}function Ge(t){return function(n,e){return n+=t,B(n)>I&&(n-=Math.round(n/at)*at),[n,e]}}function We(t){var n=Ge(t);return n.invert=Ge(-t),n}function Ue(t,n){var e=W(t),i=X(t),r=W(n),o=X(n);function a(l,f){var s=W(f),u=W(l)*s,p=X(l)*s,c=X(f),h=c*e+u*i;return[It(p*r-h*o,u*e-c*i),At(h*r+p*o)]}return a.invert=function(l,f){var s=W(f),u=W(l)*s,p=X(l)*s,c=X(f),h=c*r-p*o;return[It(p*r+c*o,u*e+h*i),At(h*e-u*i)]},a}function qu(t){t=Ei(t[0]*U,t[1]*U,t.length>2?t[2]*U:0);function n(e){return e=t(e[0]*U,e[1]*U),e[0]*=j,e[1]*=j,e}return n.invert=function(e){return e=t.invert(e[0]*U,e[1]*U),e[0]*=j,e[1]*=j,e},n}function zr(t,n,e,i,r,o){if(e){var a=W(n),l=X(n),f=i*e;r==null?(r=n+i*at,o=n-f/2):(r=Ke(a,r),o=Ke(a,o),(i>0?r<o:r>o)&&(r+=i*at));for(var s,u=r;i>0?u>o:u<o;u-=f)s=ee([a,-l*W(u),-l*X(u)]),t.point(s[0],s[1])}}function Ke(t,n){n=qt(n),n[0]-=t,ie(n);var e=br(-n[1]);return((-n[2]<0?-e:e)+at-D)%at}function xi(){var t=[],n;return{point:function(e,i,r){n.push([e,i,r])},lineStart:function(){t.push(n=[])},lineEnd:ot,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function En(t,n){return B(t[0]-n[0])<D&&B(t[1]-n[1])<D}function gn(t,n,e,i){this.x=t,this.z=n,this.o=e,this.e=i,this.v=!1,this.n=this.p=null}function Mi(t,n,e,i,r){var o=[],a=[],l,f;if(t.forEach(function(g){if(!((m=g.length-1)<=0)){var m,_=g[0],w=g[m],E;if(En(_,w)){if(!_[2]&&!w[2]){for(r.lineStart(),l=0;l<m;++l)r.point((_=g[l])[0],_[1]);r.lineEnd();return}w[0]+=2*D}o.push(E=new gn(_,g,null,!0)),a.push(E.o=new gn(_,null,E,!1)),o.push(E=new gn(w,g,null,!1)),a.push(E.o=new gn(w,null,E,!0))}}),!!o.length){for(a.sort(n),$e(o),$e(a),l=0,f=a.length;l<f;++l)a[l].e=e=!e;for(var s=o[0],u,p;;){for(var c=s,h=!0;c.v;)if((c=c.n)===s)return;u=c.z,r.lineStart();do{if(c.v=c.o.v=!0,c.e){if(h)for(l=0,f=u.length;l<f;++l)r.point((p=u[l])[0],p[1]);else i(c.x,c.n.x,1,r);c=c.n}else{if(h)for(u=c.p.z,l=u.length-1;l>=0;--l)r.point((p=u[l])[0],p[1]);else i(c.x,c.p.x,-1,r);c=c.p}c=c.o,u=c.z,h=!h}while(!c.v);r.lineEnd()}}}function $e(t){if(n=t.length){for(var n,e=0,i=t[0],r;++e<n;)i.n=r=t[e],r.p=i,i=r;i.n=r=t[0],r.p=i}}function $n(t){return B(t[0])<=I?t[0]:Sn(t[0])*((B(t[0])+I)%at-I)}function Cr(t,n){var e=$n(n),i=n[1],r=X(i),o=[X(e),-W(e),0],a=0,l=0,f=new Ct;r===1?i=rt+D:r===-1&&(i=-rt-D);for(var s=0,u=t.length;s<u;++s)if(c=(p=t[s]).length)for(var p,c,h=p[c-1],g=$n(h),m=h[1]/2+Ze,_=X(m),w=W(m),E=0;E<c;++E,g=k,_=z,w=R,h=x){var x=p[E],k=$n(x),b=x[1]/2+Ze,z=X(b),R=W(b),N=k-g,P=N>=0?1:-1,V=P*N,T=V>I,Q=_*z;if(f.add(It(Q*P*X(V),w*R+Q*W(V))),a+=T?N+P*at:N,T^g>=e^k>=e){var O=An(qt(h),qt(x));ie(O);var d=An(o,O);ie(d);var v=(T^N>=0?-1:1)*At(d[2]);(i>v||i===v&&(O[0]||O[1]))&&(l+=T^N>=0?1:-1)}}return(a<-1e-6||a<D&&f<-1e-12)^l&1}function bi(t,n,e,i){return function(r){var o=n(r),a=xi(),l=n(a),f=!1,s,u,p,c={point:h,lineStart:m,lineEnd:_,polygonStart:function(){c.point=w,c.lineStart=E,c.lineEnd=x,u=[],s=[]},polygonEnd:function(){c.point=h,c.lineStart=m,c.lineEnd=_,u=Si(u);var k=Cr(s,i);u.length?(f||(r.polygonStart(),f=!0),Mi(u,Tr,k,e,r)):k&&(f||(r.polygonStart(),f=!0),r.lineStart(),e(null,null,1,r),r.lineEnd()),f&&(r.polygonEnd(),f=!1),u=s=null},sphere:function(){r.polygonStart(),r.lineStart(),e(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function h(k,b){t(k,b)&&r.point(k,b)}function g(k,b){o.point(k,b)}function m(){c.point=g,o.lineStart()}function _(){c.point=h,o.lineEnd()}function w(k,b){p.push([k,b]),l.point(k,b)}function E(){l.lineStart(),p=[]}function x(){w(p[0][0],p[0][1]),l.lineEnd();var k=l.clean(),b=a.result(),z,R=b.length,N,P,V;if(p.pop(),s.push(p),p=null,!!R){if(k&1){if(P=b[0],(N=P.length-1)>0){for(f||(r.polygonStart(),f=!0),r.lineStart(),z=0;z<N;++z)r.point((V=P[z])[0],V[1]);r.lineEnd()}return}R>1&&k&2&&b.push(b.pop().concat(b.shift())),u.push(b.filter(Ar))}}return c}}function Ar(t){return t.length>1}function Tr(t,n){return((t=t.x)[0]<0?t[1]-rt-D:rt-t[1])-((n=n.x)[0]<0?n[1]-rt-D:rt-n[1])}const Qe=bi(function(){return!0},Pr,Lr,[-I,-rt]);function Pr(t){var n=NaN,e=NaN,i=NaN,r;return{lineStart:function(){t.lineStart(),r=1},point:function(o,a){var l=o>0?I:-I,f=B(o-n);B(f-I)<D?(t.point(n,e=(e+a)/2>0?rt:-rt),t.point(i,e),t.lineEnd(),t.lineStart(),t.point(l,e),t.point(o,e),r=0):i!==l&&f>=I&&(B(n-i)<D&&(n-=i*D),B(o-l)<D&&(o-=l*D),e=Rr(n,e,o,a),t.point(i,e),t.lineEnd(),t.lineStart(),t.point(l,e),r=0),t.point(n=o,e=a),i=l},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-r}}}function Rr(t,n,e,i){var r,o,a=X(t-e);return B(a)>D?Mr((X(n)*(o=W(i))*X(e)-X(i)*(r=W(n))*X(t))/(r*o*a)):(n+i)/2}function Lr(t,n,e,i){var r;if(t==null)r=e*rt,i.point(-I,r),i.point(0,r),i.point(I,r),i.point(I,0),i.point(I,-r),i.point(0,-r),i.point(-I,-r),i.point(-I,0),i.point(-I,r);else if(B(t[0]-n[0])>D){var o=t[0]<n[0]?I:-I;r=e*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(n[0],n[1])}function Nr(t){var n=W(t),e=2*U,i=n>0,r=B(n)>D;function o(u,p,c,h){zr(h,t,e,c,u,p)}function a(u,p){return W(u)*W(p)>n}function l(u){var p,c,h,g,m;return{lineStart:function(){g=h=!1,m=1},point:function(_,w){var E=[_,w],x,k=a(_,w),b=i?k?0:s(_,w):k?s(_+(_<0?I:-I),w):0;if(!p&&(g=h=k)&&u.lineStart(),k!==h&&(x=f(p,E),(!x||En(p,x)||En(E,x))&&(E[2]=1)),k!==h)m=0,k?(u.lineStart(),x=f(E,p),u.point(x[0],x[1])):(x=f(p,E),u.point(x[0],x[1],2),u.lineEnd()),p=x;else if(r&&p&&i^k){var z;!(b&c)&&(z=f(E,p,!0))&&(m=0,i?(u.lineStart(),u.point(z[0][0],z[0][1]),u.point(z[1][0],z[1][1]),u.lineEnd()):(u.point(z[1][0],z[1][1]),u.lineEnd(),u.lineStart(),u.point(z[0][0],z[0][1],3)))}k&&(!p||!En(p,E))&&u.point(E[0],E[1]),p=E,h=k,c=b},lineEnd:function(){h&&u.lineEnd(),p=null},clean:function(){return m|(g&&h)<<1}}}function f(u,p,c){var h=qt(u),g=qt(p),m=[1,0,0],_=An(h,g),w=dn(_,_),E=_[0],x=w-E*E;if(!x)return!c&&u;var k=n*w/x,b=-n*E/x,z=An(m,_),R=vn(m,k),N=vn(_,b);Kn(R,N);var P=z,V=dn(R,P),T=dn(P,P),Q=V*V-T*(dn(R,R)-1);if(!(Q<0)){var O=yt(Q),d=vn(P,(-V-O)/T);if(Kn(d,R),d=ee(d),!c)return d;var v=u[0],y=p[0],S=u[1],M=p[1],C;y<v&&(C=v,v=y,y=C);var A=y-v,L=B(A-I)<D,q=L||A<D;if(!L&&M<S&&(C=S,S=M,M=C),q?L?S+M>0^d[1]<(B(d[0]-v)<D?S:M):S<=d[1]&&d[1]<=M:A>I^(v<=d[0]&&d[0]<=y)){var F=vn(P,(-V+O)/T);return Kn(F,R),[d,ee(F)]}}}function s(u,p){var c=i?t:I-t,h=0;return u<-c?h|=1:u>c&&(h|=2),p<-c?h|=4:p>c&&(h|=8),h}return bi(a,l,o,i?[0,-t]:[-I,t-I])}function Vr(t,n,e,i,r,o){var a=t[0],l=t[1],f=n[0],s=n[1],u=0,p=1,c=f-a,h=s-l,g;if(g=e-a,!(!c&&g>0)){if(g/=c,c<0){if(g<u)return;g<p&&(p=g)}else if(c>0){if(g>p)return;g>u&&(u=g)}if(g=r-a,!(!c&&g<0)){if(g/=c,c<0){if(g>p)return;g>u&&(u=g)}else if(c>0){if(g<u)return;g<p&&(p=g)}if(g=i-l,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<p&&(p=g)}else if(h>0){if(g>p)return;g>u&&(u=g)}if(g=o-l,!(!h&&g<0)){if(g/=h,h<0){if(g>p)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<p&&(p=g)}return u>0&&(t[0]=a+u*c,t[1]=l+u*h),p<1&&(n[0]=a+p*c,n[1]=l+p*h),!0}}}}}var yn=1e9,mn=-1e9;function Ir(t,n,e,i){function r(s,u){return t<=s&&s<=e&&n<=u&&u<=i}function o(s,u,p,c){var h=0,g=0;if(s==null||(h=a(s,p))!==(g=a(u,p))||f(s,u)<0^p>0)do c.point(h===0||h===3?t:e,h>1?i:n);while((h=(h+p+4)%4)!==g);else c.point(u[0],u[1])}function a(s,u){return B(s[0]-t)<D?u>0?0:3:B(s[0]-e)<D?u>0?2:1:B(s[1]-n)<D?u>0?1:0:u>0?3:2}function l(s,u){return f(s.x,u.x)}function f(s,u){var p=a(s,1),c=a(u,1);return p!==c?p-c:p===0?u[1]-s[1]:p===1?s[0]-u[0]:p===2?s[1]-u[1]:u[0]-s[0]}return function(s){var u=s,p=xi(),c,h,g,m,_,w,E,x,k,b,z,R={point:N,lineStart:Q,lineEnd:O,polygonStart:V,polygonEnd:T};function N(v,y){r(v,y)&&u.point(v,y)}function P(){for(var v=0,y=0,S=h.length;y<S;++y)for(var M=h[y],C=1,A=M.length,L=M[0],q,F,Z=L[0],K=L[1];C<A;++C)q=Z,F=K,L=M[C],Z=L[0],K=L[1],F<=i?K>i&&(Z-q)*(i-F)>(K-F)*(t-q)&&++v:K<=i&&(Z-q)*(i-F)<(K-F)*(t-q)&&--v;return v}function V(){u=p,c=[],h=[],z=!0}function T(){var v=P(),y=z&&v,S=(c=Si(c)).length;(y||S)&&(s.polygonStart(),y&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),S&&Mi(c,l,v,o,s),s.polygonEnd()),u=s,c=h=g=null}function Q(){R.point=d,h&&h.push(g=[]),b=!0,k=!1,E=x=NaN}function O(){c&&(d(m,_),w&&k&&p.rejoin(),c.push(p.result())),R.point=N,k&&u.lineEnd()}function d(v,y){var S=r(v,y);if(h&&g.push([v,y]),b)m=v,_=y,w=S,b=!1,S&&(u.lineStart(),u.point(v,y));else if(S&&k)u.point(v,y);else{var M=[E=Math.max(mn,Math.min(yn,E)),x=Math.max(mn,Math.min(yn,x))],C=[v=Math.max(mn,Math.min(yn,v)),y=Math.max(mn,Math.min(yn,y))];Vr(M,C,t,n,e,i)?(k||(u.lineStart(),u.point(M[0],M[1])),u.point(C[0],C[1]),S||u.lineEnd(),z=!1):S&&(u.lineStart(),u.point(v,y),z=!1)}E=v,x=y,k=S}return R}}const ae=t=>t;var Qn=new Ct,le=new Ct,zi,Ci,ue,se,dt={point:ot,lineStart:ot,lineEnd:ot,polygonStart:function(){dt.lineStart=qr,dt.lineEnd=Fr},polygonEnd:function(){dt.lineStart=dt.lineEnd=dt.point=ot,Qn.add(B(le)),le=new Ct},result:function(){var t=Qn/2;return Qn=new Ct,t}};function qr(){dt.point=Dr}function Dr(t,n){dt.point=Ai,zi=ue=t,Ci=se=n}function Ai(t,n){le.add(se*t-ue*n),ue=t,se=n}function Fr(){Ai(zi,Ci)}var Dt=1/0,Tn=Dt,nn=-Dt,Pn=nn,Rn={point:Xr,lineStart:ot,lineEnd:ot,polygonStart:ot,polygonEnd:ot,result:function(){var t=[[Dt,Tn],[nn,Pn]];return nn=Pn=-(Tn=Dt=1/0),t}};function Xr(t,n){t<Dt&&(Dt=t),t>nn&&(nn=t),n<Tn&&(Tn=n),n>Pn&&(Pn=n)}var ce=0,fe=0,Gt=0,Ln=0,Nn=0,Nt=0,he=0,pe=0,Wt=0,Ti,Pi,st,ct,it={point:Tt,lineStart:Je,lineEnd:je,polygonStart:function(){it.lineStart=Hr,it.lineEnd=Br},polygonEnd:function(){it.point=Tt,it.lineStart=Je,it.lineEnd=je},result:function(){var t=Wt?[he/Wt,pe/Wt]:Nt?[Ln/Nt,Nn/Nt]:Gt?[ce/Gt,fe/Gt]:[NaN,NaN];return ce=fe=Gt=Ln=Nn=Nt=he=pe=Wt=0,t}};function Tt(t,n){ce+=t,fe+=n,++Gt}function Je(){it.point=Or}function Or(t,n){it.point=Zr,Tt(st=t,ct=n)}function Zr(t,n){var e=t-st,i=n-ct,r=yt(e*e+i*i);Ln+=r*(st+t)/2,Nn+=r*(ct+n)/2,Nt+=r,Tt(st=t,ct=n)}function je(){it.point=Tt}function Hr(){it.point=Yr}function Br(){Ri(Ti,Pi)}function Yr(t,n){it.point=Ri,Tt(Ti=st=t,Pi=ct=n)}function Ri(t,n){var e=t-st,i=n-ct,r=yt(e*e+i*i);Ln+=r*(st+t)/2,Nn+=r*(ct+n)/2,Nt+=r,r=ct*t-st*n,he+=r*(st+t),pe+=r*(ct+n),Wt+=r*3,Tt(st=t,ct=n)}function Li(t){this._context=t}Li.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,at);break}}},result:ot};var de=new Ct,Jn,Ni,Vi,Ut,Kt,en={point:ot,lineStart:function(){en.point=Gr},lineEnd:function(){Jn&&Ii(Ni,Vi),en.point=ot},polygonStart:function(){Jn=!0},polygonEnd:function(){Jn=null},result:function(){var t=+de;return de=new Ct,t}};function Gr(t,n){en.point=Ii,Ni=Ut=t,Vi=Kt=n}function Ii(t,n){Ut-=t,Kt-=n,de.add(yt(Ut*Ut+Kt*Kt)),Ut=t,Kt=n}let ti,Vn,ni,ei;class ii{constructor(n){this._append=n==null?qi:Wr(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==ni||this._append!==Vn){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,ni=i,Vn=this._append,ei=this._,this._=r}this._+=ei;break}}}result(){const n=this._;return this._="",n.length?n:null}}function qi(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Wr(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return qi;if(n!==ti){const e=10**n;ti=n,Vn=function(r){let o=1;this._+=r[0];for(const a=r.length;o<a;++o)this._+=Math.round(arguments[o]*e)/e+r[o]}}return Vn}function Du(t,n){let e=3,i=4.5,r,o;function a(l){return l&&(typeof i=="function"&&o.pointRadius(+i.apply(this,arguments)),Lt(l,r(o))),o.result()}return a.area=function(l){return Lt(l,r(dt)),dt.result()},a.measure=function(l){return Lt(l,r(en)),en.result()},a.bounds=function(l){return Lt(l,r(Rn)),Rn.result()},a.centroid=function(l){return Lt(l,r(it)),it.result()},a.projection=function(l){return arguments.length?(r=l==null?(t=null,ae):(t=l).stream,a):t},a.context=function(l){return arguments.length?(o=l==null?(n=null,new ii(e)):new Li(n=l),typeof i!="function"&&o.pointRadius(i),a):n},a.pointRadius=function(l){return arguments.length?(i=typeof l=="function"?l:(o.pointRadius(+l),+l),a):i},a.digits=function(l){if(!arguments.length)return e;if(l==null)e=null;else{const f=Math.floor(l);if(!(f>=0))throw new RangeError(`invalid digits: ${l}`);e=f}return n===null&&(o=new ii(e)),a},a.projection(t).digits(e).context(n)}function xe(t){return function(n){var e=new ve;for(var i in t)e[i]=t[i];return e.stream=n,e}}function ve(){}ve.prototype={constructor:ve,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Me(t,n,e){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),i!=null&&t.clipExtent(null),Lt(e,t.stream(Rn)),n(Rn.result()),i!=null&&t.clipExtent(i),t}function be(t,n,e){return Me(t,function(i){var r=n[1][0]-n[0][0],o=n[1][1]-n[0][1],a=Math.min(r/(i[1][0]-i[0][0]),o/(i[1][1]-i[0][1])),l=+n[0][0]+(r-a*(i[1][0]+i[0][0]))/2,f=+n[0][1]+(o-a*(i[1][1]+i[0][1]))/2;t.scale(150*a).translate([l,f])},e)}function Di(t,n,e){return be(t,[[0,0],n],e)}function Fi(t,n,e){return Me(t,function(i){var r=+n,o=r/(i[1][0]-i[0][0]),a=(r-o*(i[1][0]+i[0][0]))/2,l=-o*i[0][1];t.scale(150*o).translate([a,l])},e)}function Xi(t,n,e){return Me(t,function(i){var r=+n,o=r/(i[1][1]-i[0][1]),a=-o*i[0][0],l=(r-o*(i[1][1]+i[0][1]))/2;t.scale(150*o).translate([a,l])},e)}var ri=16,Ur=W(30*U);function oi(t,n){return+n?$r(t,n):Kr(t)}function Kr(t){return xe({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function $r(t,n){function e(i,r,o,a,l,f,s,u,p,c,h,g,m,_){var w=s-i,E=u-r,x=w*w+E*E;if(x>4*n&&m--){var k=a+c,b=l+h,z=f+g,R=yt(k*k+b*b+z*z),N=At(z/=R),P=B(B(z)-1)<D||B(o-p)<D?(o+p)/2:It(b,k),V=t(P,N),T=V[0],Q=V[1],O=T-i,d=Q-r,v=E*O-w*d;(v*v/x>n||B((w*O+E*d)/x-.5)>.3||a*c+l*h+f*g<Ur)&&(e(i,r,o,a,l,f,T,Q,P,k/=R,b/=R,z,m,_),_.point(T,Q),e(T,Q,P,k,b,z,s,u,p,c,h,g,m,_))}}return function(i){var r,o,a,l,f,s,u,p,c,h,g,m,_={point:w,lineStart:E,lineEnd:k,polygonStart:function(){i.polygonStart(),_.lineStart=b},polygonEnd:function(){i.polygonEnd(),_.lineStart=E}};function w(N,P){N=t(N,P),i.point(N[0],N[1])}function E(){p=NaN,_.point=x,i.lineStart()}function x(N,P){var V=qt([N,P]),T=t(N,P);e(p,c,u,h,g,m,p=T[0],c=T[1],u=N,h=V[0],g=V[1],m=V[2],ri,i),i.point(p,c)}function k(){_.point=w,i.lineEnd()}function b(){E(),_.point=z,_.lineEnd=R}function z(N,P){x(r=N,P),o=p,a=c,l=h,f=g,s=m,_.point=x}function R(){e(p,c,u,h,g,m,o,a,r,l,f,s,ri,i),_.lineEnd=k,k()}return _}}var Qr=xe({point:function(t,n){this.stream.point(t*U,n*U)}});function Jr(t){return xe({point:function(n,e){var i=t(n,e);return this.stream.point(i[0],i[1])}})}function jr(t,n,e,i,r){function o(a,l){return a*=i,l*=r,[n+t*a,e-t*l]}return o.invert=function(a,l){return[(a-n)/t*i,(e-l)/t*r]},o}function ai(t,n,e,i,r,o){if(!o)return jr(t,n,e,i,r);var a=W(o),l=X(o),f=a*t,s=l*t,u=a/t,p=l/t,c=(l*e-a*n)/t,h=(l*n+a*e)/t;function g(m,_){return m*=i,_*=r,[f*m-s*_+n,e-s*m-f*_]}return g.invert=function(m,_){return[i*(u*m-p*_+c),r*(h-p*m-u*_)]},g}function Fu(t){return Oi(function(){return t})()}function Oi(t){var n,e=150,i=480,r=250,o=0,a=0,l=0,f=0,s=0,u,p=0,c=1,h=1,g=null,m=Qe,_=null,w,E,x,k=ae,b=.5,z,R,N,P,V;function T(v){return N(v[0]*U,v[1]*U)}function Q(v){return v=N.invert(v[0],v[1]),v&&[v[0]*j,v[1]*j]}T.stream=function(v){return P&&V===v?P:P=Qr(Jr(u)(m(z(k(V=v)))))},T.preclip=function(v){return arguments.length?(m=v,g=void 0,d()):m},T.postclip=function(v){return arguments.length?(k=v,_=w=E=x=null,d()):k},T.clipAngle=function(v){return arguments.length?(m=+v?Nr(g=v*U):(g=null,Qe),d()):g*j},T.clipExtent=function(v){return arguments.length?(k=v==null?(_=w=E=x=null,ae):Ir(_=+v[0][0],w=+v[0][1],E=+v[1][0],x=+v[1][1]),d()):_==null?null:[[_,w],[E,x]]},T.scale=function(v){return arguments.length?(e=+v,O()):e},T.translate=function(v){return arguments.length?(i=+v[0],r=+v[1],O()):[i,r]},T.center=function(v){return arguments.length?(o=v[0]%360*U,a=v[1]%360*U,O()):[o*j,a*j]},T.rotate=function(v){return arguments.length?(l=v[0]%360*U,f=v[1]%360*U,s=v.length>2?v[2]%360*U:0,O()):[l*j,f*j,s*j]},T.angle=function(v){return arguments.length?(p=v%360*U,O()):p*j},T.reflectX=function(v){return arguments.length?(c=v?-1:1,O()):c<0},T.reflectY=function(v){return arguments.length?(h=v?-1:1,O()):h<0},T.precision=function(v){return arguments.length?(z=oi(R,b=v*v),d()):yt(b)},T.fitExtent=function(v,y){return be(T,v,y)},T.fitSize=function(v,y){return Di(T,v,y)},T.fitWidth=function(v,y){return Fi(T,v,y)},T.fitHeight=function(v,y){return Xi(T,v,y)};function O(){var v=ai(e,0,0,c,h,p).apply(null,n(o,a)),y=ai(e,i-v[0],r-v[1],c,h,p);return u=Ei(l,f,s),R=re(n,y),N=re(u,R),z=oi(R,b),d()}function d(){return P=V=null,T}return function(){return n=t.apply(this,arguments),T.invert=n.invert&&Q,O()}}function to(t){var n=0,e=I/3,i=Oi(t),r=i(n,e);return r.parallels=function(o){return arguments.length?i(n=o[0]*U,e=o[1]*U):[n*j,e*j]},r}function no(t){var n=W(t);function e(i,r){return[i*n,X(r)/n]}return e.invert=function(i,r){return[i/n,At(r*n)]},e}function eo(t,n){var e=X(t),i=(e+X(n))/2;if(B(i)<D)return no(t);var r=1+e*(2*i-e),o=yt(r)/i;function a(l,f){var s=yt(r-2*i*X(f))/i;return[s*X(l*=i),o-s*W(l)]}return a.invert=function(l,f){var s=o-f,u=It(l,B(s))*Sn(s);return s*i<0&&(u-=I*Sn(l)*Sn(s)),[u/i,At((r-(l*l+s*s)*i*i)/(2*i))]},a}function ge(){return to(eo).scale(155.424).center([0,33.6442])}function io(){return ge().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function ro(t){var n=t.length;return{point:function(e,i){for(var r=-1;++r<n;)t[r].point(e,i)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function oo(){var t,n,e=io(),i,r=ge().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=ge().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l,f,s={point:function(c,h){f=[c,h]}};function u(c){var h=c[0],g=c[1];return f=null,i.point(h,g),f||(o.point(h,g),f)||(l.point(h,g),f)}u.invert=function(c){var h=e.scale(),g=e.translate(),m=(c[0]-g[0])/h,_=(c[1]-g[1])/h;return(_>=.12&&_<.234&&m>=-.425&&m<-.214?r:_>=.166&&_<.234&&m>=-.214&&m<-.115?a:e).invert(c)},u.stream=function(c){return t&&n===c?t:t=ro([e.stream(n=c),r.stream(c),a.stream(c)])},u.precision=function(c){return arguments.length?(e.precision(c),r.precision(c),a.precision(c),p()):e.precision()},u.scale=function(c){return arguments.length?(e.scale(c),r.scale(c*.35),a.scale(c),u.translate(e.translate())):e.scale()},u.translate=function(c){if(!arguments.length)return e.translate();var h=e.scale(),g=+c[0],m=+c[1];return i=e.translate(c).clipExtent([[g-.455*h,m-.238*h],[g+.455*h,m+.238*h]]).stream(s),o=r.translate([g-.307*h,m+.201*h]).clipExtent([[g-.425*h+D,m+.12*h+D],[g-.214*h-D,m+.234*h-D]]).stream(s),l=a.translate([g-.205*h,m+.212*h]).clipExtent([[g-.214*h+D,m+.166*h+D],[g-.115*h-D,m+.234*h-D]]).stream(s),p()},u.fitExtent=function(c,h){return be(u,c,h)},u.fitSize=function(c,h){return Di(u,c,h)},u.fitWidth=function(c,h){return Fi(u,c,h)},u.fitHeight=function(c,h){return Xi(u,c,h)};function p(){return t=n=null,u}return u.scale(1070)}var ao={value:()=>{}};function ze(){for(var t=0,n=arguments.length,e={},i;t<n;++t){if(!(i=arguments[t]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new xn(e)}function xn(t){this._=t}function lo(t,n){return t.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}xn.prototype=ze.prototype={constructor:xn,on:function(t,n){var e=this._,i=lo(t+"",e),r,o=-1,a=i.length;if(arguments.length<2){for(;++o<a;)if((r=(t=i[o]).type)&&(r=uo(e[r],t.name)))return r;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<a;)if(r=(t=i[o]).type)e[r]=li(e[r],t.name,n);else if(n==null)for(r in e)e[r]=li(e[r],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new xn(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var e=new Array(r),i=0,r,o;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(n,e)}};function uo(t,n){for(var e=0,i=t.length,r;e<i;++e)if((r=t[e]).name===n)return r.value}function li(t,n,e){for(var i=0,r=t.length;i<r;++i)if(t[i].name===n){t[i]=ao,t=t.slice(0,i).concat(t.slice(i+1));break}return e!=null&&t.push({name:n,value:e}),t}var ye="http://www.w3.org/1999/xhtml";const ui={svg:"http://www.w3.org/2000/svg",xhtml:ye,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Zn(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),ui.hasOwnProperty(n)?{space:ui[n],local:t}:t}function so(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===ye&&n.documentElement.namespaceURI===ye?n.createElement(t):n.createElementNS(e,t)}}function co(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Zi(t){var n=Zn(t);return(n.local?co:so)(n)}function fo(){}function Ce(t){return t==null?fo:function(){return this.querySelector(t)}}function ho(t){typeof t!="function"&&(t=Ce(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],a=o.length,l=i[r]=new Array(a),f,s,u=0;u<a;++u)(f=o[u])&&(s=t.call(f,f.__data__,u,o))&&("__data__"in f&&(s.__data__=f.__data__),l[u]=s);return new nt(i,this._parents)}function po(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function vo(){return[]}function Hi(t){return t==null?vo:function(){return this.querySelectorAll(t)}}function go(t){return function(){return po(t.apply(this,arguments))}}function yo(t){typeof t=="function"?t=go(t):t=Hi(t);for(var n=this._groups,e=n.length,i=[],r=[],o=0;o<e;++o)for(var a=n[o],l=a.length,f,s=0;s<l;++s)(f=a[s])&&(i.push(t.call(f,f.__data__,s,a)),r.push(f));return new nt(i,r)}function Bi(t){return function(){return this.matches(t)}}function Yi(t){return function(n){return n.matches(t)}}var mo=Array.prototype.find;function _o(t){return function(){return mo.call(this.children,t)}}function wo(){return this.firstElementChild}function ko(t){return this.select(t==null?wo:_o(typeof t=="function"?t:Yi(t)))}var So=Array.prototype.filter;function Eo(){return Array.from(this.children)}function xo(t){return function(){return So.call(this.children,t)}}function Mo(t){return this.selectAll(t==null?Eo:xo(typeof t=="function"?t:Yi(t)))}function bo(t){typeof t!="function"&&(t=Bi(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],a=o.length,l=i[r]=[],f,s=0;s<a;++s)(f=o[s])&&t.call(f,f.__data__,s,o)&&l.push(f);return new nt(i,this._parents)}function Gi(t){return new Array(t.length)}function zo(){return new nt(this._enter||this._groups.map(Gi),this._parents)}function In(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}In.prototype={constructor:In,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Co(t){return function(){return t}}function Ao(t,n,e,i,r,o){for(var a=0,l,f=n.length,s=o.length;a<s;++a)(l=n[a])?(l.__data__=o[a],i[a]=l):e[a]=new In(t,o[a]);for(;a<f;++a)(l=n[a])&&(r[a]=l)}function To(t,n,e,i,r,o,a){var l,f,s=new Map,u=n.length,p=o.length,c=new Array(u),h;for(l=0;l<u;++l)(f=n[l])&&(c[l]=h=a.call(f,f.__data__,l,n)+"",s.has(h)?r[l]=f:s.set(h,f));for(l=0;l<p;++l)h=a.call(t,o[l],l,o)+"",(f=s.get(h))?(i[l]=f,f.__data__=o[l],s.delete(h)):e[l]=new In(t,o[l]);for(l=0;l<u;++l)(f=n[l])&&s.get(c[l])===f&&(r[l]=f)}function Po(t){return t.__data__}function Ro(t,n){if(!arguments.length)return Array.from(this,Po);var e=n?To:Ao,i=this._parents,r=this._groups;typeof t!="function"&&(t=Co(t));for(var o=r.length,a=new Array(o),l=new Array(o),f=new Array(o),s=0;s<o;++s){var u=i[s],p=r[s],c=p.length,h=Lo(t.call(u,u&&u.__data__,s,i)),g=h.length,m=l[s]=new Array(g),_=a[s]=new Array(g),w=f[s]=new Array(c);e(u,p,m,_,w,h,n);for(var E=0,x=0,k,b;E<g;++E)if(k=m[E]){for(E>=x&&(x=E+1);!(b=_[x])&&++x<g;);k._next=b||null}}return a=new nt(a,i),a._enter=l,a._exit=f,a}function Lo(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function No(){return new nt(this._exit||this._groups.map(Gi),this._parents)}function Vo(t,n,e){var i=this.enter(),r=this,o=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),n!=null&&(r=n(r),r&&(r=r.selection())),e==null?o.remove():e(o),i&&r?i.merge(r).order():r}function Io(t){for(var n=t.selection?t.selection():t,e=this._groups,i=n._groups,r=e.length,o=i.length,a=Math.min(r,o),l=new Array(r),f=0;f<a;++f)for(var s=e[f],u=i[f],p=s.length,c=l[f]=new Array(p),h,g=0;g<p;++g)(h=s[g]||u[g])&&(c[g]=h);for(;f<r;++f)l[f]=e[f];return new nt(l,this._parents)}function qo(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var i=t[n],r=i.length-1,o=i[r],a;--r>=0;)(a=i[r])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Do(t){t||(t=Fo);function n(p,c){return p&&c?t(p.__data__,c.__data__):!p-!c}for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o){for(var a=e[o],l=a.length,f=r[o]=new Array(l),s,u=0;u<l;++u)(s=a[u])&&(f[u]=s);f.sort(n)}return new nt(r,this._parents).order()}function Fo(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Xo(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Oo(){return Array.from(this)}function Zo(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null}function Ho(){let t=0;for(const n of this)++t;return t}function Bo(){return!this.node()}function Yo(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r=n[e],o=0,a=r.length,l;o<a;++o)(l=r[o])&&t.call(l,l.__data__,o,r);return this}function Go(t){return function(){this.removeAttribute(t)}}function Wo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Uo(t,n){return function(){this.setAttribute(t,n)}}function Ko(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function $o(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Qo(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Jo(t,n){var e=Zn(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((n==null?e.local?Wo:Go:typeof n=="function"?e.local?Qo:$o:e.local?Ko:Uo)(e,n))}function Wi(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function jo(t){return function(){this.style.removeProperty(t)}}function ta(t,n,e){return function(){this.style.setProperty(t,n,e)}}function na(t,n,e){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function ea(t,n,e){return arguments.length>1?this.each((n==null?jo:typeof n=="function"?na:ta)(t,n,e??"")):Ft(this.node(),t)}function Ft(t,n){return t.style.getPropertyValue(n)||Wi(t).getComputedStyle(t,null).getPropertyValue(n)}function ia(t){return function(){delete this[t]}}function ra(t,n){return function(){this[t]=n}}function oa(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function aa(t,n){return arguments.length>1?this.each((n==null?ia:typeof n=="function"?oa:ra)(t,n)):this.node()[t]}function Ui(t){return t.trim().split(/^|\s+/)}function Ae(t){return t.classList||new Ki(t)}function Ki(t){this._node=t,this._names=Ui(t.getAttribute("class")||"")}Ki.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function $i(t,n){for(var e=Ae(t),i=-1,r=n.length;++i<r;)e.add(n[i])}function Qi(t,n){for(var e=Ae(t),i=-1,r=n.length;++i<r;)e.remove(n[i])}function la(t){return function(){$i(this,t)}}function ua(t){return function(){Qi(this,t)}}function sa(t,n){return function(){(n.apply(this,arguments)?$i:Qi)(this,t)}}function ca(t,n){var e=Ui(t+"");if(arguments.length<2){for(var i=Ae(this.node()),r=-1,o=e.length;++r<o;)if(!i.contains(e[r]))return!1;return!0}return this.each((typeof n=="function"?sa:n?la:ua)(e,n))}function fa(){this.textContent=""}function ha(t){return function(){this.textContent=t}}function pa(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function da(t){return arguments.length?this.each(t==null?fa:(typeof t=="function"?pa:ha)(t)):this.node().textContent}function va(){this.innerHTML=""}function ga(t){return function(){this.innerHTML=t}}function ya(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function ma(t){return arguments.length?this.each(t==null?va:(typeof t=="function"?ya:ga)(t)):this.node().innerHTML}function _a(){this.nextSibling&&this.parentNode.appendChild(this)}function wa(){return this.each(_a)}function ka(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Sa(){return this.each(ka)}function Ea(t){var n=typeof t=="function"?t:Zi(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function xa(){return null}function Ma(t,n){var e=typeof t=="function"?t:Zi(t),i=n==null?xa:typeof n=="function"?n:Ce(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})}function ba(){var t=this.parentNode;t&&t.removeChild(this)}function za(){return this.each(ba)}function Ca(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Aa(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ta(t){return this.select(t?Aa:Ca)}function Pa(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ra(t){return function(n){t.call(this,n,this.__data__)}}function La(t){return t.trim().split(/^|\s+/).map(function(n){var e="",i=n.indexOf(".");return i>=0&&(e=n.slice(i+1),n=n.slice(0,i)),{type:n,name:e}})}function Na(t){return function(){var n=this.__on;if(n){for(var e=0,i=-1,r=n.length,o;e<r;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++i]=o;++i?n.length=i:delete this.__on}}}function Va(t,n,e){return function(){var i=this.__on,r,o=Ra(n);if(i){for(var a=0,l=i.length;a<l;++a)if((r=i[a]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),r.value=n;return}}this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function Ia(t,n,e){var i=La(t+""),r,o=i.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var f=0,s=l.length,u;f<s;++f)for(r=0,u=l[f];r<o;++r)if((a=i[r]).type===u.type&&a.name===u.name)return u.value}return}for(l=n?Va:Na,r=0;r<o;++r)this.each(l(i[r],n,e));return this}function Ji(t,n,e){var i=Wi(t),r=i.CustomEvent;typeof r=="function"?r=new r(n,e):(r=i.document.createEvent("Event"),e?(r.initEvent(n,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(n,!1,!1)),t.dispatchEvent(r)}function qa(t,n){return function(){return Ji(this,t,n)}}function Da(t,n){return function(){return Ji(this,t,n.apply(this,arguments))}}function Fa(t,n){return this.each((typeof n=="function"?Da:qa)(t,n))}function*Xa(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length,a;r<o;++r)(a=i[r])&&(yield a)}var ji=[null];function nt(t,n){this._groups=t,this._parents=n}function fn(){return new nt([[document.documentElement]],ji)}function Oa(){return this}nt.prototype=fn.prototype={constructor:nt,select:ho,selectAll:yo,selectChild:ko,selectChildren:Mo,filter:bo,data:Ro,enter:zo,exit:No,join:Vo,merge:Io,selection:Oa,order:qo,sort:Do,call:Xo,nodes:Oo,node:Zo,size:Ho,empty:Bo,each:Yo,attr:Jo,style:ea,property:aa,classed:ca,text:da,html:ma,raise:wa,lower:Sa,append:Ea,insert:Ma,remove:za,clone:Ta,datum:Pa,on:Ia,dispatch:Fa,[Symbol.iterator]:Xa};function kt(t){return typeof t=="string"?new nt([[document.querySelector(t)]],[document.documentElement]):new nt([[t]],ji)}function Za(t){let n;for(;n=t.sourceEvent;)t=n;return t}function Et(t,n){if(t=Za(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}if(n.getBoundingClientRect){var r=n.getBoundingClientRect();return[t.clientX-r.left-n.clientLeft,t.clientY-r.top-n.clientTop]}}return[t.pageX,t.pageY]}const me={capture:!0,passive:!1};function _e(t){t.preventDefault(),t.stopImmediatePropagation()}function Ha(t){var n=t.document.documentElement,e=kt(t).on("dragstart.drag",_e,me);"onselectstart"in n?e.on("selectstart.drag",_e,me):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Ba(t,n){var e=t.document.documentElement,i=kt(t).on("dragstart.drag",null);n&&(i.on("click.drag",_e,me),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var si=180/Math.PI,we={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function tr(t,n,e,i,r,o){var a,l,f;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(f=t*e+n*i)&&(e-=t*f,i-=n*f),(l=Math.sqrt(e*e+i*i))&&(e/=l,i/=l,f/=l),t*i<n*e&&(t=-t,n=-n,f=-f,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(n,t)*si,skewX:Math.atan(f)*si,scaleX:a,scaleY:l}}var _n;function Ya(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?we:tr(n.a,n.b,n.c,n.d,n.e,n.f)}function Ga(t){return t==null||(_n||(_n=document.createElementNS("http://www.w3.org/2000/svg","g")),_n.setAttribute("transform",t),!(t=_n.transform.baseVal.consolidate()))?we:(t=t.matrix,tr(t.a,t.b,t.c,t.d,t.e,t.f))}function nr(t,n,e,i){function r(s){return s.length?s.pop()+" ":""}function o(s,u,p,c,h,g){if(s!==p||u!==c){var m=h.push("translate(",null,n,null,e);g.push({i:m-4,x:xt(s,p)},{i:m-2,x:xt(u,c)})}else(p||c)&&h.push("translate("+p+n+c+e)}function a(s,u,p,c){s!==u?(s-u>180?u+=360:u-s>180&&(s+=360),c.push({i:p.push(r(p)+"rotate(",null,i)-2,x:xt(s,u)})):u&&p.push(r(p)+"rotate("+u+i)}function l(s,u,p,c){s!==u?c.push({i:p.push(r(p)+"skewX(",null,i)-2,x:xt(s,u)}):u&&p.push(r(p)+"skewX("+u+i)}function f(s,u,p,c,h,g){if(s!==p||u!==c){var m=h.push(r(h)+"scale(",null,",",null,")");g.push({i:m-4,x:xt(s,p)},{i:m-2,x:xt(u,c)})}else(p!==1||c!==1)&&h.push(r(h)+"scale("+p+","+c+")")}return function(s,u){var p=[],c=[];return s=t(s),u=t(u),o(s.translateX,s.translateY,u.translateX,u.translateY,p,c),a(s.rotate,u.rotate,p,c),l(s.skewX,u.skewX,p,c),f(s.scaleX,s.scaleY,u.scaleX,u.scaleY,p,c),s=u=null,function(h){for(var g=-1,m=c.length,_;++g<m;)p[(_=c[g]).i]=_.x(h);return p.join("")}}}var Wa=nr(Ya,"px, ","px)","deg)"),Ua=nr(Ga,", ",")",")"),Ka=1e-12;function ci(t){return((t=Math.exp(t))+1/t)/2}function $a(t){return((t=Math.exp(t))-1/t)/2}function Qa(t){return((t=Math.exp(2*t))-1)/(t+1)}const Ja=function t(n,e,i){function r(o,a){var l=o[0],f=o[1],s=o[2],u=a[0],p=a[1],c=a[2],h=u-l,g=p-f,m=h*h+g*g,_,w;if(m<Ka)w=Math.log(c/s)/n,_=function(R){return[l+R*h,f+R*g,s*Math.exp(n*R*w)]};else{var E=Math.sqrt(m),x=(c*c-s*s+i*m)/(2*s*e*E),k=(c*c-s*s-i*m)/(2*c*e*E),b=Math.log(Math.sqrt(x*x+1)-x),z=Math.log(Math.sqrt(k*k+1)-k);w=(z-b)/n,_=function(R){var N=R*w,P=ci(b),V=s/(e*E)*(P*Qa(n*N+b)-$a(b));return[l+V*h,f+V*g,s*P/ci(n*N+b)]}}return _.duration=w*1e3*n/Math.SQRT2,_}return r.rho=function(o){var a=Math.max(.001,+o),l=a*a,f=l*l;return t(a,l,f)},r}(Math.SQRT2,2,4);var Xt=0,$t=0,Ht=0,er=1e3,qn,Qt,Dn=0,Pt=0,Hn=0,rn=typeof performance=="object"&&performance.now?performance:Date,ir=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Te(){return Pt||(ir(ja),Pt=rn.now()+Hn)}function ja(){Pt=0}function Fn(){this._call=this._time=this._next=null}Fn.prototype=rr.prototype={constructor:Fn,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Te():+e)+(n==null?0:+n),!this._next&&Qt!==this&&(Qt?Qt._next=this:qn=this,Qt=this),this._call=t,this._time=e,ke()},stop:function(){this._call&&(this._call=null,this._time=1/0,ke())}};function rr(t,n,e){var i=new Fn;return i.restart(t,n,e),i}function tl(){Te(),++Xt;for(var t=qn,n;t;)(n=Pt-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Xt}function fi(){Pt=(Dn=rn.now())+Hn,Xt=$t=0;try{tl()}finally{Xt=0,el(),Pt=0}}function nl(){var t=rn.now(),n=t-Dn;n>er&&(Hn-=n,Dn=t)}function el(){for(var t,n=qn,e,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:qn=e);Qt=t,ke(i)}function ke(t){if(!Xt){$t&&($t=clearTimeout($t));var n=t-Pt;n>24?(t<1/0&&($t=setTimeout(fi,t-rn.now()-Hn)),Ht&&(Ht=clearInterval(Ht))):(Ht||(Dn=rn.now(),Ht=setInterval(nl,er)),Xt=1,ir(fi))}}function hi(t,n,e){var i=new Fn;return n=n==null?0:+n,i.restart(r=>{i.stop(),t(r+n)},n,e),i}var il=ze("start","end","cancel","interrupt"),rl=[],or=0,pi=1,Se=2,Mn=3,di=4,Ee=5,bn=6;function Bn(t,n,e,i,r,o){var a=t.__transition;if(!a)t.__transition={};else if(e in a)return;ol(t,e,{name:n,index:i,group:r,on:il,tween:rl,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:or})}function Pe(t,n){var e=ut(t,n);if(e.state>or)throw new Error("too late; already scheduled");return e}function ft(t,n){var e=ut(t,n);if(e.state>Mn)throw new Error("too late; already running");return e}function ut(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function ol(t,n,e){var i=t.__transition,r;i[n]=e,e.timer=rr(o,0,e.time);function o(s){e.state=pi,e.timer.restart(a,e.delay,e.time),e.delay<=s&&a(s-e.delay)}function a(s){var u,p,c,h;if(e.state!==pi)return f();for(u in i)if(h=i[u],h.name===e.name){if(h.state===Mn)return hi(a);h.state===di?(h.state=bn,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[u]):+u<n&&(h.state=bn,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[u])}if(hi(function(){e.state===Mn&&(e.state=di,e.timer.restart(l,e.delay,e.time),l(s))}),e.state=Se,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Se){for(e.state=Mn,r=new Array(c=e.tween.length),u=0,p=-1;u<c;++u)(h=e.tween[u].value.call(t,t.__data__,e.index,e.group))&&(r[++p]=h);r.length=p+1}}function l(s){for(var u=s<e.duration?e.ease.call(null,s/e.duration):(e.timer.restart(f),e.state=Ee,1),p=-1,c=r.length;++p<c;)r[p].call(t,u);e.state===Ee&&(e.on.call("end",t,t.__data__,e.index,e.group),f())}function f(){e.state=bn,e.timer.stop(),delete i[n];for(var s in i)return;delete t.__transition}}function zn(t,n){var e=t.__transition,i,r,o=!0,a;if(e){n=n==null?null:n+"";for(a in e){if((i=e[a]).name!==n){o=!1;continue}r=i.state>Se&&i.state<Ee,i.state=bn,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete e[a]}o&&delete t.__transition}}function al(t){return this.each(function(){zn(this,t)})}function ll(t,n){var e,i;return function(){var r=ft(this,t),o=r.tween;if(o!==e){i=e=o;for(var a=0,l=i.length;a<l;++a)if(i[a].name===n){i=i.slice(),i.splice(a,1);break}}r.tween=i}}function ul(t,n,e){var i,r;if(typeof e!="function")throw new Error;return function(){var o=ft(this,t),a=o.tween;if(a!==i){r=(i=a).slice();for(var l={name:n,value:e},f=0,s=r.length;f<s;++f)if(r[f].name===n){r[f]=l;break}f===s&&r.push(l)}o.tween=r}}function sl(t,n){var e=this._id;if(t+="",arguments.length<2){for(var i=ut(this.node(),e).tween,r=0,o=i.length,a;r<o;++r)if((a=i[r]).name===t)return a.value;return null}return this.each((n==null?ll:ul)(e,t,n))}function Re(t,n,e){var i=t._id;return t.each(function(){var r=ft(this,i);(r.value||(r.value={}))[n]=e.apply(this,arguments)}),function(r){return ut(r,i).value[n]}}function ar(t,n){var e;return(typeof n=="number"?xt:n instanceof Oe?Xe:(e=Oe(n))?(n=e,Xe):mr)(t,n)}function cl(t){return function(){this.removeAttribute(t)}}function fl(t){return function(){this.removeAttributeNS(t.space,t.local)}}function hl(t,n,e){var i,r=e+"",o;return function(){var a=this.getAttribute(t);return a===r?null:a===i?o:o=n(i=a,e)}}function pl(t,n,e){var i,r=e+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===r?null:a===i?o:o=n(i=a,e)}}function dl(t,n,e){var i,r,o;return function(){var a,l=e(this),f;return l==null?void this.removeAttribute(t):(a=this.getAttribute(t),f=l+"",a===f?null:a===i&&f===r?o:(r=f,o=n(i=a,l)))}}function vl(t,n,e){var i,r,o;return function(){var a,l=e(this),f;return l==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),f=l+"",a===f?null:a===i&&f===r?o:(r=f,o=n(i=a,l)))}}function gl(t,n){var e=Zn(t),i=e==="transform"?Ua:ar;return this.attrTween(t,typeof n=="function"?(e.local?vl:dl)(e,i,Re(this,"attr."+t,n)):n==null?(e.local?fl:cl)(e):(e.local?pl:hl)(e,i,n))}function yl(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function ml(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function _l(t,n){var e,i;function r(){var o=n.apply(this,arguments);return o!==i&&(e=(i=o)&&ml(t,o)),e}return r._value=n,r}function wl(t,n){var e,i;function r(){var o=n.apply(this,arguments);return o!==i&&(e=(i=o)&&yl(t,o)),e}return r._value=n,r}function kl(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var i=Zn(t);return this.tween(e,(i.local?_l:wl)(i,n))}function Sl(t,n){return function(){Pe(this,t).delay=+n.apply(this,arguments)}}function El(t,n){return n=+n,function(){Pe(this,t).delay=n}}function xl(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Sl:El)(n,t)):ut(this.node(),n).delay}function Ml(t,n){return function(){ft(this,t).duration=+n.apply(this,arguments)}}function bl(t,n){return n=+n,function(){ft(this,t).duration=n}}function zl(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Ml:bl)(n,t)):ut(this.node(),n).duration}function Cl(t,n){if(typeof n!="function")throw new Error;return function(){ft(this,t).ease=n}}function Al(t){var n=this._id;return arguments.length?this.each(Cl(n,t)):ut(this.node(),n).ease}function Tl(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;ft(this,t).ease=e}}function Pl(t){if(typeof t!="function")throw new Error;return this.each(Tl(this._id,t))}function Rl(t){typeof t!="function"&&(t=Bi(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],a=o.length,l=i[r]=[],f,s=0;s<a;++s)(f=o[s])&&t.call(f,f.__data__,s,o)&&l.push(f);return new mt(i,this._parents,this._name,this._id)}function Ll(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,r=e.length,o=Math.min(i,r),a=new Array(i),l=0;l<o;++l)for(var f=n[l],s=e[l],u=f.length,p=a[l]=new Array(u),c,h=0;h<u;++h)(c=f[h]||s[h])&&(p[h]=c);for(;l<i;++l)a[l]=n[l];return new mt(a,this._parents,this._name,this._id)}function Nl(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Vl(t,n,e){var i,r,o=Nl(n)?Pe:ft;return function(){var a=o(this,t),l=a.on;l!==i&&(r=(i=l).copy()).on(n,e),a.on=r}}function Il(t,n){var e=this._id;return arguments.length<2?ut(this.node(),e).on.on(t):this.each(Vl(e,t,n))}function ql(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Dl(){return this.on("end.remove",ql(this._id))}function Fl(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Ce(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var l=i[a],f=l.length,s=o[a]=new Array(f),u,p,c=0;c<f;++c)(u=l[c])&&(p=t.call(u,u.__data__,c,l))&&("__data__"in u&&(p.__data__=u.__data__),s[c]=p,Bn(s[c],n,e,c,s,ut(u,e)));return new mt(o,this._parents,n,e)}function Xl(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Hi(t));for(var i=this._groups,r=i.length,o=[],a=[],l=0;l<r;++l)for(var f=i[l],s=f.length,u,p=0;p<s;++p)if(u=f[p]){for(var c=t.call(u,u.__data__,p,f),h,g=ut(u,e),m=0,_=c.length;m<_;++m)(h=c[m])&&Bn(h,n,e,m,c,g);o.push(c),a.push(u)}return new mt(o,a,n,e)}var Ol=fn.prototype.constructor;function Zl(){return new Ol(this._groups,this._parents)}function Hl(t,n){var e,i,r;return function(){var o=Ft(this,t),a=(this.style.removeProperty(t),Ft(this,t));return o===a?null:o===e&&a===i?r:r=n(e=o,i=a)}}function lr(t){return function(){this.style.removeProperty(t)}}function Bl(t,n,e){var i,r=e+"",o;return function(){var a=Ft(this,t);return a===r?null:a===i?o:o=n(i=a,e)}}function Yl(t,n,e){var i,r,o;return function(){var a=Ft(this,t),l=e(this),f=l+"";return l==null&&(f=l=(this.style.removeProperty(t),Ft(this,t))),a===f?null:a===i&&f===r?o:(r=f,o=n(i=a,l))}}function Gl(t,n){var e,i,r,o="style."+n,a="end."+o,l;return function(){var f=ft(this,t),s=f.on,u=f.value[o]==null?l||(l=lr(n)):void 0;(s!==e||r!==u)&&(i=(e=s).copy()).on(a,r=u),f.on=i}}function Wl(t,n,e){var i=(t+="")=="transform"?Wa:ar;return n==null?this.styleTween(t,Hl(t,i)).on("end.style."+t,lr(t)):typeof n=="function"?this.styleTween(t,Yl(t,i,Re(this,"style."+t,n))).each(Gl(this._id,t)):this.styleTween(t,Bl(t,i,n),e).on("end.style."+t,null)}function Ul(t,n,e){return function(i){this.style.setProperty(t,n.call(this,i),e)}}function Kl(t,n,e){var i,r;function o(){var a=n.apply(this,arguments);return a!==r&&(i=(r=a)&&Ul(t,a,e)),i}return o._value=n,o}function $l(t,n,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,Kl(t,n,e??""))}function Ql(t){return function(){this.textContent=t}}function Jl(t){return function(){var n=t(this);this.textContent=n??""}}function jl(t){return this.tween("text",typeof t=="function"?Jl(Re(this,"text",t)):Ql(t==null?"":t+""))}function tu(t){return function(n){this.textContent=t.call(this,n)}}function nu(t){var n,e;function i(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&tu(r)),n}return i._value=t,i}function eu(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,nu(t))}function iu(){for(var t=this._name,n=this._id,e=ur(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a=i[o],l=a.length,f,s=0;s<l;++s)if(f=a[s]){var u=ut(f,n);Bn(f,t,e,s,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new mt(i,this._parents,t,e)}function ru(){var t,n,e=this,i=e._id,r=e.size();return new Promise(function(o,a){var l={value:a},f={value:function(){--r===0&&o()}};e.each(function(){var s=ft(this,i),u=s.on;u!==t&&(n=(t=u).copy(),n._.cancel.push(l),n._.interrupt.push(l),n._.end.push(f)),s.on=n}),r===0&&o()})}var ou=0;function mt(t,n,e,i){this._groups=t,this._parents=n,this._name=e,this._id=i}function ur(){return++ou}var pt=fn.prototype;mt.prototype={constructor:mt,select:Fl,selectAll:Xl,selectChild:pt.selectChild,selectChildren:pt.selectChildren,filter:Rl,merge:Ll,selection:Zl,transition:iu,call:pt.call,nodes:pt.nodes,node:pt.node,size:pt.size,empty:pt.empty,each:pt.each,on:Il,attr:gl,attrTween:kl,style:Wl,styleTween:$l,text:jl,textTween:eu,remove:Dl,tween:sl,delay:xl,duration:zl,ease:Al,easeVarying:Pl,end:ru,[Symbol.iterator]:pt[Symbol.iterator]};function au(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var lu={time:null,delay:0,duration:250,ease:au};function uu(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function su(t){var n,e;t instanceof mt?(n=t._id,t=t._name):(n=ur(),(e=lu).time=Te(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a=i[o],l=a.length,f,s=0;s<l;++s)(f=a[s])&&Bn(f,t,n,s,a,e||uu(f,n));return new mt(i,this._parents,t,n)}fn.prototype.interrupt=al;fn.prototype.transition=su;const wn=t=>()=>t;function cu(t,{sourceEvent:n,target:e,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function gt(t,n,e){this.k=t,this.x=n,this.y=e}gt.prototype={constructor:gt,scale:function(t){return t===1?this:new gt(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new gt(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var wt=new gt(1,0,0);gt.prototype;function jn(t){t.stopImmediatePropagation()}function Bt(t){t.preventDefault(),t.stopImmediatePropagation()}function fu(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function hu(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function vi(){return this.__zoom||wt}function pu(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function du(){return navigator.maxTouchPoints||"ontouchstart"in this}function vu(t,n,e){var i=t.invertX(n[0][0])-e[0][0],r=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function gu(){var t=fu,n=hu,e=vu,i=pu,r=du,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,f=Ja,s=ze("start","zoom","end"),u,p,c,h=500,g=150,m=0,_=10;function w(d){d.property("__zoom",vi).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",V).filter(r).on("touchstart.zoom",T).on("touchmove.zoom",Q).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(d,v,y,S){var M=d.selection?d.selection():d;M.property("__zoom",vi),d!==M?b(d,v,y,S):M.interrupt().each(function(){z(this,arguments).event(S).start().zoom(null,typeof v=="function"?v.apply(this,arguments):v).end()})},w.scaleBy=function(d,v,y,S){w.scaleTo(d,function(){var M=this.__zoom.k,C=typeof v=="function"?v.apply(this,arguments):v;return M*C},y,S)},w.scaleTo=function(d,v,y,S){w.transform(d,function(){var M=n.apply(this,arguments),C=this.__zoom,A=y==null?k(M):typeof y=="function"?y.apply(this,arguments):y,L=C.invert(A),q=typeof v=="function"?v.apply(this,arguments):v;return e(x(E(C,q),A,L),M,a)},y,S)},w.translateBy=function(d,v,y,S){w.transform(d,function(){return e(this.__zoom.translate(typeof v=="function"?v.apply(this,arguments):v,typeof y=="function"?y.apply(this,arguments):y),n.apply(this,arguments),a)},null,S)},w.translateTo=function(d,v,y,S,M){w.transform(d,function(){var C=n.apply(this,arguments),A=this.__zoom,L=S==null?k(C):typeof S=="function"?S.apply(this,arguments):S;return e(wt.translate(L[0],L[1]).scale(A.k).translate(typeof v=="function"?-v.apply(this,arguments):-v,typeof y=="function"?-y.apply(this,arguments):-y),C,a)},S,M)};function E(d,v){return v=Math.max(o[0],Math.min(o[1],v)),v===d.k?d:new gt(v,d.x,d.y)}function x(d,v,y){var S=v[0]-y[0]*d.k,M=v[1]-y[1]*d.k;return S===d.x&&M===d.y?d:new gt(d.k,S,M)}function k(d){return[(+d[0][0]+ +d[1][0])/2,(+d[0][1]+ +d[1][1])/2]}function b(d,v,y,S){d.on("start.zoom",function(){z(this,arguments).event(S).start()}).on("interrupt.zoom end.zoom",function(){z(this,arguments).event(S).end()}).tween("zoom",function(){var M=this,C=arguments,A=z(M,C).event(S),L=n.apply(M,C),q=y==null?k(L):typeof y=="function"?y.apply(M,C):y,F=Math.max(L[1][0]-L[0][0],L[1][1]-L[0][1]),Z=M.__zoom,K=typeof v=="function"?v.apply(M,C):v,et=f(Z.invert(q).concat(F/Z.k),K.invert(q).concat(F/K.k));return function(tt){if(tt===1)tt=K;else{var lt=et(tt),Ot=F/lt[2];tt=new gt(Ot,q[0]-lt[0]*Ot,q[1]-lt[1]*Ot)}A.zoom(null,tt)}})}function z(d,v,y){return!y&&d.__zooming||new R(d,v)}function R(d,v){this.that=d,this.args=v,this.active=0,this.sourceEvent=null,this.extent=n.apply(d,v),this.taps=0}R.prototype={event:function(d){return d&&(this.sourceEvent=d),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(d,v){return this.mouse&&d!=="mouse"&&(this.mouse[1]=v.invert(this.mouse[0])),this.touch0&&d!=="touch"&&(this.touch0[1]=v.invert(this.touch0[0])),this.touch1&&d!=="touch"&&(this.touch1[1]=v.invert(this.touch1[0])),this.that.__zoom=v,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(d){var v=kt(this.that).datum();s.call(d,this.that,new cu(d,{sourceEvent:this.sourceEvent,target:w,transform:this.that.__zoom,dispatch:s}),v)}};function N(d,...v){if(!t.apply(this,arguments))return;var y=z(this,v).event(d),S=this.__zoom,M=Math.max(o[0],Math.min(o[1],S.k*Math.pow(2,i.apply(this,arguments)))),C=Et(d);if(y.wheel)(y.mouse[0][0]!==C[0]||y.mouse[0][1]!==C[1])&&(y.mouse[1]=S.invert(y.mouse[0]=C)),clearTimeout(y.wheel);else{if(S.k===M)return;y.mouse=[C,S.invert(C)],zn(this),y.start()}Bt(d),y.wheel=setTimeout(A,g),y.zoom("mouse",e(x(E(S,M),y.mouse[0],y.mouse[1]),y.extent,a));function A(){y.wheel=null,y.end()}}function P(d,...v){if(c||!t.apply(this,arguments))return;var y=d.currentTarget,S=z(this,v,!0).event(d),M=kt(d.view).on("mousemove.zoom",q,!0).on("mouseup.zoom",F,!0),C=Et(d,y),A=d.clientX,L=d.clientY;Ha(d.view),jn(d),S.mouse=[C,this.__zoom.invert(C)],zn(this),S.start();function q(Z){if(Bt(Z),!S.moved){var K=Z.clientX-A,et=Z.clientY-L;S.moved=K*K+et*et>m}S.event(Z).zoom("mouse",e(x(S.that.__zoom,S.mouse[0]=Et(Z,y),S.mouse[1]),S.extent,a))}function F(Z){M.on("mousemove.zoom mouseup.zoom",null),Ba(Z.view,S.moved),Bt(Z),S.event(Z).end()}}function V(d,...v){if(t.apply(this,arguments)){var y=this.__zoom,S=Et(d.changedTouches?d.changedTouches[0]:d,this),M=y.invert(S),C=y.k*(d.shiftKey?.5:2),A=e(x(E(y,C),S,M),n.apply(this,v),a);Bt(d),l>0?kt(this).transition().duration(l).call(b,A,S,d):kt(this).call(w.transform,A,S,d)}}function T(d,...v){if(t.apply(this,arguments)){var y=d.touches,S=y.length,M=z(this,v,d.changedTouches.length===S).event(d),C,A,L,q;for(jn(d),A=0;A<S;++A)L=y[A],q=Et(L,this),q=[q,this.__zoom.invert(q),L.identifier],M.touch0?!M.touch1&&M.touch0[2]!==q[2]&&(M.touch1=q,M.taps=0):(M.touch0=q,C=!0,M.taps=1+!!u);u&&(u=clearTimeout(u)),C&&(M.taps<2&&(p=q[0],u=setTimeout(function(){u=null},h)),zn(this),M.start())}}function Q(d,...v){if(this.__zooming){var y=z(this,v).event(d),S=d.changedTouches,M=S.length,C,A,L,q;for(Bt(d),C=0;C<M;++C)A=S[C],L=Et(A,this),y.touch0&&y.touch0[2]===A.identifier?y.touch0[0]=L:y.touch1&&y.touch1[2]===A.identifier&&(y.touch1[0]=L);if(A=y.that.__zoom,y.touch1){var F=y.touch0[0],Z=y.touch0[1],K=y.touch1[0],et=y.touch1[1],tt=(tt=K[0]-F[0])*tt+(tt=K[1]-F[1])*tt,lt=(lt=et[0]-Z[0])*lt+(lt=et[1]-Z[1])*lt;A=E(A,Math.sqrt(tt/lt)),L=[(F[0]+K[0])/2,(F[1]+K[1])/2],q=[(Z[0]+et[0])/2,(Z[1]+et[1])/2]}else if(y.touch0)L=y.touch0[0],q=y.touch0[1];else return;y.zoom("touch",e(x(A,L,q),y.extent,a))}}function O(d,...v){if(this.__zooming){var y=z(this,v).event(d),S=d.changedTouches,M=S.length,C,A;for(jn(d),c&&clearTimeout(c),c=setTimeout(function(){c=null},h),C=0;C<M;++C)A=S[C],y.touch0&&y.touch0[2]===A.identifier?delete y.touch0:y.touch1&&y.touch1[2]===A.identifier&&delete y.touch1;if(y.touch1&&!y.touch0&&(y.touch0=y.touch1,delete y.touch1),y.touch0)y.touch0[1]=this.__zoom.invert(y.touch0[0]);else if(y.end(),y.taps===2&&(A=Et(A,this),Math.hypot(p[0]-A[0],p[1]-A[1])<_)){var L=kt(this).on("dblclick.zoom");L&&L.apply(this,arguments)}}}return w.wheelDelta=function(d){return arguments.length?(i=typeof d=="function"?d:wn(+d),w):i},w.filter=function(d){return arguments.length?(t=typeof d=="function"?d:wn(!!d),w):t},w.touchable=function(d){return arguments.length?(r=typeof d=="function"?d:wn(!!d),w):r},w.extent=function(d){return arguments.length?(n=typeof d=="function"?d:wn([[+d[0][0],+d[0][1]],[+d[1][0],+d[1][1]]]),w):n},w.scaleExtent=function(d){return arguments.length?(o[0]=+d[0],o[1]=+d[1],w):[o[0],o[1]]},w.translateExtent=function(d){return arguments.length?(a[0][0]=+d[0][0],a[1][0]=+d[1][0],a[0][1]=+d[0][1],a[1][1]=+d[1][1],w):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},w.constrain=function(d){return arguments.length?(e=d,w):e},w.duration=function(d){return arguments.length?(l=+d,w):l},w.interpolate=function(d){return arguments.length?(f=d,w):f},w.on=function(){var d=s.on.apply(s,arguments);return d===s?w:d},w.clickDistance=function(d){return arguments.length?(m=(d=+d)*d,w):Math.sqrt(m)},w.tapDistance=function(d){return arguments.length?(_=+d,w):_},w}const tn=Symbol("SVGMapContext");var an,ln,un,sn,zt;class yu{constructor(){_t(this,an,Mt(null));_t(this,ln,Mt(Ie({k:1,x:0,y:0})));_t(this,un,Mt(Ie([])));_t(this,sn,Mt(null));_t(this,zt,null);pn(this,"onclick",null);pn(this,"onmousemove",null);pn(this,"onmouseout",null)}get projection(){return G(J(this,an))}set projection(n){vt(J(this,an),n,!0)}get transform(){return G(J(this,ln))}set transform(n){vt(J(this,ln),n,!0)}get features(){return G(J(this,un))}set features(n){vt(J(this,un),n,!0)}get stickyHighlight(){return G(J(this,sn))}set stickyHighlight(n){vt(J(this,sn),n,!0)}setTooltipCallback(n){Un(this,zt,n)}onPointerMove(n,e,i){var r,o;i!=null&&i.tooltip&&!this.stickyHighlight&&((r=J(this,zt))==null||r.call(this,{x:n.pageX,y:n.pageY,props:e})),(o=this.onmousemove)==null||o.call(this,new CustomEvent("mousemove",{detail:{e:n,props:e}}))}onPointerDown(n,e,i){var r,o,a;this.stickyHighlight?((r=J(this,zt))==null||r.call(this,void 0),this.stickyHighlight=null):(this.stickyHighlight=e,i!=null&&i.tooltip&&((o=J(this,zt))==null||o.call(this,{x:n.pageX,y:n.pageY,props:e}))),(a=this.onclick)==null||a.call(this,new CustomEvent("click",{detail:{e:n,props:e}}))}onPointerOut(n){var e;(e=this.onmouseout)==null||e.call(this,new CustomEvent("mouseout",{detail:{e:n}}))}setProjection(n){this.projection=n}setTransform(n){this.transform=n}setFeatures(n){this.features=n}clearStickyHighlight(){this.stickyHighlight=null}}an=new WeakMap,ln=new WeakMap,un=new WeakMap,sn=new WeakMap,zt=new WeakMap;function mu(){if(Xn(tn))return On(tn);const t=new yu;return yi(tn,t),t}function Xu(){if(!Xn(tn))throw new Error("useSVGMapContext() must be called within a component tree that has called createSVGMapContext(). This should be automatically set up by SVGMap.svelte.");return On(tn)}var _u=cn('<button class="zoom-button zoom-reset svelte-i6qckw" aria-label="Reset map zoom"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-i6qckw"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 0H6V2H2V6H0V0Z" fill="black" class="svelte-i6qckw"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M15 0L15 6L13 6L13 2L9 2L9 -2.62268e-07L15 0Z" fill="black" class="svelte-i6qckw"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M15 15L9 15L9 13L13 13L13 9L15 9L15 15Z" fill="black" class="svelte-i6qckw"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M0 15L-2.62268e-07 9L2 9L2 13L6 13L6 15L0 15Z" fill="black" class="svelte-i6qckw"></path></svg></button>'),wu=cn('<button class="zoom-button zoom-reset svelte-i6qckw" aria-label="Reset map zoom"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-i6qckw"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 0H6V2H2V6H0V0Z" fill="black" class="svelte-i6qckw"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M15 0L15 6L13 6L13 2L9 2L9 -2.62268e-07L15 0Z" fill="black" class="svelte-i6qckw"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M15 15L9 15L9 13L13 13L13 9L15 9L15 15Z" fill="black" class="svelte-i6qckw"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M0 15L-2.62268e-07 9L2 9L2 13L6 13L6 15L0 15Z" fill="black" class="svelte-i6qckw"></path></svg></button>'),ku=cn('<div><!> <button class="zoom-button zoom-out svelte-i6qckw" aria-label="Zoom out map"><svg width="11" height="3" viewBox="0 0 11 3" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-i6qckw"><path fill-rule="evenodd" clip-rule="evenodd" d="M11 1.5C11 2.32843 10.3284 3 9.5 3L1.5 3C0.671573 3 5.87108e-08 2.32843 1.31134e-07 1.5C2.03558e-07 0.671572 0.671573 -9.0294e-07 1.5 -8.30516e-07L9.5 -1.31134e-07C10.3284 -5.87108e-08 11 0.671573 11 1.5Z" fill="black" class="svelte-i6qckw"></path></svg></button> <button class="zoom-button zoom-in svelte-i6qckw" aria-label="Zoom in map"><svg width="11" height="11" viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-i6qckw"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 1.5C7 0.671573 6.32843 0 5.5 0C4.67157 0 4 0.671573 4 1.5V4L1.5 4C0.671573 4 0 4.67157 0 5.5C0 6.32843 0.671573 7 1.5 7L4 7V9.5C4 10.3284 4.67157 11 5.5 11C6.32843 11 7 10.3284 7 9.5V7L9.5 7C10.3284 7 11 6.32843 11 5.5C11 4.67157 10.3284 4 9.5 4L7 4V1.5Z" fill="black" class="svelte-i6qckw"></path></svg></button> <!></div>');function sr(t,n){_i(n,!0);let e=$(n,"showReset",3,!1),i=$(n,"disableZoomIn",3,!1),r=$(n,"disableZoomOut",3,!1),o=Rt(()=>n.controlPosition.includes("top"));var a=ku(),l=Yt(a);{var f=h=>{var g=_u();g.__click=function(...m){var _;(_=n.zoomReset)==null||_.apply(this,m)},bt(h,g)};Jt(l,h=>{e()&&G(o)&&h(f)})}var s=Vt(l,2);s.__click=function(...h){var g;(g=n.zoomOut)==null||g.apply(this,h)};var u=Vt(s,2);u.__click=function(...h){var g;(g=n.zoomIn)==null||g.apply(this,h)};var p=Vt(u,2);{var c=h=>{var g=wu();g.__click=function(...m){var _;(_=n.zoomReset)==null||_.apply(this,m)},bt(h,g)};Jt(p,h=>{e()&&!G(o)&&h(c)})}te(()=>{ki(a,1,`zoom-controls ${n.controlPosition??""}`,"svelte-i6qckw"),s.disabled=r(),u.disabled=i()}),bt(t,a),wi()}mi(["click"]);sr.__docgen={data:[{name:"zoomIn",visibility:"public",description:"Function to handle zooming in.",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"function",text:"() => void"},static:!1,readonly:!1},{name:"zoomOut",visibility:"public",description:"Function to handle zooming out.",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"function",text:"() => void"},static:!1,readonly:!1},{name:"zoomReset",visibility:"public",description:"Function to reset zoom.",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"function",text:"() => void"},static:!1,readonly:!1},{name:"showReset",visibility:"public",description:"Whether to show the reset button. Default: false.",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"disableZoomIn",visibility:"public",description:"Whether the zoom-in button is disabled. Default: false.",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"disableZoomOut",visibility:"public",description:"Whether the zoom-out button is disabled. Default: false.",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"controlPosition",visibility:"public",description:"Position of the zoom controls.",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"union",type:[{kind:"const",type:"string",value:"bottom-left",text:'"bottom-left"'},{kind:"const",type:"string",value:"bottom-right",text:'"bottom-right"'},{kind:"const",type:"string",value:"top-left",text:'"top-left"'},{kind:"const",type:"string",value:"top-right",text:'"top-right"'}],text:'"bottom-left" | "bottom-right" | "top-left" | "top-right"'},static:!1,readonly:!1}],name:"ZoomControls.svelte"};var Su=cn("<div><!></div>"),Eu=cn('<div class="map-container svelte-4lqe40"><svg><rect role="presentation" class="map-bg svelte-4lqe40" x="0" y="0"></rect><g class="zoom-group svelte-4lqe40"><!></g></svg> <!> <!></div>');function xu(t,n){_i(n,!0);let e=$(n,"projection",3,oo),i=$(n,"controlPosition",3,"bottom-right"),r=$(n,"height",3,600),o=$(n,"aspectRatio",3,void 0),a=$(n,"ariaRole",3,void 0),l=$(n,"ariaLabel",3,void 0),f=$(n,"zoomable",3,!1),s=$(n,"maxZoom",3,8),u=$(n,"scrollWheel",3,"ctrl"),p=$(n,"backgroundColor",3,"transparent"),c=$(n,"tooltipContainParent",3,!1),h=$(n,"tooltipSize",3,"small"),g=$(n,"onclick",3,void 0),m=$(n,"onmousemove",3,void 0),_=$(n,"onmouseout",3,void 0),w=$(n,"onbgclick",3,void 0),E=$(n,"tooltip",3,void 0);const x=Er(),k=mu();let b=Mt(500),z=Mt(void 0);k.setTooltipCallback(H=>{vt(z,H,!0)});const R=Rt(()=>v(G(b),r(),o())),N=Rt(()=>e()().fitSize([G(b),G(R)],{type:"FeatureCollection",features:n.features}));kn(()=>{k.setProjection(G(N))}),kn(()=>{k.setFeatures(n.features)}),kn(()=>{k.onclick=g(),k.onmousemove=m(),k.onmouseout=_()});let P,V;function T(H){V=kt(H.querySelector("svg")),P=gu().scaleExtent([1,s()]).filter(Y=>u()==="ctrl"?Y.type==="wheel"?Y.ctrlKey||Y.metaKey:!0:u()==="no"?Y.type!=="wheel":!0).on("zoom",({transform:Y})=>k.setTransform(Y)),V.call(P)}function Q(){x.reducedMotion?V.call(P.scaleBy,2):V.transition().call(P.scaleBy,2)}function O(){x.reducedMotion?V.call(P.scaleBy,.5):V.transition().call(P.scaleBy,.5)}function d(){x.reducedMotion?V.call(P.transform,wt):V.transition().call(P.transform,wt)}function v(H,Y,Zt){return Zt?H/Zt:Y}function y(H){var Y;k.stickyHighlight||vt(z,void 0),(Y=m())==null||Y(new CustomEvent("mousemove",{detail:{e:H}}))}function S(H){var Y;k.clearStickyHighlight(),vt(z,void 0),(Y=w())==null||Y(new CustomEvent("click",{detail:{e:H}}))}function M(H){var Y;(Y=_())==null||Y(new CustomEvent("mouseout",{detail:{e:H}}))}let C;pr(()=>{f()&&T(C)});var A=Eu();let L;var q=Yt(A),F=Yt(q);F.__pointermove=y,F.__pointerdown=S,F.__pointerout=M;var Z=Vt(F),K=Yt(Z);qe(K,()=>n.children);var et=Vt(q,2);{var tt=H=>{var Y=Su(),Zt=Yt(Y);const hn=Rt(()=>k.transform.k!==wt.k||k.transform.x!==wt.x||k.transform.y!==wt.y),Yn=Rt(()=>k.transform.k===wt.k),Gn=Rt(()=>k.transform.k===s());sr(Zt,{get controlPosition(){return i()},get showReset(){return G(hn)},zoomIn:Q,zoomOut:O,zoomReset:d,get disableZoomOut(){return G(Yn)},get disableZoomIn(){return G(Gn)}}),te(()=>ki(Y,1,`map-controls ${i()??""}`,"svelte-4lqe40")),bt(H,Y)};Jt(et,H=>{f()&&H(tt)})}var lt=Vt(et,2);{var Ot=H=>{_r(H,{get x(){return G(z).x},get y(){return G(z).y},get containParent(){return c()},get size(){return h()},children:(Y,Zt)=>{var hn=De(),Yn=Fe(hn);{var Gn=Wn=>{var Le=De(),cr=Fe(Le);qe(cr,E,()=>G(z).props),bt(Wn,Le)};Jt(Yn,Wn=>{E()&&Wn(Gn)})}bt(Y,hn)},$$slots:{default:!0}})};Jt(lt,H=>{G(z)&&H(Ot)})}yr(A,H=>C=H,()=>C),te(H=>{ht(A,"aria-hidden",typeof a()>"u"),ht(A,"role",a()),ht(A,"aria-label",l()),L=vr(A,"",L,{height:`${H??""}px`}),ht(q,"width",G(b)),ht(q,"height",G(R)),ht(F,"width",G(b)),ht(F,"height",G(R)),ht(F,"fill",p()),ht(Z,"transform",`translate(${k.transform.x??""}, ${k.transform.y??""}) scale(${k.transform.k??""})`)},[()=>v(G(b),r(),o())]),dr("blur",F,M),gr(A,"clientWidth",H=>vt(b,H)),bt(t,A),wi()}mi(["pointermove","pointerdown","pointerout"]);xu.__docgen={data:[{name:"features",visibility:"public",description:"An array of geojson features to be displayed on the map. The map will scale the projection to fit this set of features.",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"array",text:"Object[]"},static:!1,readonly:!1},{name:"projection",visibility:"public",description:"A D3 geo projection to use with this map. Defaults to geoAlbersUsa.",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Function"},static:!1,readonly:!1,defaultValue:"function"},{name:"controlPosition",visibility:"public",description:"Where the zoom control UI should be positioned.",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"const",type:"string",value:"bottom-left",text:'"bottom-left"'},{kind:"const",type:"string",value:"bottom-right",text:'"bottom-right"'},{kind:"const",type:"string",value:"top-left",text:'"top-left"'},{kind:"const",type:"string",value:"top-right",text:'"top-right"'}],text:'"bottom-left" | "bottom-right" | "top-left" | "top-right"'},static:!1,readonly:!1,defaultValue:'"bottom-right"'},{name:"height",visibility:"public",description:"The height of the map in pixels.",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1,defaultValue:"600"},{name:"aspectRatio",visibility:"public",description:"Set the height of the map to a fixed aspect ratio based on width. This overrides the `height` property.",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1},{name:"ariaRole",visibility:"public",description:"Optional aria role string to be applied to SVG container. By default, the SVG is hidden from the accessibility tree. If you add an ariaRole here, any layers should also be given an ariaRole.",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"ariaLabel",visibility:"public",description:"Optional aria label string to be applied to SVG container. By default, the SVG is hidden from the accessibility tree and should include a descriptive label. If you add an ariaRole this property can be left undefined;",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"zoomable",visibility:"public",description:"Should the map allow zoom and pan?",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"maxZoom",visibility:"public",description:"If map is zoomable, sets a maximum zoom factor relative to the initial view.",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1,defaultValue:"8"},{name:"scrollWheel",visibility:"public",description:"Whether or not the map should zoom when scroll wheel is used on map.",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"const",type:"string",value:"no",text:'"no"'},{kind:"const",type:"string",value:"yes",text:'"yes"'},{kind:"const",type:"string",value:"ctrl",text:'"ctrl"'}],text:'"no" | "yes" | "ctrl"'},static:!1,readonly:!1,defaultValue:'"ctrl"'},{name:"backgroundColor",visibility:"public",description:"Fill for the background of the map",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"transparent"'},{name:"tooltipContainParent",visibility:"public",description:"If there is a tooltip on the map, should it be contained to the parent element",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"tooltipSize",visibility:"public",description:"whether to use a small (138px) or large (198px) width tooltip",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"const",type:"string",value:"small",text:'"small"'},{kind:"const",type:"string",value:"large",text:'"large"'}],text:'"small" | "large"'},static:!1,readonly:!1,defaultValue:'"small"'},{name:"onclick",visibility:"public",description:"Callback fired when a layer element is clicked",keywords:[],kind:"let",type:{kind:"function",text:"(e: CustomEvent<{ e: PointerEvent; props: any; }>) => void"},static:!1,readonly:!1},{name:"onmousemove",visibility:"public",description:"Callback fired when mouse moves over layer elements",keywords:[],kind:"let",type:{kind:"function",text:"(e: CustomEvent<{ e: PointerEvent; props: any; }>) => void"},static:!1,readonly:!1},{name:"onmouseout",visibility:"public",description:"Callback fired when mouse leaves layer elements",keywords:[],kind:"let",type:{kind:"function",text:"(e: CustomEvent<{ e: PointerEvent; }>) => void"},static:!1,readonly:!1},{name:"onbgclick",visibility:"public",description:"Callback fired when the map background is clicked",keywords:[],kind:"let",type:{kind:"function",text:"(e: CustomEvent<{ e: PointerEvent; }>) => void"},static:!1,readonly:!1},{name:"tooltip",visibility:"public",description:"Snippet for rendering tooltip content",keywords:[],kind:"let",type:{kind:"function",text:"Snippet<[any]>"},static:!1,readonly:!1},{name:"children",visibility:"public",description:"Default slot content (map layers)",keywords:[],kind:"let",type:{kind:"function",text:"Snippet<[]>"},static:!1,readonly:!1}],name:"SVGMap.svelte"};function Ou(t,n,e){return typeof n=="string"?n:n(t)||e}function Zu(t,n){return typeof n=="string"?n:n(t)}function gi(t,n){for(const e in t){const i=Object.keys(n).includes(e);if(i&&n[e]!==t[e]||!i)return!1}return!0}function Hu(t){t.parentNode.appendChild(t)}function Bu(t,n,e){return!t||!t.properties?!1:!!(n&&gi(n,t.properties)||e&&gi(e,t.properties))}export{xu as S,Ou as a,Zu as b,Sr as c,Du as d,I as e,qu as f,Bu as g,Iu as h,rt as i,Mr as j,Nu as k,Vu as l,Fu as p,Hu as r,at as t,Xu as u};
