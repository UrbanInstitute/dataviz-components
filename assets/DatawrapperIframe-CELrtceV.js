import{aA as c,p as E,i as n,a8 as L,au as I,aB as D,f as _,b as q,d as V}from"./iframe-D_iF5c85.js";import{a as M}from"./attributes-BlXGg7Yy.js";import{i as S}from"./lifecycle-DPT9lhMs.js";typeof window<"u"&&typeof window.datawrapper>"u"&&(window.datawrapper={});let a={};typeof window<"u"&&(a=window.datawrapper);let r={};typeof window<"u"&&window.addEventListener("message",A,!1);function A(e){e.data&&e.data.source==="datawrapper"&&e.data.chartId&&r[e.data.type]&&r[e.data.type].forEach(function(t){typeof t=="function"&&t(e.data)})}a.on=function(e,t){if(typeof e!="string")throw new Error("event name must be a string");if(typeof t!="function")throw new Error("callback must be a function");return r[e]||(r[e]=[]),r[e].push(t),a};a.one=function(e,t){a.on(e,function o(){t.apply(null,arguments),a.off(e,o)})};a.off=function(e,t){if(r[e]){t||(r[e].length=0);var o=r[e].indexOf(t);return o>-1&&r[e].splice(o,1),a}};const y=["bar.click","bar.mouseenter","bar.mouseleave","line.click","line.mouseenter","line.mouseleave","area.click","area.mouseenter","area.mouseleave","tooltip","highlight.set","highlight.clear","column:change","region.click","region.mouseenter","region.mouseleave","symbol.click","symbol.mouseenter","symbol.mouseleave","hash.changed","download","social-sharing.click","embed.modal.open","embed.modal.close","embed.copy","source.click","vis.rendered"];var H=_("<iframe></iframe>");function T(e,t){const o=c(t,["children","$$slots","$$events","$$legacy"]),m=c(o,["title","ariaLabel","datawrapperId","scrolling","frameborder","height","style"]);E(t,!1);let u=n(t,"title",8),w=n(t,"ariaLabel",8),l=n(t,"datawrapperId",8),h=n(t,"scrolling",8,"no"),g=n(t,"frameborder",8,"0"),b=n(t,"height",8,"500"),k=n(t,"style",8,"width: 0; min-width: 100% !important; border: none;");const f=L();y.forEach(i=>{a.on(i,s=>{f(i.replace(".",""),s)})}),typeof window<"u"&&window.addEventListener("message",function(i){if(i.data["datawrapper-height"]!==void 0){var s=document.querySelectorAll("iframe");for(var v in i.data["datawrapper-height"])for(var d=0;d<s.length;d++)if(s[d].contentWindow===i.source){var x=i.data["datawrapper-height"][v]+"px";s[d].style.height=x}}}),I(()=>{f("startrender")}),D(()=>{typeof window<"u"&&y.forEach(i=>{a.off(i)})}),S();var p=H();M(p,()=>({title:u(),"aria-label":w(),id:`datawrapper-chart-${l()??""}`,src:`https://datawrapper.dwcdn.net/${l()??""}`,scrolling:h(),frameborder:g(),style:k(),height:b(),"data-external":"1",...m})),q(e,p),V()}T.__docgen={data:[{name:"title",visibility:"public",description:"HTML title of the iframe",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"ariaLabel",visibility:"public",description:"HTML aria-label of the iframe",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"datawrapperId",visibility:"public",description:"Datawrapper chart ID",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"scrolling",visibility:"public",description:"iframe scrolling attribute",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"no"'},{name:"frameborder",visibility:"public",description:"iframe frameborder attribute",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"0"'},{name:"height",visibility:"public",description:"iframe height attribute (placeholder since reactivity is enabled)",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"500"'},{name:"style",visibility:"public",description:"CSS styles of the iframe",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"width: 0; min-width: 100% !important; border: none;"'}],name:"DatawrapperIframe.svelte"};export{T as D};
