import{S as ri,i as oi,s as li,n as ye,r as ui,k as mn,q as si,y as ur,u as ai,v as ci,w as fi,t as ct,b as _t,j as _e,l as Ln,c as hi,a as pi,m as di,d as mi,h as we,F as Pn,e as sr}from"./index-lamZ5WrB.js";import{e as Mt,s as Kt,p as bt,a as Tt,b as et,c as Qt,q as zt,d as Q,j as A,i as tn,k as j,w as kt,h as gi,f as ke,K as ar,A as cr,v as fr,x as hr}from"./lifecycle-BNS46k4e.js";import{r as vi,w as Nn}from"./collect-stories-D1soPxiK.js";import{i as Et,a as Se,b as Ee,d as pr}from"./string-3NetaFjT.js";import{T as dr}from"./Tooltip-BmgvXhKp.js";const yi="(prefers-reduced-motion: reduce)",mr=()=>{if(typeof window<"u")return window.matchMedia(yi).matches},gr=vi(mr(),t=>{const n=e=>{t(e.matches)};if(typeof window<"u"){const e=window.matchMedia(yi);return e.addEventListener("change",n),()=>{e.removeEventListener("change",n)}}});class At{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const o=e[r],l=n+o,u=Math.abs(n)<Math.abs(o)?n-(l-o):o-(l-n);u&&(e[i++]=u),n=l}return e[i]=n,this._n=i+1,this}valueOf(){const n=this._partials;let e=this._n,i,r,o,l=0;if(e>0){for(l=n[--e];e>0&&(i=l,r=n[--e],l=i+r,o=r-(l-i),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(r=o*2,i=l+r,r==i-l&&(l=i))}return l}}function*vr(t){for(const n of t)yield*n}function _i(t){return Array.from(vr(t))}var O=1e-6,yr=1e-12,D=Math.PI,rt=D/2,be=D/4,lt=D*2,J=180/D,W=D/180,Y=Math.abs,_r=Math.atan,Vt=Math.atan2,U=Math.cos,Es=Math.exp,bs=Math.log,X=Math.sin,an=Math.sign||function(t){return t>0?1:t<0?-1:0},vt=Math.sqrt,zs=Math.tan;function wr(t){return t>1?0:t<-1?D:Math.acos(t)}function Rt(t){return t>1?rt:t<-1?-rt:Math.asin(t)}function ot(){}function gn(t,n){t&&Me.hasOwnProperty(t.type)&&Me[t.type](t,n)}var ze={Feature:function(t,n){gn(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,i=-1,r=e.length;++i<r;)gn(e[i].geometry,n)}},Me={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)t=e[i],n.point(t[0],t[1],t[2])},LineString:function(t,n){Fn(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)Fn(e[i],n,0)},Polygon:function(t,n){Te(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)Te(e[i],n)},GeometryCollection:function(t,n){for(var e=t.geometries,i=-1,r=e.length;++i<r;)gn(e[i],n)}};function Fn(t,n,e){var i=-1,r=t.length-e,o;for(n.lineStart();++i<r;)o=t[i],n.point(o[0],o[1],o[2]);n.lineEnd()}function Te(t,n){var e=-1,i=t.length;for(n.polygonStart();++e<i;)Fn(t[e],n,1);n.polygonEnd()}function Nt(t,n){t&&ze.hasOwnProperty(t.type)?ze[t.type](t,n):gn(t,n)}function Zn(t){return[Vt(t[1],t[0]),Rt(t[2])]}function qt(t){var n=t[0],e=t[1],i=U(e);return[i*U(n),i*X(n),X(e)]}function en(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function vn(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function In(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function rn(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function xn(t){var n=vt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Bn(t,n){function e(i,r){return i=t(i,r),n(i[0],i[1])}return t.invert&&n.invert&&(e.invert=function(i,r){return i=n.invert(i,r),i&&t.invert(i[0],i[1])}),e}function Xn(t,n){return Y(t)>D&&(t-=Math.round(t/lt)*lt),[t,n]}Xn.invert=Xn;function wi(t,n,e){return(t%=lt)?n||e?Bn(Re(t),Ce(n,e)):Re(t):n||e?Ce(n,e):Xn}function Ae(t){return function(n,e){return n+=t,Y(n)>D&&(n-=Math.round(n/lt)*lt),[n,e]}}function Re(t){var n=Ae(t);return n.invert=Ae(-t),n}function Ce(t,n){var e=U(t),i=X(t),r=U(n),o=X(n);function l(u,c){var a=U(c),s=U(u)*a,h=X(u)*a,f=X(c),p=f*e+s*i;return[Vt(h*r-p*o,s*e-f*i),Rt(p*r+h*o)]}return l.invert=function(u,c){var a=U(c),s=U(u)*a,h=X(u)*a,f=X(c),p=f*r-h*o;return[Vt(h*r+f*o,s*e+p*i),Rt(p*e-s*i)]},l}function Ms(t){t=wi(t[0]*W,t[1]*W,t.length>2?t[2]*W:0);function n(e){return e=t(e[0]*W,e[1]*W),e[0]*=J,e[1]*=J,e}return n.invert=function(e){return e=t.invert(e[0]*W,e[1]*W),e[0]*=J,e[1]*=J,e},n}function kr(t,n,e,i,r,o){if(e){var l=U(n),u=X(n),c=i*e;r==null?(r=n+i*lt,o=n-c/2):(r=Le(l,r),o=Le(l,o),(i>0?r<o:r>o)&&(r+=i*lt));for(var a,s=r;i>0?s>o:s<o;s-=c)a=Zn([l,-u*U(s),-u*X(s)]),t.point(a[0],a[1])}}function Le(t,n){n=qt(n),n[0]-=t,xn(n);var e=wr(-n[1]);return((-n[2]<0?-e:e)+lt-O)%lt}function ki(){var t=[],n;return{point:function(e,i,r){n.push([e,i,r])},lineStart:function(){t.push(n=[])},lineEnd:ot,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function cn(t,n){return Y(t[0]-n[0])<O&&Y(t[1]-n[1])<O}function on(t,n,e,i){this.x=t,this.z=n,this.o=e,this.e=i,this.v=!1,this.n=this.p=null}function Si(t,n,e,i,r){var o=[],l=[],u,c;if(t.forEach(function(g){if(!((_=g.length-1)<=0)){var _,w=g[0],y=g[_],k;if(cn(w,y)){if(!w[2]&&!y[2]){for(r.lineStart(),u=0;u<_;++u)r.point((w=g[u])[0],w[1]);r.lineEnd();return}y[0]+=2*O}o.push(k=new on(w,g,null,!0)),l.push(k.o=new on(w,null,k,!1)),o.push(k=new on(y,g,null,!1)),l.push(k.o=new on(y,null,k,!0))}}),!!o.length){for(l.sort(n),Pe(o),Pe(l),u=0,c=l.length;u<c;++u)l[u].e=e=!e;for(var a=o[0],s,h;;){for(var f=a,p=!0;f.v;)if((f=f.n)===a)return;s=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(u=0,c=s.length;u<c;++u)r.point((h=s[u])[0],h[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p)for(s=f.p.z,u=s.length-1;u>=0;--u)r.point((h=s[u])[0],h[1]);else i(f.x,f.p.x,-1,r);f=f.p}f=f.o,s=f.z,p=!p}while(!f.v);r.lineEnd()}}}function Pe(t){if(n=t.length){for(var n,e=0,i=t[0],r;++e<n;)i.n=r=t[e],r.p=i,i=r;i.n=r=t[0],r.p=i}}function Vn(t){return Y(t[0])<=D?t[0]:an(t[0])*((Y(t[0])+D)%lt-D)}function Sr(t,n){var e=Vn(n),i=n[1],r=X(i),o=[X(e),-U(e),0],l=0,u=0,c=new At;r===1?i=rt+O:r===-1&&(i=-rt-O);for(var a=0,s=t.length;a<s;++a)if(f=(h=t[a]).length)for(var h,f,p=h[f-1],g=Vn(p),_=p[1]/2+be,w=X(_),y=U(_),k=0;k<f;++k,g=b,w=T,y=V,p=S){var S=h[k],b=Vn(S),z=S[1]/2+be,T=X(z),V=U(z),N=b-g,I=N>=0?1:-1,F=I*N,L=F>D,H=w*T;if(c.add(Vt(H*I*X(F),y*V+H*U(F))),l+=L?N+I*lt:N,L^g>=e^b>=e){var Z=vn(qt(p),qt(S));xn(Z);var d=vn(o,Z);xn(d);var m=(L^N>=0?-1:1)*Rt(d[2]);(i>m||i===m&&(Z[0]||Z[1]))&&(u+=L^N>=0?1:-1)}}return(l<-O||l<O&&c<-yr)^u&1}function Ei(t,n,e,i){return function(r){var o=n(r),l=ki(),u=n(l),c=!1,a,s,h,f={point:p,lineStart:_,lineEnd:w,polygonStart:function(){f.point=y,f.lineStart=k,f.lineEnd=S,s=[],a=[]},polygonEnd:function(){f.point=p,f.lineStart=_,f.lineEnd=w,s=_i(s);var b=Sr(a,i);s.length?(c||(r.polygonStart(),c=!0),Si(s,br,b,e,r)):b&&(c||(r.polygonStart(),c=!0),r.lineStart(),e(null,null,1,r),r.lineEnd()),c&&(r.polygonEnd(),c=!1),s=a=null},sphere:function(){r.polygonStart(),r.lineStart(),e(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function p(b,z){t(b,z)&&r.point(b,z)}function g(b,z){o.point(b,z)}function _(){f.point=g,o.lineStart()}function w(){f.point=p,o.lineEnd()}function y(b,z){h.push([b,z]),u.point(b,z)}function k(){u.lineStart(),h=[]}function S(){y(h[0][0],h[0][1]),u.lineEnd();var b=u.clean(),z=l.result(),T,V=z.length,N,I,F;if(h.pop(),a.push(h),h=null,!!V){if(b&1){if(I=z[0],(N=I.length-1)>0){for(c||(r.polygonStart(),c=!0),r.lineStart(),T=0;T<N;++T)r.point((F=I[T])[0],F[1]);r.lineEnd()}return}V>1&&b&2&&z.push(z.pop().concat(z.shift())),s.push(z.filter(Er))}}return f}}function Er(t){return t.length>1}function br(t,n){return((t=t.x)[0]<0?t[1]-rt-O:rt-t[1])-((n=n.x)[0]<0?n[1]-rt-O:rt-n[1])}const Ne=Ei(function(){return!0},zr,Tr,[-D,-rt]);function zr(t){var n=NaN,e=NaN,i=NaN,r;return{lineStart:function(){t.lineStart(),r=1},point:function(o,l){var u=o>0?D:-D,c=Y(o-n);Y(c-D)<O?(t.point(n,e=(e+l)/2>0?rt:-rt),t.point(i,e),t.lineEnd(),t.lineStart(),t.point(u,e),t.point(o,e),r=0):i!==u&&c>=D&&(Y(n-i)<O&&(n-=i*O),Y(o-u)<O&&(o-=u*O),e=Mr(n,e,o,l),t.point(i,e),t.lineEnd(),t.lineStart(),t.point(u,e),r=0),t.point(n=o,e=l),i=u},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-r}}}function Mr(t,n,e,i){var r,o,l=X(t-e);return Y(l)>O?_r((X(n)*(o=U(i))*X(e)-X(i)*(r=U(n))*X(t))/(r*o*l)):(n+i)/2}function Tr(t,n,e,i){var r;if(t==null)r=e*rt,i.point(-D,r),i.point(0,r),i.point(D,r),i.point(D,0),i.point(D,-r),i.point(0,-r),i.point(-D,-r),i.point(-D,0),i.point(-D,r);else if(Y(t[0]-n[0])>O){var o=t[0]<n[0]?D:-D;r=e*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(n[0],n[1])}function Ar(t){var n=U(t),e=2*W,i=n>0,r=Y(n)>O;function o(s,h,f,p){kr(p,t,e,f,s,h)}function l(s,h){return U(s)*U(h)>n}function u(s){var h,f,p,g,_;return{lineStart:function(){g=p=!1,_=1},point:function(w,y){var k=[w,y],S,b=l(w,y),z=i?b?0:a(w,y):b?a(w+(w<0?D:-D),y):0;if(!h&&(g=p=b)&&s.lineStart(),b!==p&&(S=c(h,k),(!S||cn(h,S)||cn(k,S))&&(k[2]=1)),b!==p)_=0,b?(s.lineStart(),S=c(k,h),s.point(S[0],S[1])):(S=c(h,k),s.point(S[0],S[1],2),s.lineEnd()),h=S;else if(r&&h&&i^b){var T;!(z&f)&&(T=c(k,h,!0))&&(_=0,i?(s.lineStart(),s.point(T[0][0],T[0][1]),s.point(T[1][0],T[1][1]),s.lineEnd()):(s.point(T[1][0],T[1][1]),s.lineEnd(),s.lineStart(),s.point(T[0][0],T[0][1],3)))}b&&(!h||!cn(h,k))&&s.point(k[0],k[1]),h=k,p=b,f=z},lineEnd:function(){p&&s.lineEnd(),h=null},clean:function(){return _|(g&&p)<<1}}}function c(s,h,f){var p=qt(s),g=qt(h),_=[1,0,0],w=vn(p,g),y=en(w,w),k=w[0],S=y-k*k;if(!S)return!f&&s;var b=n*y/S,z=-n*k/S,T=vn(_,w),V=rn(_,b),N=rn(w,z);In(V,N);var I=T,F=en(V,I),L=en(I,I),H=F*F-L*(en(V,V)-1);if(!(H<0)){var Z=vt(H),d=rn(I,(-F-Z)/L);if(In(d,V),d=Zn(d),!f)return d;var m=s[0],v=h[0],E=s[1],M=h[1],R;v<m&&(R=m,m=v,v=R);var P=v-m,q=Y(P-D)<O,x=q||P<O;if(!q&&M<E&&(R=E,E=M,M=R),x?q?E+M>0^d[1]<(Y(d[0]-m)<O?E:M):E<=d[1]&&d[1]<=M:P>D^(m<=d[0]&&d[0]<=v)){var G=rn(I,(-F+Z)/L);return In(G,V),[d,Zn(G)]}}}function a(s,h){var f=i?t:D-t,p=0;return s<-f?p|=1:s>f&&(p|=2),h<-f?p|=4:h>f&&(p|=8),p}return Ei(l,u,o,i?[0,-t]:[-D,t-D])}function Rr(t,n,e,i,r,o){var l=t[0],u=t[1],c=n[0],a=n[1],s=0,h=1,f=c-l,p=a-u,g;if(g=e-l,!(!f&&g>0)){if(g/=f,f<0){if(g<s)return;g<h&&(h=g)}else if(f>0){if(g>h)return;g>s&&(s=g)}if(g=r-l,!(!f&&g<0)){if(g/=f,f<0){if(g>h)return;g>s&&(s=g)}else if(f>0){if(g<s)return;g<h&&(h=g)}if(g=i-u,!(!p&&g>0)){if(g/=p,p<0){if(g<s)return;g<h&&(h=g)}else if(p>0){if(g>h)return;g>s&&(s=g)}if(g=o-u,!(!p&&g<0)){if(g/=p,p<0){if(g>h)return;g>s&&(s=g)}else if(p>0){if(g<s)return;g<h&&(h=g)}return s>0&&(t[0]=l+s*f,t[1]=u+s*p),h<1&&(n[0]=l+h*f,n[1]=u+h*p),!0}}}}}var Bt=1e9,ln=-Bt;function Cr(t,n,e,i){function r(a,s){return t<=a&&a<=e&&n<=s&&s<=i}function o(a,s,h,f){var p=0,g=0;if(a==null||(p=l(a,h))!==(g=l(s,h))||c(a,s)<0^h>0)do f.point(p===0||p===3?t:e,p>1?i:n);while((p=(p+h+4)%4)!==g);else f.point(s[0],s[1])}function l(a,s){return Y(a[0]-t)<O?s>0?0:3:Y(a[0]-e)<O?s>0?2:1:Y(a[1]-n)<O?s>0?1:0:s>0?3:2}function u(a,s){return c(a.x,s.x)}function c(a,s){var h=l(a,1),f=l(s,1);return h!==f?h-f:h===0?s[1]-a[1]:h===1?a[0]-s[0]:h===2?a[1]-s[1]:s[0]-a[0]}return function(a){var s=a,h=ki(),f,p,g,_,w,y,k,S,b,z,T,V={point:N,lineStart:H,lineEnd:Z,polygonStart:F,polygonEnd:L};function N(m,v){r(m,v)&&s.point(m,v)}function I(){for(var m=0,v=0,E=p.length;v<E;++v)for(var M=p[v],R=1,P=M.length,q=M[0],x,G,B=q[0],K=q[1];R<P;++R)x=B,G=K,q=M[R],B=q[0],K=q[1],G<=i?K>i&&(B-x)*(i-G)>(K-G)*(t-x)&&++m:K<=i&&(B-x)*(i-G)<(K-G)*(t-x)&&--m;return m}function F(){s=h,f=[],p=[],T=!0}function L(){var m=I(),v=T&&m,E=(f=_i(f)).length;(v||E)&&(a.polygonStart(),v&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),E&&Si(f,u,m,o,a),a.polygonEnd()),s=a,f=p=g=null}function H(){V.point=d,p&&p.push(g=[]),z=!0,b=!1,k=S=NaN}function Z(){f&&(d(_,w),y&&b&&h.rejoin(),f.push(h.result())),V.point=N,b&&s.lineEnd()}function d(m,v){var E=r(m,v);if(p&&g.push([m,v]),z)_=m,w=v,y=E,z=!1,E&&(s.lineStart(),s.point(m,v));else if(E&&b)s.point(m,v);else{var M=[k=Math.max(ln,Math.min(Bt,k)),S=Math.max(ln,Math.min(Bt,S))],R=[m=Math.max(ln,Math.min(Bt,m)),v=Math.max(ln,Math.min(Bt,v))];Rr(M,R,t,n,e,i)?(b||(s.lineStart(),s.point(M[0],M[1])),s.point(R[0],R[1]),E||s.lineEnd(),T=!1):E&&(s.lineStart(),s.point(m,v),T=!1)}k=m,S=v,b=E}return V}}const Hn=t=>t;var qn=new At,Yn=new At,bi,zi,Un,Gn,mt={point:ot,lineStart:ot,lineEnd:ot,polygonStart:function(){mt.lineStart=Lr,mt.lineEnd=Nr},polygonEnd:function(){mt.lineStart=mt.lineEnd=mt.point=ot,qn.add(Y(Yn)),Yn=new At},result:function(){var t=qn/2;return qn=new At,t}};function Lr(){mt.point=Pr}function Pr(t,n){mt.point=Mi,bi=Un=t,zi=Gn=n}function Mi(t,n){Yn.add(Gn*t-Un*n),Un=t,Gn=n}function Nr(){Mi(bi,zi)}var Dt=1/0,yn=Dt,Jt=-Dt,_n=Jt,wn={point:Ir,lineStart:ot,lineEnd:ot,polygonStart:ot,polygonEnd:ot,result:function(){var t=[[Dt,yn],[Jt,_n]];return Jt=_n=-(yn=Dt=1/0),t}};function Ir(t,n){t<Dt&&(Dt=t),t>Jt&&(Jt=t),n<yn&&(yn=n),n>_n&&(_n=n)}var Wn=0,Kn=0,Xt=0,kn=0,Sn=0,It=0,Qn=0,Jn=0,Ht=0,Ti,Ai,ft,ht,it={point:Ct,lineStart:Ie,lineEnd:Ve,polygonStart:function(){it.lineStart=Dr,it.lineEnd=Or},polygonEnd:function(){it.point=Ct,it.lineStart=Ie,it.lineEnd=Ve},result:function(){var t=Ht?[Qn/Ht,Jn/Ht]:It?[kn/It,Sn/It]:Xt?[Wn/Xt,Kn/Xt]:[NaN,NaN];return Wn=Kn=Xt=kn=Sn=It=Qn=Jn=Ht=0,t}};function Ct(t,n){Wn+=t,Kn+=n,++Xt}function Ie(){it.point=Vr}function Vr(t,n){it.point=qr,Ct(ft=t,ht=n)}function qr(t,n){var e=t-ft,i=n-ht,r=vt(e*e+i*i);kn+=r*(ft+t)/2,Sn+=r*(ht+n)/2,It+=r,Ct(ft=t,ht=n)}function Ve(){it.point=Ct}function Dr(){it.point=Fr}function Or(){Ri(Ti,Ai)}function Fr(t,n){it.point=Ri,Ct(Ti=ft=t,Ai=ht=n)}function Ri(t,n){var e=t-ft,i=n-ht,r=vt(e*e+i*i);kn+=r*(ft+t)/2,Sn+=r*(ht+n)/2,It+=r,r=ht*t-ft*n,Qn+=r*(ft+t),Jn+=r*(ht+n),Ht+=r*3,Ct(ft=t,ht=n)}function Ci(t){this._context=t}Ci.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,lt);break}}},result:ot};var jn=new At,Dn,Li,Pi,Yt,Ut,jt={point:ot,lineStart:function(){jt.point=Zr},lineEnd:function(){Dn&&Ni(Li,Pi),jt.point=ot},polygonStart:function(){Dn=!0},polygonEnd:function(){Dn=null},result:function(){var t=+jn;return jn=new At,t}};function Zr(t,n){jt.point=Ni,Li=Yt=t,Pi=Ut=n}function Ni(t,n){Yt-=t,Ut-=n,jn.add(vt(Yt*Yt+Ut*Ut)),Yt=t,Ut=n}let qe,En,De,Oe;class Fe{constructor(n){this._append=n==null?Ii:xr(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==De||this._append!==En){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,De=i,En=this._append,Oe=this._,this._=r}this._+=Oe;break}}}result(){const n=this._;return this._="",n.length?n:null}}function Ii(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function xr(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Ii;if(n!==qe){const e=10**n;qe=n,En=function(r){let o=1;this._+=r[0];for(const l=r.length;o<l;++o)this._+=Math.round(arguments[o]*e)/e+r[o]}}return En}function Ts(t,n){let e=3,i=4.5,r,o;function l(u){return u&&(typeof i=="function"&&o.pointRadius(+i.apply(this,arguments)),Nt(u,r(o))),o.result()}return l.area=function(u){return Nt(u,r(mt)),mt.result()},l.measure=function(u){return Nt(u,r(jt)),jt.result()},l.bounds=function(u){return Nt(u,r(wn)),wn.result()},l.centroid=function(u){return Nt(u,r(it)),it.result()},l.projection=function(u){return arguments.length?(r=u==null?(t=null,Hn):(t=u).stream,l):t},l.context=function(u){return arguments.length?(o=u==null?(n=null,new Fe(e)):new Ci(n=u),typeof i!="function"&&o.pointRadius(i),l):n},l.pointRadius=function(u){return arguments.length?(i=typeof u=="function"?u:(o.pointRadius(+u),+u),l):i},l.digits=function(u){if(!arguments.length)return e;if(u==null)e=null;else{const c=Math.floor(u);if(!(c>=0))throw new RangeError(`invalid digits: ${u}`);e=c}return n===null&&(o=new Fe(e)),l},l.projection(t).digits(e).context(n)}function ae(t){return function(n){var e=new $n;for(var i in t)e[i]=t[i];return e.stream=n,e}}function $n(){}$n.prototype={constructor:$n,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ce(t,n,e){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),i!=null&&t.clipExtent(null),Nt(e,t.stream(wn)),n(wn.result()),i!=null&&t.clipExtent(i),t}function fe(t,n,e){return ce(t,function(i){var r=n[1][0]-n[0][0],o=n[1][1]-n[0][1],l=Math.min(r/(i[1][0]-i[0][0]),o/(i[1][1]-i[0][1])),u=+n[0][0]+(r-l*(i[1][0]+i[0][0]))/2,c=+n[0][1]+(o-l*(i[1][1]+i[0][1]))/2;t.scale(150*l).translate([u,c])},e)}function Vi(t,n,e){return fe(t,[[0,0],n],e)}function qi(t,n,e){return ce(t,function(i){var r=+n,o=r/(i[1][0]-i[0][0]),l=(r-o*(i[1][0]+i[0][0]))/2,u=-o*i[0][1];t.scale(150*o).translate([l,u])},e)}function Di(t,n,e){return ce(t,function(i){var r=+n,o=r/(i[1][1]-i[0][1]),l=-o*i[0][0],u=(r-o*(i[1][1]+i[0][1]))/2;t.scale(150*o).translate([l,u])},e)}var Ze=16,Br=U(30*W);function xe(t,n){return+n?Hr(t,n):Xr(t)}function Xr(t){return ae({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function Hr(t,n){function e(i,r,o,l,u,c,a,s,h,f,p,g,_,w){var y=a-i,k=s-r,S=y*y+k*k;if(S>4*n&&_--){var b=l+f,z=u+p,T=c+g,V=vt(b*b+z*z+T*T),N=Rt(T/=V),I=Y(Y(T)-1)<O||Y(o-h)<O?(o+h)/2:Vt(z,b),F=t(I,N),L=F[0],H=F[1],Z=L-i,d=H-r,m=k*Z-y*d;(m*m/S>n||Y((y*Z+k*d)/S-.5)>.3||l*f+u*p+c*g<Br)&&(e(i,r,o,l,u,c,L,H,I,b/=V,z/=V,T,_,w),w.point(L,H),e(L,H,I,b,z,T,a,s,h,f,p,g,_,w))}}return function(i){var r,o,l,u,c,a,s,h,f,p,g,_,w={point:y,lineStart:k,lineEnd:b,polygonStart:function(){i.polygonStart(),w.lineStart=z},polygonEnd:function(){i.polygonEnd(),w.lineStart=k}};function y(N,I){N=t(N,I),i.point(N[0],N[1])}function k(){h=NaN,w.point=S,i.lineStart()}function S(N,I){var F=qt([N,I]),L=t(N,I);e(h,f,s,p,g,_,h=L[0],f=L[1],s=N,p=F[0],g=F[1],_=F[2],Ze,i),i.point(h,f)}function b(){w.point=y,i.lineEnd()}function z(){k(),w.point=T,w.lineEnd=V}function T(N,I){S(r=N,I),o=h,l=f,u=p,c=g,a=_,w.point=S}function V(){e(h,f,s,p,g,_,o,l,r,u,c,a,Ze,i),w.lineEnd=b,b()}return w}}var Yr=ae({point:function(t,n){this.stream.point(t*W,n*W)}});function Ur(t){return ae({point:function(n,e){var i=t(n,e);return this.stream.point(i[0],i[1])}})}function Gr(t,n,e,i,r){function o(l,u){return l*=i,u*=r,[n+t*l,e-t*u]}return o.invert=function(l,u){return[(l-n)/t*i,(e-u)/t*r]},o}function Be(t,n,e,i,r,o){if(!o)return Gr(t,n,e,i,r);var l=U(o),u=X(o),c=l*t,a=u*t,s=l/t,h=u/t,f=(u*e-l*n)/t,p=(u*n+l*e)/t;function g(_,w){return _*=i,w*=r,[c*_-a*w+n,e-a*_-c*w]}return g.invert=function(_,w){return[i*(s*_-h*w+f),r*(p-h*_-s*w)]},g}function As(t){return Oi(function(){return t})()}function Oi(t){var n,e=150,i=480,r=250,o=0,l=0,u=0,c=0,a=0,s,h=0,f=1,p=1,g=null,_=Ne,w=null,y,k,S,b=Hn,z=.5,T,V,N,I,F;function L(m){return N(m[0]*W,m[1]*W)}function H(m){return m=N.invert(m[0],m[1]),m&&[m[0]*J,m[1]*J]}L.stream=function(m){return I&&F===m?I:I=Yr(Ur(s)(_(T(b(F=m)))))},L.preclip=function(m){return arguments.length?(_=m,g=void 0,d()):_},L.postclip=function(m){return arguments.length?(b=m,w=y=k=S=null,d()):b},L.clipAngle=function(m){return arguments.length?(_=+m?Ar(g=m*W):(g=null,Ne),d()):g*J},L.clipExtent=function(m){return arguments.length?(b=m==null?(w=y=k=S=null,Hn):Cr(w=+m[0][0],y=+m[0][1],k=+m[1][0],S=+m[1][1]),d()):w==null?null:[[w,y],[k,S]]},L.scale=function(m){return arguments.length?(e=+m,Z()):e},L.translate=function(m){return arguments.length?(i=+m[0],r=+m[1],Z()):[i,r]},L.center=function(m){return arguments.length?(o=m[0]%360*W,l=m[1]%360*W,Z()):[o*J,l*J]},L.rotate=function(m){return arguments.length?(u=m[0]%360*W,c=m[1]%360*W,a=m.length>2?m[2]%360*W:0,Z()):[u*J,c*J,a*J]},L.angle=function(m){return arguments.length?(h=m%360*W,Z()):h*J},L.reflectX=function(m){return arguments.length?(f=m?-1:1,Z()):f<0},L.reflectY=function(m){return arguments.length?(p=m?-1:1,Z()):p<0},L.precision=function(m){return arguments.length?(T=xe(V,z=m*m),d()):vt(z)},L.fitExtent=function(m,v){return fe(L,m,v)},L.fitSize=function(m,v){return Vi(L,m,v)},L.fitWidth=function(m,v){return qi(L,m,v)},L.fitHeight=function(m,v){return Di(L,m,v)};function Z(){var m=Be(e,0,0,f,p,h).apply(null,n(o,l)),v=Be(e,i-m[0],r-m[1],f,p,h);return s=wi(u,c,a),V=Bn(n,v),N=Bn(s,V),T=xe(V,z),d()}function d(){return I=F=null,L}return function(){return n=t.apply(this,arguments),L.invert=n.invert&&H,Z()}}function Wr(t){var n=0,e=D/3,i=Oi(t),r=i(n,e);return r.parallels=function(o){return arguments.length?i(n=o[0]*W,e=o[1]*W):[n*J,e*J]},r}function Kr(t){var n=U(t);function e(i,r){return[i*n,X(r)/n]}return e.invert=function(i,r){return[i/n,Rt(r*n)]},e}function Qr(t,n){var e=X(t),i=(e+X(n))/2;if(Y(i)<O)return Kr(t);var r=1+e*(2*i-e),o=vt(r)/i;function l(u,c){var a=vt(r-2*i*X(c))/i;return[a*X(u*=i),o-a*U(u)]}return l.invert=function(u,c){var a=o-c,s=Vt(u,Y(a))*an(a);return a*i<0&&(s-=D*an(u)*an(a)),[s/i,Rt((r-(u*u+a*a)*i*i)/(2*i))]},l}function te(){return Wr(Qr).scale(155.424).center([0,33.6442])}function Jr(){return te().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function jr(t){var n=t.length;return{point:function(e,i){for(var r=-1;++r<n;)t[r].point(e,i)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function $r(){var t,n,e=Jr(),i,r=te().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,l=te().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u,c,a={point:function(f,p){c=[f,p]}};function s(f){var p=f[0],g=f[1];return c=null,i.point(p,g),c||(o.point(p,g),c)||(u.point(p,g),c)}s.invert=function(f){var p=e.scale(),g=e.translate(),_=(f[0]-g[0])/p,w=(f[1]-g[1])/p;return(w>=.12&&w<.234&&_>=-.425&&_<-.214?r:w>=.166&&w<.234&&_>=-.214&&_<-.115?l:e).invert(f)},s.stream=function(f){return t&&n===f?t:t=jr([e.stream(n=f),r.stream(f),l.stream(f)])},s.precision=function(f){return arguments.length?(e.precision(f),r.precision(f),l.precision(f),h()):e.precision()},s.scale=function(f){return arguments.length?(e.scale(f),r.scale(f*.35),l.scale(f),s.translate(e.translate())):e.scale()},s.translate=function(f){if(!arguments.length)return e.translate();var p=e.scale(),g=+f[0],_=+f[1];return i=e.translate(f).clipExtent([[g-.455*p,_-.238*p],[g+.455*p,_+.238*p]]).stream(a),o=r.translate([g-.307*p,_+.201*p]).clipExtent([[g-.425*p+O,_+.12*p+O],[g-.214*p-O,_+.234*p-O]]).stream(a),u=l.translate([g-.205*p,_+.212*p]).clipExtent([[g-.214*p+O,_+.166*p+O],[g-.115*p-O,_+.234*p-O]]).stream(a),h()},s.fitExtent=function(f,p){return fe(s,f,p)},s.fitSize=function(f,p){return Vi(s,f,p)},s.fitWidth=function(f,p){return qi(s,f,p)},s.fitHeight=function(f,p){return Di(s,f,p)};function h(){return t=n=null,s}return s.scale(1070)}var to={value:()=>{}};function he(){for(var t=0,n=arguments.length,e={},i;t<n;++t){if(!(i=arguments[t]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new fn(e)}function fn(t){this._=t}function no(t,n){return t.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}fn.prototype=he.prototype={constructor:fn,on:function(t,n){var e=this._,i=no(t+"",e),r,o=-1,l=i.length;if(arguments.length<2){for(;++o<l;)if((r=(t=i[o]).type)&&(r=eo(e[r],t.name)))return r;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<l;)if(r=(t=i[o]).type)e[r]=Xe(e[r],t.name,n);else if(n==null)for(r in e)e[r]=Xe(e[r],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new fn(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var e=new Array(r),i=0,r,o;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(n,e)}};function eo(t,n){for(var e=0,i=t.length,r;e<i;++e)if((r=t[e]).name===n)return r.value}function Xe(t,n,e){for(var i=0,r=t.length;i<r;++i)if(t[i].name===n){t[i]=to,t=t.slice(0,i).concat(t.slice(i+1));break}return e!=null&&t.push({name:n,value:e}),t}var ne="http://www.w3.org/1999/xhtml";const He={svg:"http://www.w3.org/2000/svg",xhtml:ne,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function An(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),He.hasOwnProperty(n)?{space:He[n],local:t}:t}function io(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===ne&&n.documentElement.namespaceURI===ne?n.createElement(t):n.createElementNS(e,t)}}function ro(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Fi(t){var n=An(t);return(n.local?ro:io)(n)}function oo(){}function pe(t){return t==null?oo:function(){return this.querySelector(t)}}function lo(t){typeof t!="function"&&(t=pe(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],l=o.length,u=i[r]=new Array(l),c,a,s=0;s<l;++s)(c=o[s])&&(a=t.call(c,c.__data__,s,o))&&("__data__"in c&&(a.__data__=c.__data__),u[s]=a);return new nt(i,this._parents)}function uo(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function so(){return[]}function Zi(t){return t==null?so:function(){return this.querySelectorAll(t)}}function ao(t){return function(){return uo(t.apply(this,arguments))}}function co(t){typeof t=="function"?t=ao(t):t=Zi(t);for(var n=this._groups,e=n.length,i=[],r=[],o=0;o<e;++o)for(var l=n[o],u=l.length,c,a=0;a<u;++a)(c=l[a])&&(i.push(t.call(c,c.__data__,a,l)),r.push(c));return new nt(i,r)}function xi(t){return function(){return this.matches(t)}}function Bi(t){return function(n){return n.matches(t)}}var fo=Array.prototype.find;function ho(t){return function(){return fo.call(this.children,t)}}function po(){return this.firstElementChild}function mo(t){return this.select(t==null?po:ho(typeof t=="function"?t:Bi(t)))}var go=Array.prototype.filter;function vo(){return Array.from(this.children)}function yo(t){return function(){return go.call(this.children,t)}}function _o(t){return this.selectAll(t==null?vo:yo(typeof t=="function"?t:Bi(t)))}function wo(t){typeof t!="function"&&(t=xi(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],l=o.length,u=i[r]=[],c,a=0;a<l;++a)(c=o[a])&&t.call(c,c.__data__,a,o)&&u.push(c);return new nt(i,this._parents)}function Xi(t){return new Array(t.length)}function ko(){return new nt(this._enter||this._groups.map(Xi),this._parents)}function bn(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}bn.prototype={constructor:bn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function So(t){return function(){return t}}function Eo(t,n,e,i,r,o){for(var l=0,u,c=n.length,a=o.length;l<a;++l)(u=n[l])?(u.__data__=o[l],i[l]=u):e[l]=new bn(t,o[l]);for(;l<c;++l)(u=n[l])&&(r[l]=u)}function bo(t,n,e,i,r,o,l){var u,c,a=new Map,s=n.length,h=o.length,f=new Array(s),p;for(u=0;u<s;++u)(c=n[u])&&(f[u]=p=l.call(c,c.__data__,u,n)+"",a.has(p)?r[u]=c:a.set(p,c));for(u=0;u<h;++u)p=l.call(t,o[u],u,o)+"",(c=a.get(p))?(i[u]=c,c.__data__=o[u],a.delete(p)):e[u]=new bn(t,o[u]);for(u=0;u<s;++u)(c=n[u])&&a.get(f[u])===c&&(r[u]=c)}function zo(t){return t.__data__}function Mo(t,n){if(!arguments.length)return Array.from(this,zo);var e=n?bo:Eo,i=this._parents,r=this._groups;typeof t!="function"&&(t=So(t));for(var o=r.length,l=new Array(o),u=new Array(o),c=new Array(o),a=0;a<o;++a){var s=i[a],h=r[a],f=h.length,p=To(t.call(s,s&&s.__data__,a,i)),g=p.length,_=u[a]=new Array(g),w=l[a]=new Array(g),y=c[a]=new Array(f);e(s,h,_,w,y,p,n);for(var k=0,S=0,b,z;k<g;++k)if(b=_[k]){for(k>=S&&(S=k+1);!(z=w[S])&&++S<g;);b._next=z||null}}return l=new nt(l,i),l._enter=u,l._exit=c,l}function To(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ao(){return new nt(this._exit||this._groups.map(Xi),this._parents)}function Ro(t,n,e){var i=this.enter(),r=this,o=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),n!=null&&(r=n(r),r&&(r=r.selection())),e==null?o.remove():e(o),i&&r?i.merge(r).order():r}function Co(t){for(var n=t.selection?t.selection():t,e=this._groups,i=n._groups,r=e.length,o=i.length,l=Math.min(r,o),u=new Array(r),c=0;c<l;++c)for(var a=e[c],s=i[c],h=a.length,f=u[c]=new Array(h),p,g=0;g<h;++g)(p=a[g]||s[g])&&(f[g]=p);for(;c<r;++c)u[c]=e[c];return new nt(u,this._parents)}function Lo(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var i=t[n],r=i.length-1,o=i[r],l;--r>=0;)(l=i[r])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function Po(t){t||(t=No);function n(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o){for(var l=e[o],u=l.length,c=r[o]=new Array(u),a,s=0;s<u;++s)(a=l[s])&&(c[s]=a);c.sort(n)}return new nt(r,this._parents).order()}function No(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Io(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Vo(){return Array.from(this)}function qo(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length;r<o;++r){var l=i[r];if(l)return l}return null}function Do(){let t=0;for(const n of this)++t;return t}function Oo(){return!this.node()}function Fo(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r=n[e],o=0,l=r.length,u;o<l;++o)(u=r[o])&&t.call(u,u.__data__,o,r);return this}function Zo(t){return function(){this.removeAttribute(t)}}function xo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Bo(t,n){return function(){this.setAttribute(t,n)}}function Xo(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Ho(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Yo(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Uo(t,n){var e=An(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((n==null?e.local?xo:Zo:typeof n=="function"?e.local?Yo:Ho:e.local?Xo:Bo)(e,n))}function Hi(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Go(t){return function(){this.style.removeProperty(t)}}function Wo(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Ko(t,n,e){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function Qo(t,n,e){return arguments.length>1?this.each((n==null?Go:typeof n=="function"?Ko:Wo)(t,n,e??"")):Ot(this.node(),t)}function Ot(t,n){return t.style.getPropertyValue(n)||Hi(t).getComputedStyle(t,null).getPropertyValue(n)}function Jo(t){return function(){delete this[t]}}function jo(t,n){return function(){this[t]=n}}function $o(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function tl(t,n){return arguments.length>1?this.each((n==null?Jo:typeof n=="function"?$o:jo)(t,n)):this.node()[t]}function Yi(t){return t.trim().split(/^|\s+/)}function de(t){return t.classList||new Ui(t)}function Ui(t){this._node=t,this._names=Yi(t.getAttribute("class")||"")}Ui.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Gi(t,n){for(var e=de(t),i=-1,r=n.length;++i<r;)e.add(n[i])}function Wi(t,n){for(var e=de(t),i=-1,r=n.length;++i<r;)e.remove(n[i])}function nl(t){return function(){Gi(this,t)}}function el(t){return function(){Wi(this,t)}}function il(t,n){return function(){(n.apply(this,arguments)?Gi:Wi)(this,t)}}function rl(t,n){var e=Yi(t+"");if(arguments.length<2){for(var i=de(this.node()),r=-1,o=e.length;++r<o;)if(!i.contains(e[r]))return!1;return!0}return this.each((typeof n=="function"?il:n?nl:el)(e,n))}function ol(){this.textContent=""}function ll(t){return function(){this.textContent=t}}function ul(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function sl(t){return arguments.length?this.each(t==null?ol:(typeof t=="function"?ul:ll)(t)):this.node().textContent}function al(){this.innerHTML=""}function cl(t){return function(){this.innerHTML=t}}function fl(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function hl(t){return arguments.length?this.each(t==null?al:(typeof t=="function"?fl:cl)(t)):this.node().innerHTML}function pl(){this.nextSibling&&this.parentNode.appendChild(this)}function dl(){return this.each(pl)}function ml(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function gl(){return this.each(ml)}function vl(t){var n=typeof t=="function"?t:Fi(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function yl(){return null}function _l(t,n){var e=typeof t=="function"?t:Fi(t),i=n==null?yl:typeof n=="function"?n:pe(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})}function wl(){var t=this.parentNode;t&&t.removeChild(this)}function kl(){return this.each(wl)}function Sl(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function El(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function bl(t){return this.select(t?El:Sl)}function zl(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ml(t){return function(n){t.call(this,n,this.__data__)}}function Tl(t){return t.trim().split(/^|\s+/).map(function(n){var e="",i=n.indexOf(".");return i>=0&&(e=n.slice(i+1),n=n.slice(0,i)),{type:n,name:e}})}function Al(t){return function(){var n=this.__on;if(n){for(var e=0,i=-1,r=n.length,o;e<r;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++i]=o;++i?n.length=i:delete this.__on}}}function Rl(t,n,e){return function(){var i=this.__on,r,o=Ml(n);if(i){for(var l=0,u=i.length;l<u;++l)if((r=i[l]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),r.value=n;return}}this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function Cl(t,n,e){var i=Tl(t+""),r,o=i.length,l;if(arguments.length<2){var u=this.node().__on;if(u){for(var c=0,a=u.length,s;c<a;++c)for(r=0,s=u[c];r<o;++r)if((l=i[r]).type===s.type&&l.name===s.name)return s.value}return}for(u=n?Rl:Al,r=0;r<o;++r)this.each(u(i[r],n,e));return this}function Ki(t,n,e){var i=Hi(t),r=i.CustomEvent;typeof r=="function"?r=new r(n,e):(r=i.document.createEvent("Event"),e?(r.initEvent(n,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(n,!1,!1)),t.dispatchEvent(r)}function Ll(t,n){return function(){return Ki(this,t,n)}}function Pl(t,n){return function(){return Ki(this,t,n.apply(this,arguments))}}function Nl(t,n){return this.each((typeof n=="function"?Pl:Ll)(t,n))}function*Il(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length,l;r<o;++r)(l=i[r])&&(yield l)}var Qi=[null];function nt(t,n){this._groups=t,this._parents=n}function nn(){return new nt([[document.documentElement]],Qi)}function Vl(){return this}nt.prototype=nn.prototype={constructor:nt,select:lo,selectAll:co,selectChild:mo,selectChildren:_o,filter:wo,data:Mo,enter:ko,exit:Ao,join:Ro,merge:Co,selection:Vl,order:Lo,sort:Po,call:Io,nodes:Vo,node:qo,size:Do,empty:Oo,each:Fo,attr:Uo,style:Qo,property:tl,classed:rl,text:sl,html:hl,raise:dl,lower:gl,append:vl,insert:_l,remove:kl,clone:bl,datum:zl,on:Cl,dispatch:Nl,[Symbol.iterator]:Il};function wt(t){return typeof t=="string"?new nt([[document.querySelector(t)]],[document.documentElement]):new nt([[t]],Qi)}function ql(t){let n;for(;n=t.sourceEvent;)t=n;return t}function St(t,n){if(t=ql(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}if(n.getBoundingClientRect){var r=n.getBoundingClientRect();return[t.clientX-r.left-n.clientLeft,t.clientY-r.top-n.clientTop]}}return[t.pageX,t.pageY]}const ee={capture:!0,passive:!1};function ie(t){t.preventDefault(),t.stopImmediatePropagation()}function Dl(t){var n=t.document.documentElement,e=wt(t).on("dragstart.drag",ie,ee);"onselectstart"in n?e.on("selectstart.drag",ie,ee):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Ol(t,n){var e=t.document.documentElement,i=wt(t).on("dragstart.drag",null);n&&(i.on("click.drag",ie,ee),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var Ye=180/Math.PI,re={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ji(t,n,e,i,r,o){var l,u,c;return(l=Math.sqrt(t*t+n*n))&&(t/=l,n/=l),(c=t*e+n*i)&&(e-=t*c,i-=n*c),(u=Math.sqrt(e*e+i*i))&&(e/=u,i/=u,c/=u),t*i<n*e&&(t=-t,n=-n,c=-c,l=-l),{translateX:r,translateY:o,rotate:Math.atan2(n,t)*Ye,skewX:Math.atan(c)*Ye,scaleX:l,scaleY:u}}var un;function Fl(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?re:Ji(n.a,n.b,n.c,n.d,n.e,n.f)}function Zl(t){return t==null||(un||(un=document.createElementNS("http://www.w3.org/2000/svg","g")),un.setAttribute("transform",t),!(t=un.transform.baseVal.consolidate()))?re:(t=t.matrix,Ji(t.a,t.b,t.c,t.d,t.e,t.f))}function ji(t,n,e,i){function r(a){return a.length?a.pop()+" ":""}function o(a,s,h,f,p,g){if(a!==h||s!==f){var _=p.push("translate(",null,n,null,e);g.push({i:_-4,x:Et(a,h)},{i:_-2,x:Et(s,f)})}else(h||f)&&p.push("translate("+h+n+f+e)}function l(a,s,h,f){a!==s?(a-s>180?s+=360:s-a>180&&(a+=360),f.push({i:h.push(r(h)+"rotate(",null,i)-2,x:Et(a,s)})):s&&h.push(r(h)+"rotate("+s+i)}function u(a,s,h,f){a!==s?f.push({i:h.push(r(h)+"skewX(",null,i)-2,x:Et(a,s)}):s&&h.push(r(h)+"skewX("+s+i)}function c(a,s,h,f,p,g){if(a!==h||s!==f){var _=p.push(r(p)+"scale(",null,",",null,")");g.push({i:_-4,x:Et(a,h)},{i:_-2,x:Et(s,f)})}else(h!==1||f!==1)&&p.push(r(p)+"scale("+h+","+f+")")}return function(a,s){var h=[],f=[];return a=t(a),s=t(s),o(a.translateX,a.translateY,s.translateX,s.translateY,h,f),l(a.rotate,s.rotate,h,f),u(a.skewX,s.skewX,h,f),c(a.scaleX,a.scaleY,s.scaleX,s.scaleY,h,f),a=s=null,function(p){for(var g=-1,_=f.length,w;++g<_;)h[(w=f[g]).i]=w.x(p);return h.join("")}}}var xl=ji(Fl,"px, ","px)","deg)"),Bl=ji(Zl,", ",")",")"),Xl=1e-12;function Ue(t){return((t=Math.exp(t))+1/t)/2}function Hl(t){return((t=Math.exp(t))-1/t)/2}function Yl(t){return((t=Math.exp(2*t))-1)/(t+1)}const Ul=function t(n,e,i){function r(o,l){var u=o[0],c=o[1],a=o[2],s=l[0],h=l[1],f=l[2],p=s-u,g=h-c,_=p*p+g*g,w,y;if(_<Xl)y=Math.log(f/a)/n,w=function(V){return[u+V*p,c+V*g,a*Math.exp(n*V*y)]};else{var k=Math.sqrt(_),S=(f*f-a*a+i*_)/(2*a*e*k),b=(f*f-a*a-i*_)/(2*f*e*k),z=Math.log(Math.sqrt(S*S+1)-S),T=Math.log(Math.sqrt(b*b+1)-b);y=(T-z)/n,w=function(V){var N=V*y,I=Ue(z),F=a/(e*k)*(I*Yl(n*N+z)-Hl(z));return[u+F*p,c+F*g,a*I/Ue(n*N+z)]}}return w.duration=y*1e3*n/Math.SQRT2,w}return r.rho=function(o){var l=Math.max(.001,+o),u=l*l,c=u*u;return t(l,u,c)},r}(Math.SQRT2,2,4);var Ft=0,Gt=0,Zt=0,$i=1e3,zn,Wt,Mn=0,Lt=0,Rn=0,$t=typeof performance=="object"&&performance.now?performance:Date,tr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function me(){return Lt||(tr(Gl),Lt=$t.now()+Rn)}function Gl(){Lt=0}function Tn(){this._call=this._time=this._next=null}Tn.prototype=nr.prototype={constructor:Tn,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?me():+e)+(n==null?0:+n),!this._next&&Wt!==this&&(Wt?Wt._next=this:zn=this,Wt=this),this._call=t,this._time=e,oe()},stop:function(){this._call&&(this._call=null,this._time=1/0,oe())}};function nr(t,n,e){var i=new Tn;return i.restart(t,n,e),i}function Wl(){me(),++Ft;for(var t=zn,n;t;)(n=Lt-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Ft}function Ge(){Lt=(Mn=$t.now())+Rn,Ft=Gt=0;try{Wl()}finally{Ft=0,Ql(),Lt=0}}function Kl(){var t=$t.now(),n=t-Mn;n>$i&&(Rn-=n,Mn=t)}function Ql(){for(var t,n=zn,e,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:zn=e);Wt=t,oe(i)}function oe(t){if(!Ft){Gt&&(Gt=clearTimeout(Gt));var n=t-Lt;n>24?(t<1/0&&(Gt=setTimeout(Ge,t-$t.now()-Rn)),Zt&&(Zt=clearInterval(Zt))):(Zt||(Mn=$t.now(),Zt=setInterval(Kl,$i)),Ft=1,tr(Ge))}}function We(t,n,e){var i=new Tn;return n=n==null?0:+n,i.restart(r=>{i.stop(),t(r+n)},n,e),i}var Jl=he("start","end","cancel","interrupt"),jl=[],er=0,Ke=1,le=2,hn=3,Qe=4,ue=5,pn=6;function Cn(t,n,e,i,r,o){var l=t.__transition;if(!l)t.__transition={};else if(e in l)return;$l(t,e,{name:n,index:i,group:r,on:Jl,tween:jl,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:er})}function ge(t,n){var e=at(t,n);if(e.state>er)throw new Error("too late; already scheduled");return e}function pt(t,n){var e=at(t,n);if(e.state>hn)throw new Error("too late; already running");return e}function at(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function $l(t,n,e){var i=t.__transition,r;i[n]=e,e.timer=nr(o,0,e.time);function o(a){e.state=Ke,e.timer.restart(l,e.delay,e.time),e.delay<=a&&l(a-e.delay)}function l(a){var s,h,f,p;if(e.state!==Ke)return c();for(s in i)if(p=i[s],p.name===e.name){if(p.state===hn)return We(l);p.state===Qe?(p.state=pn,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete i[s]):+s<n&&(p.state=pn,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete i[s])}if(We(function(){e.state===hn&&(e.state=Qe,e.timer.restart(u,e.delay,e.time),u(a))}),e.state=le,e.on.call("start",t,t.__data__,e.index,e.group),e.state===le){for(e.state=hn,r=new Array(f=e.tween.length),s=0,h=-1;s<f;++s)(p=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(r[++h]=p);r.length=h+1}}function u(a){for(var s=a<e.duration?e.ease.call(null,a/e.duration):(e.timer.restart(c),e.state=ue,1),h=-1,f=r.length;++h<f;)r[h].call(t,s);e.state===ue&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){e.state=pn,e.timer.stop(),delete i[n];for(var a in i)return;delete t.__transition}}function dn(t,n){var e=t.__transition,i,r,o=!0,l;if(e){n=n==null?null:n+"";for(l in e){if((i=e[l]).name!==n){o=!1;continue}r=i.state>le&&i.state<ue,i.state=pn,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete e[l]}o&&delete t.__transition}}function tu(t){return this.each(function(){dn(this,t)})}function nu(t,n){var e,i;return function(){var r=pt(this,t),o=r.tween;if(o!==e){i=e=o;for(var l=0,u=i.length;l<u;++l)if(i[l].name===n){i=i.slice(),i.splice(l,1);break}}r.tween=i}}function eu(t,n,e){var i,r;if(typeof e!="function")throw new Error;return function(){var o=pt(this,t),l=o.tween;if(l!==i){r=(i=l).slice();for(var u={name:n,value:e},c=0,a=r.length;c<a;++c)if(r[c].name===n){r[c]=u;break}c===a&&r.push(u)}o.tween=r}}function iu(t,n){var e=this._id;if(t+="",arguments.length<2){for(var i=at(this.node(),e).tween,r=0,o=i.length,l;r<o;++r)if((l=i[r]).name===t)return l.value;return null}return this.each((n==null?nu:eu)(e,t,n))}function ve(t,n,e){var i=t._id;return t.each(function(){var r=pt(this,i);(r.value||(r.value={}))[n]=e.apply(this,arguments)}),function(r){return at(r,i).value[n]}}function ir(t,n){var e;return(typeof n=="number"?Et:n instanceof Se?Ee:(e=Se(n))?(n=e,Ee):pr)(t,n)}function ru(t){return function(){this.removeAttribute(t)}}function ou(t){return function(){this.removeAttributeNS(t.space,t.local)}}function lu(t,n,e){var i,r=e+"",o;return function(){var l=this.getAttribute(t);return l===r?null:l===i?o:o=n(i=l,e)}}function uu(t,n,e){var i,r=e+"",o;return function(){var l=this.getAttributeNS(t.space,t.local);return l===r?null:l===i?o:o=n(i=l,e)}}function su(t,n,e){var i,r,o;return function(){var l,u=e(this),c;return u==null?void this.removeAttribute(t):(l=this.getAttribute(t),c=u+"",l===c?null:l===i&&c===r?o:(r=c,o=n(i=l,u)))}}function au(t,n,e){var i,r,o;return function(){var l,u=e(this),c;return u==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),c=u+"",l===c?null:l===i&&c===r?o:(r=c,o=n(i=l,u)))}}function cu(t,n){var e=An(t),i=e==="transform"?Bl:ir;return this.attrTween(t,typeof n=="function"?(e.local?au:su)(e,i,ve(this,"attr."+t,n)):n==null?(e.local?ou:ru)(e):(e.local?uu:lu)(e,i,n))}function fu(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function hu(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function pu(t,n){var e,i;function r(){var o=n.apply(this,arguments);return o!==i&&(e=(i=o)&&hu(t,o)),e}return r._value=n,r}function du(t,n){var e,i;function r(){var o=n.apply(this,arguments);return o!==i&&(e=(i=o)&&fu(t,o)),e}return r._value=n,r}function mu(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var i=An(t);return this.tween(e,(i.local?pu:du)(i,n))}function gu(t,n){return function(){ge(this,t).delay=+n.apply(this,arguments)}}function vu(t,n){return n=+n,function(){ge(this,t).delay=n}}function yu(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?gu:vu)(n,t)):at(this.node(),n).delay}function _u(t,n){return function(){pt(this,t).duration=+n.apply(this,arguments)}}function wu(t,n){return n=+n,function(){pt(this,t).duration=n}}function ku(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?_u:wu)(n,t)):at(this.node(),n).duration}function Su(t,n){if(typeof n!="function")throw new Error;return function(){pt(this,t).ease=n}}function Eu(t){var n=this._id;return arguments.length?this.each(Su(n,t)):at(this.node(),n).ease}function bu(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;pt(this,t).ease=e}}function zu(t){if(typeof t!="function")throw new Error;return this.each(bu(this._id,t))}function Mu(t){typeof t!="function"&&(t=xi(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],l=o.length,u=i[r]=[],c,a=0;a<l;++a)(c=o[a])&&t.call(c,c.__data__,a,o)&&u.push(c);return new yt(i,this._parents,this._name,this._id)}function Tu(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,r=e.length,o=Math.min(i,r),l=new Array(i),u=0;u<o;++u)for(var c=n[u],a=e[u],s=c.length,h=l[u]=new Array(s),f,p=0;p<s;++p)(f=c[p]||a[p])&&(h[p]=f);for(;u<i;++u)l[u]=n[u];return new yt(l,this._parents,this._name,this._id)}function Au(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Ru(t,n,e){var i,r,o=Au(n)?ge:pt;return function(){var l=o(this,t),u=l.on;u!==i&&(r=(i=u).copy()).on(n,e),l.on=r}}function Cu(t,n){var e=this._id;return arguments.length<2?at(this.node(),e).on.on(t):this.each(Ru(e,t,n))}function Lu(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Pu(){return this.on("end.remove",Lu(this._id))}function Nu(t){var n=this._name,e=this._id;typeof t!="function"&&(t=pe(t));for(var i=this._groups,r=i.length,o=new Array(r),l=0;l<r;++l)for(var u=i[l],c=u.length,a=o[l]=new Array(c),s,h,f=0;f<c;++f)(s=u[f])&&(h=t.call(s,s.__data__,f,u))&&("__data__"in s&&(h.__data__=s.__data__),a[f]=h,Cn(a[f],n,e,f,a,at(s,e)));return new yt(o,this._parents,n,e)}function Iu(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Zi(t));for(var i=this._groups,r=i.length,o=[],l=[],u=0;u<r;++u)for(var c=i[u],a=c.length,s,h=0;h<a;++h)if(s=c[h]){for(var f=t.call(s,s.__data__,h,c),p,g=at(s,e),_=0,w=f.length;_<w;++_)(p=f[_])&&Cn(p,n,e,_,f,g);o.push(f),l.push(s)}return new yt(o,l,n,e)}var Vu=nn.prototype.constructor;function qu(){return new Vu(this._groups,this._parents)}function Du(t,n){var e,i,r;return function(){var o=Ot(this,t),l=(this.style.removeProperty(t),Ot(this,t));return o===l?null:o===e&&l===i?r:r=n(e=o,i=l)}}function rr(t){return function(){this.style.removeProperty(t)}}function Ou(t,n,e){var i,r=e+"",o;return function(){var l=Ot(this,t);return l===r?null:l===i?o:o=n(i=l,e)}}function Fu(t,n,e){var i,r,o;return function(){var l=Ot(this,t),u=e(this),c=u+"";return u==null&&(c=u=(this.style.removeProperty(t),Ot(this,t))),l===c?null:l===i&&c===r?o:(r=c,o=n(i=l,u))}}function Zu(t,n){var e,i,r,o="style."+n,l="end."+o,u;return function(){var c=pt(this,t),a=c.on,s=c.value[o]==null?u||(u=rr(n)):void 0;(a!==e||r!==s)&&(i=(e=a).copy()).on(l,r=s),c.on=i}}function xu(t,n,e){var i=(t+="")=="transform"?xl:ir;return n==null?this.styleTween(t,Du(t,i)).on("end.style."+t,rr(t)):typeof n=="function"?this.styleTween(t,Fu(t,i,ve(this,"style."+t,n))).each(Zu(this._id,t)):this.styleTween(t,Ou(t,i,n),e).on("end.style."+t,null)}function Bu(t,n,e){return function(i){this.style.setProperty(t,n.call(this,i),e)}}function Xu(t,n,e){var i,r;function o(){var l=n.apply(this,arguments);return l!==r&&(i=(r=l)&&Bu(t,l,e)),i}return o._value=n,o}function Hu(t,n,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,Xu(t,n,e??""))}function Yu(t){return function(){this.textContent=t}}function Uu(t){return function(){var n=t(this);this.textContent=n??""}}function Gu(t){return this.tween("text",typeof t=="function"?Uu(ve(this,"text",t)):Yu(t==null?"":t+""))}function Wu(t){return function(n){this.textContent=t.call(this,n)}}function Ku(t){var n,e;function i(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&Wu(r)),n}return i._value=t,i}function Qu(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Ku(t))}function Ju(){for(var t=this._name,n=this._id,e=or(),i=this._groups,r=i.length,o=0;o<r;++o)for(var l=i[o],u=l.length,c,a=0;a<u;++a)if(c=l[a]){var s=at(c,n);Cn(c,t,e,a,l,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new yt(i,this._parents,t,e)}function ju(){var t,n,e=this,i=e._id,r=e.size();return new Promise(function(o,l){var u={value:l},c={value:function(){--r===0&&o()}};e.each(function(){var a=pt(this,i),s=a.on;s!==t&&(n=(t=s).copy(),n._.cancel.push(u),n._.interrupt.push(u),n._.end.push(c)),a.on=n}),r===0&&o()})}var $u=0;function yt(t,n,e,i){this._groups=t,this._parents=n,this._name=e,this._id=i}function or(){return++$u}var dt=nn.prototype;yt.prototype={constructor:yt,select:Nu,selectAll:Iu,selectChild:dt.selectChild,selectChildren:dt.selectChildren,filter:Mu,merge:Tu,selection:qu,transition:Ju,call:dt.call,nodes:dt.nodes,node:dt.node,size:dt.size,empty:dt.empty,each:dt.each,on:Cu,attr:cu,attrTween:mu,style:xu,styleTween:Hu,text:Gu,textTween:Qu,remove:Pu,tween:iu,delay:yu,duration:ku,ease:Eu,easeVarying:zu,end:ju,[Symbol.iterator]:dt[Symbol.iterator]};function ts(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ns={time:null,delay:0,duration:250,ease:ts};function es(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function is(t){var n,e;t instanceof yt?(n=t._id,t=t._name):(n=or(),(e=ns).time=me(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var l=i[o],u=l.length,c,a=0;a<u;++a)(c=l[a])&&Cn(c,t,n,a,l,e||es(c,n));return new yt(i,this._parents,t,n)}nn.prototype.interrupt=tu;nn.prototype.transition=is;const sn=t=>()=>t;function rs(t,{sourceEvent:n,target:e,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function gt(t,n,e){this.k=t,this.x=n,this.y=e}gt.prototype={constructor:gt,scale:function(t){return t===1?this:new gt(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new gt(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tt=new gt(1,0,0);gt.prototype;function On(t){t.stopImmediatePropagation()}function xt(t){t.preventDefault(),t.stopImmediatePropagation()}function os(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function ls(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Je(){return this.__zoom||tt}function us(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function ss(){return navigator.maxTouchPoints||"ontouchstart"in this}function as(t,n,e){var i=t.invertX(n[0][0])-e[0][0],r=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],l=t.invertY(n[1][1])-e[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),l>o?(o+l)/2:Math.min(0,o)||Math.max(0,l))}function cs(){var t=os,n=ls,e=as,i=us,r=ss,o=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,c=Ul,a=he("start","zoom","end"),s,h,f,p=500,g=150,_=0,w=10;function y(d){d.property("__zoom",Je).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",F).filter(r).on("touchstart.zoom",L).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",Z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(d,m,v,E){var M=d.selection?d.selection():d;M.property("__zoom",Je),d!==M?z(d,m,v,E):M.interrupt().each(function(){T(this,arguments).event(E).start().zoom(null,typeof m=="function"?m.apply(this,arguments):m).end()})},y.scaleBy=function(d,m,v,E){y.scaleTo(d,function(){var M=this.__zoom.k,R=typeof m=="function"?m.apply(this,arguments):m;return M*R},v,E)},y.scaleTo=function(d,m,v,E){y.transform(d,function(){var M=n.apply(this,arguments),R=this.__zoom,P=v==null?b(M):typeof v=="function"?v.apply(this,arguments):v,q=R.invert(P),x=typeof m=="function"?m.apply(this,arguments):m;return e(S(k(R,x),P,q),M,l)},v,E)},y.translateBy=function(d,m,v,E){y.transform(d,function(){return e(this.__zoom.translate(typeof m=="function"?m.apply(this,arguments):m,typeof v=="function"?v.apply(this,arguments):v),n.apply(this,arguments),l)},null,E)},y.translateTo=function(d,m,v,E,M){y.transform(d,function(){var R=n.apply(this,arguments),P=this.__zoom,q=E==null?b(R):typeof E=="function"?E.apply(this,arguments):E;return e(tt.translate(q[0],q[1]).scale(P.k).translate(typeof m=="function"?-m.apply(this,arguments):-m,typeof v=="function"?-v.apply(this,arguments):-v),R,l)},E,M)};function k(d,m){return m=Math.max(o[0],Math.min(o[1],m)),m===d.k?d:new gt(m,d.x,d.y)}function S(d,m,v){var E=m[0]-v[0]*d.k,M=m[1]-v[1]*d.k;return E===d.x&&M===d.y?d:new gt(d.k,E,M)}function b(d){return[(+d[0][0]+ +d[1][0])/2,(+d[0][1]+ +d[1][1])/2]}function z(d,m,v,E){d.on("start.zoom",function(){T(this,arguments).event(E).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(E).end()}).tween("zoom",function(){var M=this,R=arguments,P=T(M,R).event(E),q=n.apply(M,R),x=v==null?b(q):typeof v=="function"?v.apply(M,R):v,G=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),B=M.__zoom,K=typeof m=="function"?m.apply(M,R):m,ut=c(B.invert(x).concat(G/B.k),K.invert(x).concat(G/K.k));return function($){if($===1)$=K;else{var st=ut($),C=G/st[2];$=new gt(C,x[0]-st[0]*C,x[1]-st[1]*C)}P.zoom(null,$)}})}function T(d,m,v){return!v&&d.__zooming||new V(d,m)}function V(d,m){this.that=d,this.args=m,this.active=0,this.sourceEvent=null,this.extent=n.apply(d,m),this.taps=0}V.prototype={event:function(d){return d&&(this.sourceEvent=d),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(d,m){return this.mouse&&d!=="mouse"&&(this.mouse[1]=m.invert(this.mouse[0])),this.touch0&&d!=="touch"&&(this.touch0[1]=m.invert(this.touch0[0])),this.touch1&&d!=="touch"&&(this.touch1[1]=m.invert(this.touch1[0])),this.that.__zoom=m,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(d){var m=wt(this.that).datum();a.call(d,this.that,new rs(d,{sourceEvent:this.sourceEvent,target:y,type:d,transform:this.that.__zoom,dispatch:a}),m)}};function N(d,...m){if(!t.apply(this,arguments))return;var v=T(this,m).event(d),E=this.__zoom,M=Math.max(o[0],Math.min(o[1],E.k*Math.pow(2,i.apply(this,arguments)))),R=St(d);if(v.wheel)(v.mouse[0][0]!==R[0]||v.mouse[0][1]!==R[1])&&(v.mouse[1]=E.invert(v.mouse[0]=R)),clearTimeout(v.wheel);else{if(E.k===M)return;v.mouse=[R,E.invert(R)],dn(this),v.start()}xt(d),v.wheel=setTimeout(P,g),v.zoom("mouse",e(S(k(E,M),v.mouse[0],v.mouse[1]),v.extent,l));function P(){v.wheel=null,v.end()}}function I(d,...m){if(f||!t.apply(this,arguments))return;var v=d.currentTarget,E=T(this,m,!0).event(d),M=wt(d.view).on("mousemove.zoom",x,!0).on("mouseup.zoom",G,!0),R=St(d,v),P=d.clientX,q=d.clientY;Dl(d.view),On(d),E.mouse=[R,this.__zoom.invert(R)],dn(this),E.start();function x(B){if(xt(B),!E.moved){var K=B.clientX-P,ut=B.clientY-q;E.moved=K*K+ut*ut>_}E.event(B).zoom("mouse",e(S(E.that.__zoom,E.mouse[0]=St(B,v),E.mouse[1]),E.extent,l))}function G(B){M.on("mousemove.zoom mouseup.zoom",null),Ol(B.view,E.moved),xt(B),E.event(B).end()}}function F(d,...m){if(t.apply(this,arguments)){var v=this.__zoom,E=St(d.changedTouches?d.changedTouches[0]:d,this),M=v.invert(E),R=v.k*(d.shiftKey?.5:2),P=e(S(k(v,R),E,M),n.apply(this,m),l);xt(d),u>0?wt(this).transition().duration(u).call(z,P,E,d):wt(this).call(y.transform,P,E,d)}}function L(d,...m){if(t.apply(this,arguments)){var v=d.touches,E=v.length,M=T(this,m,d.changedTouches.length===E).event(d),R,P,q,x;for(On(d),P=0;P<E;++P)q=v[P],x=St(q,this),x=[x,this.__zoom.invert(x),q.identifier],M.touch0?!M.touch1&&M.touch0[2]!==x[2]&&(M.touch1=x,M.taps=0):(M.touch0=x,R=!0,M.taps=1+!!s);s&&(s=clearTimeout(s)),R&&(M.taps<2&&(h=x[0],s=setTimeout(function(){s=null},p)),dn(this),M.start())}}function H(d,...m){if(this.__zooming){var v=T(this,m).event(d),E=d.changedTouches,M=E.length,R,P,q,x;for(xt(d),R=0;R<M;++R)P=E[R],q=St(P,this),v.touch0&&v.touch0[2]===P.identifier?v.touch0[0]=q:v.touch1&&v.touch1[2]===P.identifier&&(v.touch1[0]=q);if(P=v.that.__zoom,v.touch1){var G=v.touch0[0],B=v.touch0[1],K=v.touch1[0],ut=v.touch1[1],$=($=K[0]-G[0])*$+($=K[1]-G[1])*$,st=(st=ut[0]-B[0])*st+(st=ut[1]-B[1])*st;P=k(P,Math.sqrt($/st)),q=[(G[0]+K[0])/2,(G[1]+K[1])/2],x=[(B[0]+ut[0])/2,(B[1]+ut[1])/2]}else if(v.touch0)q=v.touch0[0],x=v.touch0[1];else return;v.zoom("touch",e(S(P,q,x),v.extent,l))}}function Z(d,...m){if(this.__zooming){var v=T(this,m).event(d),E=d.changedTouches,M=E.length,R,P;for(On(d),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),R=0;R<M;++R)P=E[R],v.touch0&&v.touch0[2]===P.identifier?delete v.touch0:v.touch1&&v.touch1[2]===P.identifier&&delete v.touch1;if(v.touch1&&!v.touch0&&(v.touch0=v.touch1,delete v.touch1),v.touch0)v.touch0[1]=this.__zoom.invert(v.touch0[0]);else if(v.end(),v.taps===2&&(P=St(P,this),Math.hypot(h[0]-P[0],h[1]-P[1])<w)){var q=wt(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return y.wheelDelta=function(d){return arguments.length?(i=typeof d=="function"?d:sn(+d),y):i},y.filter=function(d){return arguments.length?(t=typeof d=="function"?d:sn(!!d),y):t},y.touchable=function(d){return arguments.length?(r=typeof d=="function"?d:sn(!!d),y):r},y.extent=function(d){return arguments.length?(n=typeof d=="function"?d:sn([[+d[0][0],+d[0][1]],[+d[1][0],+d[1][1]]]),y):n},y.scaleExtent=function(d){return arguments.length?(o[0]=+d[0],o[1]=+d[1],y):[o[0],o[1]]},y.translateExtent=function(d){return arguments.length?(l[0][0]=+d[0][0],l[1][0]=+d[1][0],l[0][1]=+d[0][1],l[1][1]=+d[1][1],y):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},y.constrain=function(d){return arguments.length?(e=d,y):e},y.duration=function(d){return arguments.length?(u=+d,y):u},y.interpolate=function(d){return arguments.length?(c=d,y):c},y.on=function(){var d=a.on.apply(a,arguments);return d===a?y:d},y.clickDistance=function(d){return arguments.length?(_=(d=+d)*d,y):Math.sqrt(_)},y.tapDistance=function(d){return arguments.length?(w=+d,y):w},y}function je(t){let n,e='<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 0H6V2H2V6H0V0Z" fill="black" class="svelte-i6qckw"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M15 0L15 6L13 6L13 2L9 2L9 -2.62268e-07L15 0Z" fill="black" class="svelte-i6qckw"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M15 15L9 15L9 13L13 13L13 9L15 9L15 15Z" fill="black" class="svelte-i6qckw"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M0 15L-2.62268e-07 9L2 9L2 13L6 13L6 15L0 15Z" fill="black" class="svelte-i6qckw"></path></svg>',i,r;return{c(){n=Mt("button"),n.innerHTML=e,this.h()},l(o){n=Tt(o,"BUTTON",{class:!0,"data-svelte-h":!0}),gi(n)!=="svelte-dllmeb"&&(n.innerHTML=e),this.h()},h(){A(n,"class","zoom-button zoom-reset svelte-i6qckw")},m(o,l){tn(o,n,l),i||(r=kt(n,"click",function(){mn(t[2])&&t[2].apply(this,arguments)}),i=!0)},p(o,l){t=o},d(o){o&&Q(n),i=!1,r()}}}function $e(t){let n,e='<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 0H6V2H2V6H0V0Z" fill="black" class="svelte-i6qckw"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M15 0L15 6L13 6L13 2L9 2L9 -2.62268e-07L15 0Z" fill="black" class="svelte-i6qckw"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M15 15L9 15L9 13L13 13L13 9L15 9L15 15Z" fill="black" class="svelte-i6qckw"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M0 15L-2.62268e-07 9L2 9L2 13L6 13L6 15L0 15Z" fill="black" class="svelte-i6qckw"></path></svg>',i,r;return{c(){n=Mt("button"),n.innerHTML=e,this.h()},l(o){n=Tt(o,"BUTTON",{class:!0,"data-svelte-h":!0}),gi(n)!=="svelte-dllmeb"&&(n.innerHTML=e),this.h()},h(){A(n,"class","zoom-button zoom-reset svelte-i6qckw")},m(o,l){tn(o,n,l),i||(r=kt(n,"click",function(){mn(t[2])&&t[2].apply(this,arguments)}),i=!0)},p(o,l){t=o},d(o){o&&Q(n),i=!1,r()}}}function fs(t){let n,e,i,r,o,l,u,c,a,s,h,f,p,g=t[3]&&t[7]&&je(t),_=t[3]&&!t[7]&&$e(t);return{c(){n=Mt("div"),g&&g.c(),e=Kt(),i=Mt("button"),r=bt("svg"),o=bt("path"),l=Kt(),u=Mt("button"),c=bt("svg"),a=bt("path"),s=Kt(),_&&_.c(),this.h()},l(w){n=Tt(w,"DIV",{class:!0});var y=et(n);g&&g.l(y),e=Qt(y),i=Tt(y,"BUTTON",{class:!0});var k=et(i);r=zt(k,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var S=et(r);o=zt(S,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0,class:!0}),et(o).forEach(Q),S.forEach(Q),k.forEach(Q),l=Qt(y),u=Tt(y,"BUTTON",{class:!0});var b=et(u);c=zt(b,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var z=et(c);a=zt(z,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0,class:!0}),et(a).forEach(Q),z.forEach(Q),b.forEach(Q),s=Qt(y),_&&_.l(y),y.forEach(Q),this.h()},h(){A(o,"fill-rule","evenodd"),A(o,"clip-rule","evenodd"),A(o,"d","M11 1.5C11 2.32843 10.3284 3 9.5 3L1.5 3C0.671573 3 5.87108e-08 2.32843 1.31134e-07 1.5C2.03558e-07 0.671572 0.671573 -9.0294e-07 1.5 -8.30516e-07L9.5 -1.31134e-07C10.3284 -5.87108e-08 11 0.671573 11 1.5Z"),A(o,"fill","black"),A(o,"class","svelte-i6qckw"),A(r,"width","11"),A(r,"height","3"),A(r,"viewBox","0 0 11 3"),A(r,"fill","none"),A(r,"xmlns","http://www.w3.org/2000/svg"),A(i,"class","zoom-button zoom-out svelte-i6qckw"),i.disabled=t[5],A(a,"fill-rule","evenodd"),A(a,"clip-rule","evenodd"),A(a,"d","M7 1.5C7 0.671573 6.32843 0 5.5 0C4.67157 0 4 0.671573 4 1.5V4L1.5 4C0.671573 4 0 4.67157 0 5.5C0 6.32843 0.671573 7 1.5 7L4 7V9.5C4 10.3284 4.67157 11 5.5 11C6.32843 11 7 10.3284 7 9.5V7L9.5 7C10.3284 7 11 6.32843 11 5.5C11 4.67157 10.3284 4 9.5 4L7 4V1.5Z"),A(a,"fill","black"),A(a,"class","svelte-i6qckw"),A(c,"width","11"),A(c,"height","11"),A(c,"viewBox","0 0 11 11"),A(c,"fill","none"),A(c,"xmlns","http://www.w3.org/2000/svg"),A(u,"class","zoom-button zoom-in svelte-i6qckw"),u.disabled=t[4],A(n,"class",h="zoom-controls "+t[6]+" svelte-i6qckw")},m(w,y){tn(w,n,y),g&&g.m(n,null),j(n,e),j(n,i),j(i,r),j(r,o),j(n,l),j(n,u),j(u,c),j(c,a),j(n,s),_&&_.m(n,null),f||(p=[kt(i,"click",function(){mn(t[1])&&t[1].apply(this,arguments)}),kt(u,"click",function(){mn(t[0])&&t[0].apply(this,arguments)})],f=!0)},p(w,[y]){t=w,t[3]&&t[7]?g?g.p(t,y):(g=je(t),g.c(),g.m(n,e)):g&&(g.d(1),g=null),y&32&&(i.disabled=t[5]),y&16&&(u.disabled=t[4]),t[3]&&!t[7]?_?_.p(t,y):(_=$e(t),_.c(),_.m(n,null)):_&&(_.d(1),_=null),y&64&&h!==(h="zoom-controls "+t[6]+" svelte-i6qckw")&&A(n,"class",h)},i:ye,o:ye,d(w){w&&Q(n),g&&g.d(),_&&_.d(),f=!1,ui(p)}}}function hs(t,n,e){let i,{zoomIn:r}=n,{zoomOut:o}=n,{zoomReset:l}=n,{showReset:u=!1}=n,{disableZoomIn:c=!1}=n,{disableZoomOut:a=!1}=n,{controlPosition:s}=n;return t.$$set=h=>{"zoomIn"in h&&e(0,r=h.zoomIn),"zoomOut"in h&&e(1,o=h.zoomOut),"zoomReset"in h&&e(2,l=h.zoomReset),"showReset"in h&&e(3,u=h.showReset),"disableZoomIn"in h&&e(4,c=h.disableZoomIn),"disableZoomOut"in h&&e(5,a=h.disableZoomOut),"controlPosition"in h&&e(6,s=h.controlPosition)},t.$$.update=()=>{t.$$.dirty&64&&e(7,i=s.includes("top"))},[r,o,l,u,c,a,s,i]}class lr extends ri{constructor(n){super(),oi(this,n,hs,fs,li,{zoomIn:0,zoomOut:1,zoomReset:2,showReset:3,disableZoomIn:4,disableZoomOut:5,controlPosition:6})}}lr.__docgen={version:3,name:"ZoomControls.svelte",data:[{visibility:"public",description:null,keywords:[],name:"zoomIn",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"zoomOut",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"zoomReset",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"showReset",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{visibility:"public",description:null,keywords:[],name:"disableZoomIn",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{visibility:"public",description:null,keywords:[],name:"disableZoomOut",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[{name:"type",description:'{"bottom-left" | "bottom-right" | "top-left" | "top-right"}'}],visibility:"public",description:"Where the zoom control UI should be positioned.",name:"controlPosition",kind:"let",static:!1,readonly:!1,type:{kind:"union",text:'"bottom-left" | "bottom-right" | "top-left" | "top-right"',type:[{kind:"type",text:'"bottom-left"',type:'"bottom-left"'},{kind:"type",text:'"bottom-right"',type:'"bottom-right"'},{kind:"type",text:'"top-left"',type:'"top-left"'},{kind:"type",text:'"top-right"',type:'"top-right"'}]}}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};const ps=t=>({props:t[0]&2048}),ti=t=>({props:t[11].props});function ni(t){let n,e,i,r;return e=new lr({props:{controlPosition:t[0],showReset:t[13].k!==tt.k||t[13].x!==tt.x||t[13].y!==tt.y,zoomIn:t[17],zoomOut:t[18],zoomReset:t[19],disableZoomOut:t[13].k===tt.k,disableZoomIn:t[13].k===t[6]}}),{c(){n=Mt("div"),hi(e.$$.fragment),this.h()},l(o){n=Tt(o,"DIV",{class:!0});var l=et(n);pi(e.$$.fragment,l),l.forEach(Q),this.h()},h(){A(n,"class",i="map-controls "+t[0]+" svelte-4lqe40")},m(o,l){tn(o,n,l),di(e,n,null),r=!0},p(o,l){const u={};l[0]&1&&(u.controlPosition=o[0]),l[0]&8192&&(u.showReset=o[13].k!==tt.k||o[13].x!==tt.x||o[13].y!==tt.y),l[0]&8192&&(u.disableZoomOut=o[13].k===tt.k),l[0]&8256&&(u.disableZoomIn=o[13].k===o[6]),e.$set(u),(!r||l[0]&1&&i!==(i="map-controls "+o[0]+" svelte-4lqe40"))&&A(n,"class",i)},i(o){r||(ct(e.$$.fragment,o),r=!0)},o(o){_t(e.$$.fragment,o),r=!1},d(o){o&&Q(n),mi(e)}}}function ei(t){let n,e;return n=new dr({props:{x:t[11].x,y:t[11].y,containParent:t[8],$$slots:{default:[ds]},$$scope:{ctx:t}}}),{c(){hi(n.$$.fragment)},l(i){pi(n.$$.fragment,i)},m(i,r){di(n,i,r),e=!0},p(i,r){const o={};r[0]&2048&&(o.x=i[11].x),r[0]&2048&&(o.y=i[11].y),r[0]&256&&(o.containParent=i[8]),r[0]&2048|r[1]&4&&(o.$$scope={dirty:r,ctx:i}),n.$set(o)},i(i){e||(ct(n.$$.fragment,i),e=!0)},o(i){_t(n.$$.fragment,i),e=!1},d(i){mi(n,i)}}}function ds(t){let n;const e=t[28].tooltip,i=si(e,t,t[33],ti);return{c(){i&&i.c()},l(r){i&&i.l(r)},m(r,o){i&&i.m(r,o),n=!0},p(r,o){i&&i.p&&(!n||o[0]&2048|o[1]&4)&&ai(i,e,r,r[33],n?fi(e,r[33],o,ps):ci(r[33]),ti)},i(r){n||(ct(i,r),n=!0)},o(r){_t(i,r),n=!1},d(r){i&&i.d(r)}}}function ms(t){let n,e,i,r,o,l,u,c,a,s=`${se(t[9],t[1],t[2])}px`,h,f,p;const g=t[28].default,_=si(g,t,t[33],null);let w=t[5]&&ni(t),y=t[11]&&ei(t);return{c(){n=Mt("div"),e=bt("svg"),i=bt("rect"),r=bt("g"),_&&_.c(),l=Kt(),w&&w.c(),u=Kt(),y&&y.c(),this.h()},l(k){n=Tt(k,"DIV",{class:!0,"aria-hidden":!0,role:!0,"aria-label":!0});var S=et(n);e=zt(S,"svg",{width:!0,height:!0});var b=et(e);i=zt(b,"rect",{role:!0,class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),et(i).forEach(Q),r=zt(b,"g",{class:!0,transform:!0});var z=et(r);_&&_.l(z),z.forEach(Q),b.forEach(Q),l=Qt(S),w&&w.l(S),u=Qt(S),y&&y.l(S),S.forEach(Q),this.h()},h(){A(i,"role","presentation"),A(i,"class","map-bg svelte-4lqe40"),A(i,"x","0"),A(i,"y","0"),A(i,"width",t[9]),A(i,"height",t[10]),A(i,"fill",t[7]),A(r,"class","zoom-group svelte-4lqe40"),A(r,"transform",o="translate("+t[13].x+", "+t[13].y+") scale("+t[13].k+")"),A(e,"width",t[9]),A(e,"height",t[10]),A(n,"class","map-container svelte-4lqe40"),A(n,"aria-hidden",c=typeof t[3]>"u"),A(n,"role",t[3]),A(n,"aria-label",t[4]),ur(()=>t[32].call(n)),ke(n,"height",s)},m(k,S){tn(k,n,S),j(n,e),j(e,i),j(e,r),_&&_.m(r,null),j(n,l),w&&w.m(n,null),j(n,u),y&&y.m(n,null),t[31](n),a=ar(n,t[32].bind(n)),h=!0,f||(p=[kt(i,"mousemove",t[20]),kt(i,"click",t[21]),kt(i,"mouseout",t[29]),kt(i,"blur",t[30])],f=!0)},p(k,S){(!h||S[0]&512)&&A(i,"width",k[9]),(!h||S[0]&1024)&&A(i,"height",k[10]),(!h||S[0]&128)&&A(i,"fill",k[7]),_&&_.p&&(!h||S[1]&4)&&ai(_,g,k,k[33],h?fi(g,k[33],S,null):ci(k[33]),null),(!h||S[0]&8192&&o!==(o="translate("+k[13].x+", "+k[13].y+") scale("+k[13].k+")"))&&A(r,"transform",o),(!h||S[0]&512)&&A(e,"width",k[9]),(!h||S[0]&1024)&&A(e,"height",k[10]),k[5]?w?(w.p(k,S),S[0]&32&&ct(w,1)):(w=ni(k),w.c(),ct(w,1),w.m(n,u)):w&&(we(),_t(w,1,1,()=>{w=null}),_e()),k[11]?y?(y.p(k,S),S[0]&2048&&ct(y,1)):(y=ei(k),y.c(),ct(y,1),y.m(n,null)):y&&(we(),_t(y,1,1,()=>{y=null}),_e()),(!h||S[0]&8&&c!==(c=typeof k[3]>"u"))&&A(n,"aria-hidden",c),(!h||S[0]&8)&&A(n,"role",k[3]),(!h||S[0]&16)&&A(n,"aria-label",k[4]),S[0]&518&&s!==(s=`${se(k[9],k[1],k[2])}px`)&&ke(n,"height",s)},i(k){h||(ct(_,k),ct(w),ct(y),h=!0)},o(k){_t(_,k),_t(w),_t(y),h=!1},d(k){k&&Q(n),_&&_.d(k),w&&w.d(),y&&y.d(),t[31](null),a(),f=!1,ui(p)}}}function se(t,n,e){return e?t/e:n}function gs(t,n,e){let i,r,o,l,u,c,a;Ln(t,gr,C=>e(37,c=C));let{$$slots:s={},$$scope:h}=n,{features:f}=n,{projection:p=$r}=n,{controlPosition:g="bottom-right"}=n,{height:_=600}=n,{aspectRatio:w=void 0}=n,{ariaRole:y=void 0}=n,{ariaLabel:k=void 0}=n,{zoomable:S=!1}=n,{maxZoom:b=8}=n,{scrollWheel:z="ctrl"}=n,{backgroundColor:T="transparent"}=n,{tooltipContainParent:V=!1}=n;const N=cr();let I=500;const F=Nn(l);let L=Nn(tt);Ln(t,L,C=>e(13,a=C));let H,Z,d,m=Nn(null);Ln(t,m,C=>e(36,u=C));function v(C){u||e(11,d=C)}function E(C){if(u){e(11,d=void 0),Pn(m,u=null,u);return}Pn(m,u=C.props,u),e(11,d=C)}function M(C){Z=wt(C.querySelector("svg")),H=cs().scaleExtent([1,b]).filter(Pt=>z==="ctrl"?Pt.type==="wheel"?Pt.ctrlKey||Pt.metaKey:!0:z==="no"?Pt.type!=="wheel":!0).on("zoom",({transform:Pt})=>L.set(Pt)),Z.call(H)}function R(){c?Z.call(H.scaleBy,2):Z.transition().call(H.scaleBy,2)}function P(){c?Z.call(H.scaleBy,.5):Z.transition().call(H.scaleBy,.5)}function q(){c?Z.call(H.transform,tt):Z.transition().call(H.transform,tt)}function x(C){u||e(11,d=void 0),N("mousemove")}function G(C){Pn(m,u=null,u),e(11,d=void 0),N("click")}let B;fr(()=>{S&&M(B)});const K=C=>N("mouseout"),ut=C=>N("mouseout");function $(C){sr[C?"unshift":"push"](()=>{B=C,e(12,B)})}function st(){I=this.clientWidth,e(9,I)}return t.$$set=C=>{"features"in C&&e(22,f=C.features),"projection"in C&&e(23,p=C.projection),"controlPosition"in C&&e(0,g=C.controlPosition),"height"in C&&e(1,_=C.height),"aspectRatio"in C&&e(2,w=C.aspectRatio),"ariaRole"in C&&e(3,y=C.ariaRole),"ariaLabel"in C&&e(4,k=C.ariaLabel),"zoomable"in C&&e(5,S=C.zoomable),"maxZoom"in C&&e(6,b=C.maxZoom),"scrollWheel"in C&&e(24,z=C.scrollWheel),"backgroundColor"in C&&e(7,T=C.backgroundColor),"tooltipContainParent"in C&&e(8,V=C.tooltipContainParent),"$$scope"in C&&e(33,h=C.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&4194304&&e(25,i=vi(f)),t.$$.dirty[0]&518&&e(10,r=se(I,_,w)),t.$$.dirty[0]&1536&&e(27,o=[I,r]),t.$$.dirty[0]&146800640&&e(26,l=p().fitSize(o,{type:"FeatureCollection",features:f})),t.$$.dirty[0]&67108864&&F.set(l),t.$$.dirty[0]&33554432&&hr("map",{projection:F,features:i,transform:L,stickyHighlight:m,handleLayerMousemove:v,handleLayerClick:E})},[g,_,w,y,k,S,b,T,V,I,r,d,B,a,N,L,m,R,P,q,x,G,f,p,z,i,l,o,s,K,ut,$,st,h]}class vs extends ri{constructor(n){super(),oi(this,n,gs,ms,li,{features:22,projection:23,controlPosition:0,height:1,aspectRatio:2,ariaRole:3,ariaLabel:4,zoomable:5,maxZoom:6,scrollWheel:24,backgroundColor:7,tooltipContainParent:8},null,[-1,-1])}}vs.__docgen={version:3,name:"SVGMap.svelte",data:[{keywords:[{name:"type",description:"{Object[]}"}],visibility:"public",description:"An array of geojson features to be displayed on the map. The map will scale the projection to fit this set of features.",name:"features",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"Object[]",type:"Object[]"}},{keywords:[{name:"type",description:"{ function } [projection = geoAlbersUsa]"}],visibility:"public",description:"A D3 geo projection to use with this map. Defaults to geoAlbersUsa.",name:"projection",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"function",type:"function"}},{keywords:[{name:"type",description:'{"bottom-left" | "bottom-right" | "top-left" | "top-right"} [ controlPosition = "bottom-right" ]'}],visibility:"public",description:"Where the zoom control UI should be positioned.",name:"controlPosition",kind:"let",static:!1,readonly:!1,type:{kind:"union",text:'"bottom-left" | "bottom-right" | "top-left" | "top-right"',type:[{kind:"type",text:'"bottom-left"',type:'"bottom-left"'},{kind:"type",text:'"bottom-right"',type:'"bottom-right"'},{kind:"type",text:'"top-left"',type:'"top-left"'},{kind:"type",text:'"top-right"',type:'"top-right"'}]},defaultValue:"bottom-right"},{keywords:[{name:"type",description:"{ number } [ height = 600 ]"}],visibility:"public",description:"The height of the map in pixels.",name:"height",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:600},{keywords:[{name:"type",description:"{ number } [ aspectRatio = undefined ]"}],visibility:"public",description:"Set the height of the map to a fixed aspect ratio based on width. This overrides the `height` property.",name:"aspectRatio",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"}},{keywords:[{name:"type",description:"{ string } [ariaRole = undefined]"}],visibility:"public",description:"Optional aria role string to be applied to SVG container. By default, the SVG is hidden from the accessiblity tree. If you add an ariaRole here, any layers should also be given an ariaRole.",name:"ariaRole",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"}},{keywords:[{name:"type",description:"{ string } [ariaRole = undefined]"}],visibility:"public",description:"Optional aria label string to be applied to SVG container. By default, the SVG is hidden from the accessiblity tree and should include a descriptive label. If you add an ariaRole this property can be left undefined;",name:"ariaLabel",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"}},{keywords:[{name:"type",description:"{ boolean } [zoomable = false]"}],visibility:"public",description:"Should the map allow zoom and pan?",name:"zoomable",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[{name:"type",description:"{ number } [maxZoom = 8]"}],visibility:"public",description:"If map is zoomable, sets a maximum zoom factor relative to the initial view.",name:"maxZoom",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:8},{keywords:[{name:"type",description:'{"no" | "yes" | "ctrl"}'}],visibility:"public",description:"Whether or not the map should zoom when scroll wheel is used on map.",name:"scrollWheel",kind:"let",static:!1,readonly:!1,type:{kind:"union",text:'"no" | "yes" | "ctrl"',type:[{kind:"type",text:'"no"',type:'"no"'},{kind:"type",text:'"yes"',type:'"yes"'},{kind:"type",text:'"ctrl"',type:'"ctrl"'}]},defaultValue:"ctrl"},{keywords:[{name:"type",description:'{ string } [backgroundColor = "transparent"]'}],visibility:"public",description:"Fill for the background of the map",name:"backgroundColor",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:"transparent"},{keywords:[{name:"type",description:"{ boolean } [tooltipContainParent = false]"}],visibility:"public",description:"If there is a tooltip on the map, should it be contained to the parent element",name:"tooltipContainParent",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1}],computed:[],methods:[],components:[],description:null,keywords:[],events:[{visibility:"public",description:null,keywords:[],name:"mousemove"},{visibility:"public",description:null,keywords:[],name:"click"},{visibility:"public",description:null,keywords:[],name:"mouseout"}],slots:[{keywords:[],visibility:"public",description:"",name:"default"},{keywords:[],visibility:"public",description:"",name:"tooltip",params:[{name:"props",type:{kind:"type",text:"*",type:"any"}}],parameters:[{name:"props",type:{kind:"type",text:"*",type:"any"}}]}],refs:[]};function Rs(t,n,e){return typeof n=="string"?n:n(t)||e}function Cs(t,n){return typeof n=="string"?n:n(t)}function ii(t,n){for(const e in t){const i=Object.keys(n).includes(e);if(i&&n[e]!==t[e]||!i)return!1}return!0}function Ls(t){t.parentNode.appendChild(t)}function Ps(t,n){return{x:t.pageX,y:t.pageY,props:n.properties}}function Ns(t,n,e){return!!(n&&ii(n,t.properties)||e&&ii(e,t.properties))}export{vs as S,Rs as a,Cs as b,Ns as c,Ps as d,D as e,Ms as f,Ts as g,zs as h,rt as i,_r as j,Es as k,bs as l,As as p,Ls as r,lt as t};
