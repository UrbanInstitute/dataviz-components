import{b as w,n as A,e as E}from"./linear-DqoPPvqX.js";function F(n=w){if(n===w)return q;if(typeof n!="function")throw new TypeError("compare is not a function");return(i,o)=>{const t=n(i,o);return t||t===0?t:(n(o,o)===0)-(n(i,i)===0)}}function q(n,i){return(n==null||!(n>=n))-(i==null||!(i>=i))||(n<i?-1:n>i?1:0)}function x(n,i){let o;for(const t of n)t!=null&&(o<t||o===void 0&&t>=t)&&(o=t);return o}function m(n,i){let o;for(const t of n)t!=null&&(o>t||o===void 0&&t>=t)&&(o=t);return o}function N(n,i,o=0,t=1/0,e){if(i=Math.floor(i),o=Math.floor(Math.max(0,o)),t=Math.floor(Math.min(n.length-1,t)),!(o<=i&&i<=t))return n;for(e=e===void 0?q:F(e);t>o;){if(t-o>600){const s=t-o+1,h=i-o+1,l=Math.log(s),d=.5*Math.exp(2*l/3),r=.5*Math.sqrt(l*d*(s-d)/s)*(h-s/2<0?-1:1),D=Math.max(o,Math.floor(i-h*d/s+r)),z=Math.min(t,Math.floor(i+(s-h)*d/s+r));N(n,i,D,z,e)}const u=n[i];let c=o,f=t;for(M(n,o,i),e(n[t],u)>0&&M(n,o,t);c<f;){for(M(n,c,f),++c,--f;e(n[c],u)<0;)++c;for(;e(n[f],u)>0;)--f}e(n[o],u)===0?M(n,o,f):(++f,M(n,f,t)),f<=i&&(o=f+1),i<=f&&(t=f-1)}return n}function M(n,i,o){const t=n[i];n[i]=n[o],n[o]=t}function L(n,i,o){if(n=Float64Array.from(E(n)),!(!(t=n.length)||isNaN(i=+i))){if(i<=0||t<2)return m(n);if(i>=1)return x(n);var t,e=(t-1)*i,u=Math.floor(e),c=x(N(n,u).subarray(0,u+1)),f=m(n.subarray(u+1));return c+(f-c)*(e-u)}}function R(n,i,o=A){if(!(!(t=n.length)||isNaN(i=+i))){if(i<=0||t<2)return+o(n[0],0,n);if(i>=1)return+o(n[t-1],t-1,n);var t,e=(t-1)*i,u=Math.floor(e),c=+o(n[u],u,n),f=+o(n[u+1],u+1,n);return c+(f-c)*(e-u)}}export{L as a,R as q};
