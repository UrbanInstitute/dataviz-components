import{S as _,i as D,s as S,e as m,k as M,n as b,l as w,o as V}from"./index-0646dc43.js";import{e as q,a as C,f as A,d as k,B as v,i as H,C as T}from"./lifecycle-aaaae3cd.js";import{g as B}from"./spread-8a54911c.js";typeof window<"u"&&typeof window.datawrapper>"u"&&(window.datawrapper={});let s={};typeof window<"u"&&(s=window.datawrapper);let l={};typeof window<"u"&&window.addEventListener("message",F,!1);function F(t){t.data&&t.data.source==="datawrapper"&&t.data.chartId&&l[t.data.type]&&l[t.data.type].forEach(function(e){typeof e=="function"&&e(t.data)})}s.on=function(t,e){if(typeof t!="string")throw new Error("event name must be a string");if(typeof e!="function")throw new Error("callback must be a function");return l[t]||(l[t]=[]),l[t].push(e),s};s.one=function(t,e){s.on(t,function r(){e.apply(null,arguments),s.off(t,r)})};s.off=function(t,e){if(l[t]){e||(l[t].length=0);var r=l[t].indexOf(e);return r>-1&&l[t].splice(r,1),s}};const O=s,P=["bar.click","bar.mouseenter","bar.mouseleave","line.click","line.mouseenter","line.mouseleave","area.click","area.mouseenter","area.mouseleave","tooltip","highlight.set","highlight.clear","column:change","region.click","region.mouseenter","region.mouseleave","symbol.click","symbol.mouseenter","symbol.mouseleave","hash.changed","download","social-sharing.click","embed.modal.open","embed.modal.close","embed.copy","source.click"];function R(t){let e,r,d,f=[{title:t[0]},{"aria-label":t[1]},{id:r="datawrapper-chart-"+t[2]},{src:d="https://datawrapper.dwcdn.net/"+t[2]},{scrolling:t[3]},{frameborder:t[4]},{style:t[6]},{height:t[5]},{"data-external":"1"},t[7]],o={};for(let i=0;i<f.length;i+=1)o=m(o,f[i]);return{c(){e=q("iframe"),this.h()},l(i){e=C(i,"IFRAME",{title:!0,"aria-label":!0,id:!0,src:!0,scrolling:!0,frameborder:!0,style:!0,height:!0,"data-external":!0}),A(e).forEach(k),this.h()},h(){v(e,o)},m(i,n){H(i,e,n)},p(i,[n]){v(e,o=B(f,[n&1&&{title:i[0]},n&2&&{"aria-label":i[1]},n&4&&r!==(r="datawrapper-chart-"+i[2])&&{id:r},n&4&&!M(e.src,d="https://datawrapper.dwcdn.net/"+i[2])&&{src:d},n&8&&{scrolling:i[3]},n&16&&{frameborder:i[4]},n&64&&{style:i[6]},n&32&&{height:i[5]},{"data-external":"1"},n&128&&i[7]]))},i:b,o:b,d(i){i&&k(e)}}}function W(t,e,r){const d=["title","ariaLabel","datawrapperId","scrolling","frameborder","height","style"];let f=w(e,d),{title:o}=e,{ariaLabel:i}=e,{datawrapperId:n}=e,{scrolling:u="no"}=e,{frameborder:h="0"}=e,{height:y="500"}=e,{style:g="width: 0; min-width: 100% !important; border: none;"}=e;const I=T();return P.forEach(a=>{O.on(a,c=>{I(a.replace(".",""),c)})}),typeof window<"u"&&window.addEventListener("message",function(a){if(a.data["datawrapper-height"]!==void 0){var c=document.querySelectorAll("iframe");for(var L in a.data["datawrapper-height"])for(var p=0;p<c.length;p++)if(c[p].contentWindow===a.source){var E=a.data["datawrapper-height"][L]+"px";c[p].style.height=E}}}),t.$$set=a=>{e=m(m({},e),V(a)),r(7,f=w(e,d)),"title"in a&&r(0,o=a.title),"ariaLabel"in a&&r(1,i=a.ariaLabel),"datawrapperId"in a&&r(2,n=a.datawrapperId),"scrolling"in a&&r(3,u=a.scrolling),"frameborder"in a&&r(4,h=a.frameborder),"height"in a&&r(5,y=a.height),"style"in a&&r(6,g=a.style)},[o,i,n,u,h,y,g,f]}class j extends _{constructor(e){super(),D(this,e,W,R,S,{title:0,ariaLabel:1,datawrapperId:2,scrolling:3,frameborder:4,height:5,style:6})}}j.__docgen={version:3,name:"DatawrapperIframe.svelte",data:[{keywords:[{name:"type",description:"{string} HTML title of the iframe"}],visibility:"public",description:"*",name:"title",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"}},{keywords:[{name:"type",description:"{string} HTML aria-label of the iframe"}],visibility:"public",description:"*",name:"ariaLabel",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"}},{keywords:[{name:"type",description:"{string} Datawrapper chart ID"}],visibility:"public",description:"*",name:"datawrapperId",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"}},{keywords:[{name:"type",description:"{string} iframe scrolling attribute"}],visibility:"public",description:"*",name:"scrolling",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:"no"},{keywords:[{name:"type",description:"{string} iframe frameborder attribute"}],visibility:"public",description:"*",name:"frameborder",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:"0"},{keywords:[{name:"type",description:"{string} iframe height attribute (placeholder since reactivity is enabled)"}],visibility:"public",description:"*",name:"height",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:"500"},{keywords:[{name:"type",description:"{string} CSS styles of the iframe"}],visibility:"public",description:"*",name:"style",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:"width: 0; min-width: 100% !important; border: none;"}],computed:[],methods:[],components:[],description:null,keywords:[],events:[{visibility:"public",description:null,keywords:[]}],slots:[],refs:[]};export{j as D};
