import{O as I,ar as T,af as $,K as O,bc as Y,n as B,E as K,bd as z,v as D,be as F,bf as G,bg as Z,g as m,bh as J,bi as Q,bj as W,bk as X,Z as x,bl as ee,bm as se,bn as ie}from"./iframe-DkBoYltS.js";import{c as te}from"./attributes-q36Eg1F8.js";import{s as re}from"./class-B9SFUanI.js";import{s as ae}from"./style-CNURdi_Z.js";function ue(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function fe(e,i){var s=void 0,t;I(()=>{s!==(s=i())&&(t&&(T(t),t=null),s&&(t=$(()=>{O(()=>s(e))})))})}function k(e,i,s){if(e.multiple){if(i==null)return;if(!K(i))return ue();for(var t of e.options)t.selected=i.includes(A(t));return}for(t of e.options){var u=A(t);if(z(u,i)){t.selected=!0;return}}(!s||i!==void 0)&&(e.selectedIndex=-1)}function q(e,i){let s=!0;O(()=>{i&&k(e,B(i),s),s=!1;var t=new MutationObserver(()=>{var u=e.__value;k(e,u)});return t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}function de(e,i,s=i){var t=!0;Y(e,"change",u=>{var o=u?"[selected]":":checked",d;if(e.multiple)d=[].map.call(e.querySelectorAll(o),A);else{var v=e.querySelector(o)??e.querySelector("option:not([disabled])");d=v&&A(v)}s(d)}),O(()=>{var u=i();if(k(e,u,t),t&&u===void 0){var o=e.querySelector(":checked");o!==null&&(u=A(o),s(u))}e.__value=u,t=!1}),q(e)}function A(e){return"__value"in e?e.__value:e.value}const g=Symbol("class"),S=Symbol("style"),P=Symbol("is custom element"),j=Symbol("is html");function le(e,i){i?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function M(e,i,s,t){var u=H(e);u[i]!==(u[i]=s)&&(i==="loading"&&(e[F]=s),s==null?e.removeAttribute(i):typeof s!="string"&&R(e).includes(i)?e[i]=s:e.setAttribute(i,s))}function oe(e,i,s,t,u=!1){var o=H(e),d=o[P],v=!o[j],f=i||{},p=e.tagName==="OPTION";for(var h in i)h in s||(s[h]=null);s.class?s.class=te(s.class):s[g]&&(s.class=null),s[S]&&(s.style??(s.style=null));var b=R(e);for(const r in s){let a=s[r];if(p&&r==="value"&&a==null){e.value=e.__value="",f[r]=a;continue}if(r==="class"){var E=e.namespaceURI==="http://www.w3.org/1999/xhtml";re(e,E,a,t,i==null?void 0:i[g],s[g]),f[r]=a,f[g]=s[g];continue}if(r==="style"){ae(e,a,i==null?void 0:i[S],s[S]),f[r]=a,f[S]=s[S];continue}var n=f[r];if(a!==n){f[r]=a;var L=r[0]+r[1];if(L!=="$$")if(L==="on"){const c={},y="$$"+r;let l=r.slice(2);var w=ie(l);if(W(l)&&(l=l.slice(0,-7),c.capture=!0),!w&&n){if(a!=null)continue;e.removeEventListener(l,f[y],c),f[y]=null}if(a!=null)if(w)e[`__${l}`]=a,x([l]);else{let U=function(V){f[r].call(this,V)};f[y]=X(l,e,U,c)}else w&&(e[`__${l}`]=void 0)}else if(r==="style")M(e,r,a);else if(r==="autofocus")ee(e,!!a);else if(!d&&(r==="__value"||r==="value"&&a!=null))e.value=e.__value=a;else if(r==="selected"&&p)le(e,a);else{var _=r;v||(_=se(_));var N=_==="defaultValue"||_==="defaultChecked";if(a==null&&!d&&!N)if(o[r]=null,_==="value"||_==="checked"){let c=e;const y=i===void 0;if(_==="value"){let l=c.defaultValue;c.removeAttribute(_),c.defaultValue=l,c.value=c.__value=y?l:null}else{let l=c.defaultChecked;c.removeAttribute(_),c.defaultChecked=l,c.checked=y?l:!1}}else e.removeAttribute(r);else N||b.includes(_)&&(d||typeof a!="string")?e[_]=a:typeof a!="function"&&M(e,_,a)}}}return f}function be(e,i,s=[],t,u=!1,o=D){const d=s.map(o);var v=void 0,f={},p=e.nodeName==="SELECT",h=!1;I(()=>{var b=i(...d.map(m));oe(e,v,b,t,u),h&&p&&"value"in b&&k(e,b.value,!1);for(let n of Object.getOwnPropertySymbols(f))b[n]||T(f[n]);for(let n of Object.getOwnPropertySymbols(b)){var E=b[n];n.description===J&&(!v||E!==v[n])&&(f[n]&&T(f[n]),f[n]=$(()=>fe(e,()=>E)))}v=b}),p&&q(e,()=>v.value),h=!0}function H(e){return e.__attributes??(e.__attributes={[P]:e.nodeName.includes("-"),[j]:e.namespaceURI===G})}var C=new Map;function R(e){var i=C.get(e.nodeName);if(i)return i;C.set(e.nodeName,i=[]);for(var s,t=e,u=Element.prototype;u!==t;){s=Q(t);for(var o in s)s[o].set&&i.push(o);t=Z(t)}return i}export{be as a,de as b,M as s};
