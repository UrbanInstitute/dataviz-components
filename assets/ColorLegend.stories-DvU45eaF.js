import{p as F,f as G,a as H,g as m,h,s as v,b as J,d as K}from"./iframe-DyWuGZgA.js";import{i as Q}from"./lifecycle-BV4teSqg.js";import{C as U,o as $}from"./ColorLegend-BrUaj-zT.js";import{u as t}from"./urbanColors-BkxYcPwH.js";import{c as X,d as Y}from"./create-runtime-stories-fMtdXIcw.js";import{a as W,l as x,i as O,b as q,d as Z}from"./linear-zaFmwBME.js";import{i as ee,b as te,d as B}from"./init-DewmRu03.js";import"./each-BdKYQQNe.js";import"./attributes-DesoiSbl.js";import"./attributes-q36Eg1F8.js";import"./class-B9SFUanI.js";import"./style-CNURdi_Z.js";import"./size-to7WvB4c.js";import"./index-_doEQLKC.js";import"./quantile-Dc72mZUz.js";import"./string-BqOgh9tw.js";function ae(e,n){n===void 0&&(n=e,e=W);for(var o=0,c=n.length-1,r=n[0],a=new Array(c<0?0:c);o<c;)a[o]=e(r,r=n[++o]);return function(u){var d=Math.max(0,Math.min(c-1,Math.floor(u*=c)));return a[d](u-d)}}function D(){var e=[.5],n=[0,1],o,c=1;function r(a){return a!=null&&a<=a?n[te(e,a,0,c)]:o}return r.domain=function(a){return arguments.length?(e=Array.from(a),c=Math.min(e.length,n.length-1),r):e.slice()},r.range=function(a){return arguments.length?(n=Array.from(a),c=Math.min(e.length,n.length-1),r):n.slice()},r.invertExtent=function(a){var u=n.indexOf(a);return[e[u-1],e[u]]},r.unknown=function(a){return arguments.length?(o=a,r):o},r.copy=function(){return D().domain(e).range(n).unknown(o)},ee.apply(r,arguments)}function ne(){var e=0,n=1,o,c,r,a,u=O,d=!1,S;function i(s){return s==null||isNaN(s=+s)?S:u(r===0?.5:(s=(a(s)-o)*r,d?Math.max(0,Math.min(1,s)):s))}i.domain=function(s){return arguments.length?([e,n]=s,o=a(e=+e),c=a(n=+n),r=o===c?0:1/(c-o),i):[e,n]},i.clamp=function(s){return arguments.length?(d=!!s,i):d},i.interpolator=function(s){return arguments.length?(u=s,i):u};function f(s){return function(w){var g,C;return arguments.length?([g,C]=w,u=s(g,C),i):[u(0),u(1)]}}return i.range=f(W),i.rangeRound=f(q),i.unknown=function(s){return arguments.length?(S=s,i):S},function(s){return a=s,o=s(e),c=s(n),r=o===c?0:1/(c-o),i}}function R(e,n){return n.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function A(){var e=x(ne()(O));return e.copy=function(){return R(e,A())},B.apply(e,arguments)}function re(){var e=0,n=.5,o=1,c=1,r,a,u,d,S,i=O,f,s=!1,w;function g(l){return isNaN(l=+l)?w:(l=.5+((l=+f(l))-a)*(c*l<c*a?d:S),i(s?Math.max(0,Math.min(1,l)):l))}g.domain=function(l){return arguments.length?([e,n,o]=l,r=f(e=+e),a=f(n=+n),u=f(o=+o),d=r===a?0:.5/(a-r),S=a===u?0:.5/(u-a),c=a<r?-1:1,g):[e,n,o]},g.clamp=function(l){return arguments.length?(s=!!l,g):s},g.interpolator=function(l){return arguments.length?(i=l,g):i};function C(l){return function(y){var k,L,b;return arguments.length?([k,L,b]=y,i=ae(l,[k,L,b]),g):[i(0),i(.5),i(1)]}}return g.range=C(W),g.rangeRound=C(q),g.unknown=function(l){return arguments.length?(w=l,g):w},function(l){return f=l,r=l(e),a=l(n),u=l(o),d=r===a?0:.5/(a-r),S=a===u?0:.5/(u-a),c=a<r?-1:1,g}}function N(){var e=x(re()(O));return e.copy=function(){return R(e,N())},B.apply(e,arguments)}const se='This component generates a color legend based on a D3 scale.\n\n```js\nimport { ColorLegend } from "@urbaninstitute/dataviz-components/maps";\n```\n',oe={title:"Maps/ColorLegend",component:U,tags:["autodocs"],argTypes:{tickPosition:{control:"select",options:["bottom","top"]},tickTextAnchor:{control:"select",options:["auto","middle","start","end"]},swatchLayout:{control:"select",options:["row","column"]},swatchAlign:{control:"select",options:["flex-start","center","flex-end"]},tickLineColor:{control:{type:"color",presetColors:[t.black,t.white,t.gray]},defaultValue:t.black},margin:{control:"object"}},parameters:{docs:{description:{component:se}},githubLink:{url:"/maps/ColorLegend/ColorLegend.svelte"}}},{Story:_}=Y();var le=G("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1);function j(e,n){F(n,!1);const o=Z().domain([0,50,100]).range([t.blue_shade_lightest,t.blue,t.blue_shade_darkest]),c=A().domain([1,100]).range([t.blue_shade_lightest,t.blue]);Q();var r=le(),a=H(r);const u=h(()=>({scale:o}));_(a,{name:"Linear scale",get args(){return m(u)},parameters:{__svelteCsf:{rawCode:"<ColorLegend {...args} />"}}});var d=v(a,2);const S=h(()=>({scale:o,title:"Legend title"}));_(d,{name:"With title",get args(){return m(S)},parameters:{__svelteCsf:{rawCode:"<ColorLegend {...args} />"}}});var i=v(d,2);const f=h(()=>({scale:o,tickValues:[0,25,50,75,100]}));_(i,{name:"With custom ticks",get args(){return m(f)},parameters:{__svelteCsf:{rawCode:"<ColorLegend {...args} />"}}});var s=v(i,2);const w=h(()=>({scale:c}));_(s,{name:"Sequential scale",get args(){return m(w)},parameters:{__svelteCsf:{rawCode:"<ColorLegend {...args} />"}}});var g=v(s,2);const C=h(()=>({scale:N([-1,0,1],[t.yellow,t.white,t.blue])}));_(g,{name:"Diverging scale",get args(){return m(C)},parameters:{__svelteCsf:{rawCode:"<ColorLegend {...args} />"}}});var l=v(g,2);const y=h(()=>({scale:D([2,3,4,5],[t.blue_shade_lightest,t.blue_shade_lighter,t.blue,t.blue_shade_darker,t.black])}));_(l,{name:"Threshold scale",get args(){return m(y)},parameters:{__svelteCsf:{rawCode:"<ColorLegend {...args} />"}}});var k=v(l,2);const L=h(()=>({scale:$(["cat 1","cat 2","cat 3","cat 4"],[t.blue,t.yellow,t.black,t.magenta])}));_(k,{name:"Ordinal scale",get args(){return m(L)},parameters:{__svelteCsf:{rawCode:"<ColorLegend {...args} />"}}});var b=v(k,2);const E=h(()=>({scale:$(["$0 to $20,000","$20,000 to $50,000","$50,000 to $75,000","$75,000 to $100,000","$100,000 or more"],[t.green_shade_lightest,t.green_shade_lighter,t.green,t.green_shade_dark,t.green_shade_darkest])}));_(b,{name:"Ordinal scale with buckets",get args(){return m(E)},parameters:{__svelteCsf:{rawCode:"<ColorLegend {...args} />"}}});var T=v(b,2);const I=h(()=>({scale:$(["cat 1","cat 2","cat 3","cat 4"],[t.blue,t.yellow,t.black,t.magenta]),swatch:!0}));_(T,{name:"Ordinal scale swatches",get args(){return m(I)},parameters:{__svelteCsf:{rawCode:"<ColorLegend {...args} />"}}});var M=v(T,2);const V=h(()=>({scale:$(["cat 1","cat 2","cat 3","cat 4"],[t.blue,t.yellow,t.black,t.magenta]),swatch:!0,swatchLayout:"column",swatchCircle:!0}));_(M,{name:"Ordinal scale swatches column",get args(){return m(V)},parameters:{__svelteCsf:{rawCode:"<ColorLegend {...args} />"}}});var z=v(M,2);const P=h(()=>({scale:$(["$0 to $20,000","$20,000 to $50,000","$50,000 to $75,000","$75,000 to $100,000","$100,000 or more"],[t.green_shade_lightest,t.green_shade_lighter,t.green,t.green_shade_dark,t.green_shade_darkest]),swatch:!0,swatchLayout:"column"}));_(z,{name:"Ordinal scale swatches with buckets",get args(){return m(P)},parameters:{__svelteCsf:{rawCode:"<ColorLegend {...args} />"}}}),J(e,r),K()}j.__docgen={data:[],name:"ColorLegend.stories.svelte"};const p=X(j,oe),$e=["LinearScale","WithTitle","WithCustomTicks","SequentialScale","DivergingScale","ThresholdScale","OrdinalScale","OrdinalScaleWithBuckets","OrdinalScaleSwatches","OrdinalScaleSwatchesColumn","OrdinalScaleSwatchesWithBuckets"],Le={...p.LinearScale,tags:["svelte-csf-v5"]},Oe={...p.WithTitle,tags:["svelte-csf-v5"]},ye={...p.WithCustomTicks,tags:["svelte-csf-v5"]},We={...p.SequentialScale,tags:["svelte-csf-v5"]},Te={...p.DivergingScale,tags:["svelte-csf-v5"]},Me={...p.ThresholdScale,tags:["svelte-csf-v5"]},xe={...p.OrdinalScale,tags:["svelte-csf-v5"]},qe={...p.OrdinalScaleWithBuckets,tags:["svelte-csf-v5"]},Be={...p.OrdinalScaleSwatches,tags:["svelte-csf-v5"]},De={...p.OrdinalScaleSwatchesColumn,tags:["svelte-csf-v5"]},Re={...p.OrdinalScaleSwatchesWithBuckets,tags:["svelte-csf-v5"]};export{oe as $__meta,Te as DivergingScale,Le as LinearScale,xe as OrdinalScale,Be as OrdinalScaleSwatches,De as OrdinalScaleSwatchesColumn,Re as OrdinalScaleSwatchesWithBuckets,qe as OrdinalScaleWithBuckets,We as SequentialScale,Me as ThresholdScale,ye as WithCustomTicks,Oe as WithTitle,$e as __namedExportsOrder,oe as default};
