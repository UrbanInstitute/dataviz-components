import{S as Z,i as x,s as ee,c as h,a as d,m as S,t as w,b as _,d as k,o as te}from"./index-lamZ5WrB.js";import{s as b,c as T,i as C,d as W}from"./lifecycle-BNS46k4e.js";import{g as ae,a as ne}from"./spread-CgU5AtxT.js";import{u as r}from"./urbanColors-BkxYcPwH.js";import{C as G,o as I}from"./ColorLegend-D-LkahpT.js";import{p as re,T as se,S as v}from"./collect-stories-D1soPxiK.js";import{c as z,i as le,b as oe,l as H,d as P,e as J,f as K,g as ie}from"./linear-DjKppy_v.js";import"./each-CxU73AbR.js";import"./string-3NetaFjT.js";function ce(n,a){a===void 0&&(a=n,n=z);for(var l=0,o=a.length-1,s=a[0],t=new Array(o<0?0:o);l<o;)t[l]=n(s,s=a[++l]);return function(m){var $=Math.max(0,Math.min(o-1,Math.floor(m*=o)));return t[$](m-$)}}function Q(){var n=[.5],a=[0,1],l,o=1;function s(t){return t!=null&&t<=t?a[oe(n,t,0,o)]:l}return s.domain=function(t){return arguments.length?(n=Array.from(t),o=Math.min(n.length,a.length-1),s):n.slice()},s.range=function(t){return arguments.length?(a=Array.from(t),o=Math.min(n.length,a.length-1),s):a.slice()},s.invertExtent=function(t){var m=a.indexOf(t);return[n[m-1],n[m]]},s.unknown=function(t){return arguments.length?(l=t,s):l},s.copy=function(){return Q().domain(n).range(a).unknown(l)},le.apply(s,arguments)}function me(){var n=0,a=1,l,o,s,t,m=P,$=!1,y;function u(i){return i==null||isNaN(i=+i)?y:m(s===0?.5:(i=(t(i)-l)*s,$?Math.max(0,Math.min(1,i)):i))}u.domain=function(i){return arguments.length?([n,a]=i,l=t(n=+n),o=t(a=+a),s=l===o?0:1/(o-l),u):[n,a]},u.clamp=function(i){return arguments.length?($=!!i,u):$},u.interpolator=function(i){return arguments.length?(m=i,u):m};function p(i){return function(L){var f,A;return arguments.length?([f,A]=L,m=i(f,A),u):[m(0),m(1)]}}return u.range=p(z),u.rangeRound=p(K),u.unknown=function(i){return arguments.length?(y=i,u):y},function(i){return t=i,l=i(n),o=i(a),s=l===o?0:1/(o-l),u}}function U(n,a){return a.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function X(){var n=H(me()(P));return n.copy=function(){return U(n,X())},J.apply(n,arguments)}function ue(){var n=0,a=.5,l=1,o=1,s,t,m,$,y,u=P,p,i=!1,L;function f(c){return isNaN(c=+c)?L:(c=.5+((c=+p(c))-t)*(o*c<o*t?$:y),u(i?Math.max(0,Math.min(1,c)):c))}f.domain=function(c){return arguments.length?([n,a,l]=c,s=p(n=+n),t=p(a=+a),m=p(l=+l),$=s===t?0:.5/(t-s),y=t===m?0:.5/(m-t),o=t<s?-1:1,f):[n,a,l]},f.clamp=function(c){return arguments.length?(i=!!c,f):i},f.interpolator=function(c){return arguments.length?(u=c,f):u};function A(c){return function(N){var M,D,q;return arguments.length?([M,D,q]=N,u=ce(c,[M,D,q]),f):[u(0),u(.5),u(1)]}}return f.range=A(z),f.rangeRound=A(K),f.unknown=function(c){return arguments.length?(L=c,f):L},function(c){return p=c,s=c(n),t=c(a),m=c(l),$=s===t?0:.5/(t-s),y=t===m?0:.5/(m-t),o=t<s?-1:1,f}}function Y(){var n=H(ue()(P));return n.copy=function(){return U(n,Y())},J.apply(n,arguments)}function ge(n){let a,l;const o=[n[2]];let s={};for(let t=0;t<o.length;t+=1)s=te(s,o[t]);return a=new G({props:s}),{c(){h(a.$$.fragment)},l(t){d(a.$$.fragment,t)},m(t,m){S(a,t,m),l=!0},p(t,m){const $=m&4?ae(o,[ne(t[2])]):{};a.$set($)},i(t){l||(w(a.$$.fragment,t),l=!0)},o(t){_(a.$$.fragment,t),l=!1},d(t){k(a,t)}}}function fe(n){let a,l,o,s,t,m,$,y,u,p,i,L,f,A,c,N,M,D,q,j,B,E,R,V;return a=new se({props:{$$slots:{default:[ge,({args:e})=>({2:e}),({args:e})=>e?4:0]},$$scope:{ctx:n}}}),o=new v({props:{name:"Linear scale",args:{scale:n[0]}}}),t=new v({props:{name:"With title",args:{scale:n[0],title:"Legend title"}}}),$=new v({props:{name:"With custom ticks",args:{scale:n[0],tickValues:[0,25,50,75,100]}}}),u=new v({props:{name:"Sequential scale",args:{scale:n[1]}}}),i=new v({props:{name:"Diverging scale",args:{scale:Y([-1,0,1],[r.yellow,r.white,r.blue])}}}),f=new v({props:{name:"Threshold scale",args:{scale:Q([2,3,4,5],[r.blue_shade_lightest,r.blue_shade_lighter,r.blue,r.blue_shade_darker,r.black])}}}),c=new v({props:{name:"Ordinal scale",args:{scale:I(["cat 1","cat 2","cat 3","cat 4"],[r.blue,r.yellow,r.black,r.magenta])}}}),M=new v({props:{name:"Ordinal scale with buckets",args:{scale:I(["$0 to $20,000","$20,000 to $50,000","$50,000 to $75,000","$75,000 to $100,000","$100,000 or more"],[r.green_shade_lightest,r.green_shade_lighter,r.green,r.green_shade_dark,r.green_shade_darkest])}}}),q=new v({props:{name:"Ordinal scale swatches",args:{scale:I(["cat 1","cat 2","cat 3","cat 4"],[r.blue,r.yellow,r.black,r.magenta]),swatch:!0}}}),B=new v({props:{name:"Ordinal scale swatches column",args:{scale:I(["cat 1","cat 2","cat 3","cat 4"],[r.blue,r.yellow,r.black,r.magenta]),swatch:!0,swatchLayout:"column",swatchCircle:!0}}}),R=new v({props:{name:"Ordinal scale swatches with buckets",args:{scale:I(["$0 to $20,000","$20,000 to $50,000","$50,000 to $75,000","$75,000 to $100,000","$100,000 or more"],[r.green_shade_lightest,r.green_shade_lighter,r.green,r.green_shade_dark,r.green_shade_darkest]),swatch:!0,swatchLayout:"column"}}}),{c(){h(a.$$.fragment),l=b(),h(o.$$.fragment),s=b(),h(t.$$.fragment),m=b(),h($.$$.fragment),y=b(),h(u.$$.fragment),p=b(),h(i.$$.fragment),L=b(),h(f.$$.fragment),A=b(),h(c.$$.fragment),N=b(),h(M.$$.fragment),D=b(),h(q.$$.fragment),j=b(),h(B.$$.fragment),E=b(),h(R.$$.fragment)},l(e){d(a.$$.fragment,e),l=T(e),d(o.$$.fragment,e),s=T(e),d(t.$$.fragment,e),m=T(e),d($.$$.fragment,e),y=T(e),d(u.$$.fragment,e),p=T(e),d(i.$$.fragment,e),L=T(e),d(f.$$.fragment,e),A=T(e),d(c.$$.fragment,e),N=T(e),d(M.$$.fragment,e),D=T(e),d(q.$$.fragment,e),j=T(e),d(B.$$.fragment,e),E=T(e),d(R.$$.fragment,e)},m(e,g){S(a,e,g),C(e,l,g),S(o,e,g),C(e,s,g),S(t,e,g),C(e,m,g),S($,e,g),C(e,y,g),S(u,e,g),C(e,p,g),S(i,e,g),C(e,L,g),S(f,e,g),C(e,A,g),S(c,e,g),C(e,N,g),S(M,e,g),C(e,D,g),S(q,e,g),C(e,j,g),S(B,e,g),C(e,E,g),S(R,e,g),V=!0},p(e,[g]){const F={};g&12&&(F.$$scope={dirty:g,ctx:e}),a.$set(F)},i(e){V||(w(a.$$.fragment,e),w(o.$$.fragment,e),w(t.$$.fragment,e),w($.$$.fragment,e),w(u.$$.fragment,e),w(i.$$.fragment,e),w(f.$$.fragment,e),w(c.$$.fragment,e),w(M.$$.fragment,e),w(q.$$.fragment,e),w(B.$$.fragment,e),w(R.$$.fragment,e),V=!0)},o(e){_(a.$$.fragment,e),_(o.$$.fragment,e),_(t.$$.fragment,e),_($.$$.fragment,e),_(u.$$.fragment,e),_(i.$$.fragment,e),_(f.$$.fragment,e),_(c.$$.fragment,e),_(M.$$.fragment,e),_(q.$$.fragment,e),_(B.$$.fragment,e),_(R.$$.fragment,e),V=!1},d(e){e&&(W(l),W(s),W(m),W(y),W(p),W(L),W(A),W(N),W(D),W(j),W(E)),k(a,e),k(o,e),k(t,e),k($,e),k(u,e),k(i,e),k(f,e),k(c,e),k(M,e),k(q,e),k(B,e),k(R,e)}}}const $e={title:"Maps/ColorLegend",component:G,tags:["autodocs"],argTypes:{tickPosition:{control:"select",options:["bottom","top"]},tickTextAnchor:{control:"select",options:["auto","middle","start","end"]},swatchLayout:{control:"select",options:["row","column"]},swatchAlign:{control:"select",options:["flex-start","center","flex-end"]},tickLineColor:{control:{type:"color",presetColors:[r.black,r.white,r.gray]},defaultValue:r.black},margin:{control:"object"}},parameters:{docs:{description:{component:"This component generates a color legend based on a D3 scale."}}}};function pe(n){const a=ie().domain([0,50,100]).range([r.blue_shade_lightest,r.blue,r.blue_shade_darkest]),l=X().domain([1,100]).range([r.blue_shade_lightest,r.blue]);return[a,l]}class he extends Z{constructor(a){super(),x(this,a,pe,fe,ee,{})}}const O=re(he,{meta:{title:"Maps/ColorLegend",tags:["autodocs"]},stories:{"tpl:default":{name:"default",template:!0,source:"<ColorLegend {...args} />",hasArgs:!0},LinearScale:{name:"Linear scale",template:!1,source:"",hasArgs:!1},WithTitle:{name:"With title",template:!1,source:"",hasArgs:!1},WithCustomTicks:{name:"With custom ticks",template:!1,source:"",hasArgs:!1},SequentialScale:{name:"Sequential scale",template:!1,source:"",hasArgs:!1},DivergingScale:{name:"Diverging scale",template:!1,source:"",hasArgs:!1},ThresholdScale:{name:"Threshold scale",template:!1,source:"",hasArgs:!1},OrdinalScale:{name:"Ordinal scale",template:!1,source:"",hasArgs:!1},OrdinalScaleWithBuckets:{name:"Ordinal scale with buckets",template:!1,source:"",hasArgs:!1},OrdinalScaleSwatches:{name:"Ordinal scale swatches",template:!1,source:"",hasArgs:!1},OrdinalScaleSwatchesColumn:{name:"Ordinal scale swatches column",template:!1,source:"",hasArgs:!1},OrdinalScaleSwatchesWithBuckets:{name:"Ordinal scale swatches with buckets",template:!1,source:"",hasArgs:!1}},allocatedIds:["default","Story","Template","scaleLinear","scaleSequential","scaleDiverging","scaleThreshold","scaleOrdinal"]},$e),Ce=O.meta,We=["LinearScale","WithTitle","WithCustomTicks","SequentialScale","DivergingScale","ThresholdScale","OrdinalScale","OrdinalScaleWithBuckets","OrdinalScaleSwatches","OrdinalScaleSwatchesColumn","OrdinalScaleSwatchesWithBuckets"],ve=O.stories.LinearScale,Le=O.stories.WithTitle,Ae=O.stories.WithCustomTicks,Me=O.stories.SequentialScale,qe=O.stories.DivergingScale,De=O.stories.ThresholdScale,Be=O.stories.OrdinalScale,Re=O.stories.OrdinalScaleWithBuckets,Ne=O.stories.OrdinalScaleSwatches,Ie=O.stories.OrdinalScaleSwatchesColumn,je=O.stories.OrdinalScaleSwatchesWithBuckets;export{qe as DivergingScale,ve as LinearScale,Be as OrdinalScale,Ne as OrdinalScaleSwatches,Ie as OrdinalScaleSwatchesColumn,je as OrdinalScaleSwatchesWithBuckets,Re as OrdinalScaleWithBuckets,Me as SequentialScale,De as ThresholdScale,Ae as WithCustomTicks,Le as WithTitle,We as __namedExportsOrder,Ce as default};
