import{p as Be,i as u,m as He,bo as Ue,f as Xe,c as W,B as F,t as U,b as y,d as Ze,g as t,az as X,s as Z,A as k,y as j,Z as je,a7 as V,a as N,k as le,e as xe,W as qe,Y as we}from"./iframe-D_iF5c85.js";import{s as ze}from"./create-runtime-stories-cJTTi5Jk.js";import{e as q,i as z}from"./each-B1oKFb8M.js";import{s as r}from"./attributes-BlXGg7Yy.js";import{s as se}from"./class-B9SFUanI.js";import{s as Me}from"./style-CNURdi_Z.js";import{b as Je}from"./size-TzohQyBJ.js";import{b as Qe}from"./this-BBCWgB8B.js";import{u as L}from"./urbanColors-BkxYcPwH.js";import{T as $e}from"./Tooltip-Dc-_iO2O.js";const et=`AK,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,ME
  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,VT,NH
  ,  ,WA,MT,ND,MN,WI,  ,MI,  ,NY,MA,RI
  ,  ,  ,ID,WY,SD,IA,IL,IN,OH,PA,NJ,CT
  ,  ,OR,NV,CO,NE,MO,KY,WV,VA,MD,DE,
  ,  ,  ,CA,UT,NM,KS,AR,TN,NC,SC,DC,
  ,  ,  ,  ,AZ,OK,LA,MS,AL,GA,  ,  ,
  ,MP,HI,  ,  ,  ,TX,  ,  ,FL,  ,  ,
GU,AS,  ,  ,  ,  ,  ,  ,  ,  ,  ,PR,VI
`,oe=new Map([["AL","01"],["AK","02"],["AZ","04"],["AR","05"],["CA","06"],["CO","08"],["CT","09"],["DE","10"],["DC","11"],["FL","12"],["GA","13"],["HI","15"],["ID","16"],["IL","17"],["IN","18"],["IA","19"],["KS","20"],["KY","21"],["LA","22"],["ME","23"],["MD","24"],["MA","25"],["MI","26"],["MN","27"],["MS","28"],["MO","29"],["MT","30"],["NE","31"],["NV","32"],["NH","33"],["NJ","34"],["NM","35"],["NY","36"],["NC","37"],["ND","38"],["OH","39"],["OK","40"],["OR","41"],["PA","42"],["RI","44"],["SC","45"],["SD","46"],["TN","47"],["TX","48"],["UT","49"],["VT","50"],["VA","51"],["WA","53"],["WV","54"],["WI","55"],["WY","56"],["PR","72"],["GU","66"],["MP","69"],["AS","60"],["VI","78"]]);var tt=(f,a)=>a()(f),it=(f,a,o)=>a(f,t(o)),at=(f,a,o)=>a(f,t(o)),nt=le('<path role="presentation"></path>'),rt=(f,a,o)=>a(f,t(o)),st=(f,a,o)=>a(f,t(o)),ot=le('<rect role="presentation"></rect>'),lt=le('<g class="tile svelte-yhhhso" pointer-events="none" role="presentation"><text class="state-label state-label-stroke svelte-yhhhso" dx="-0.7em" dy="0.3em" fill="white" stroke="white" stroke-linejoin="round"> </text><text class="state-label svelte-yhhhso" dx="-0.7em" dy="0.3em"> </text></g>'),dt=Xe('<div class="tile-map-wrap"><svg><rect role="presentation" class="background" x="0" y="0"></rect><g></g><g class="map-labels"></g></svg> <!></div>');function ut(f,a){Be(a,!0);const o=u(a,"shape",3,"hex"),Ae=u(a,"featureOption",3,"states"),de=u(a,"fill",19,()=>L.blue),ue=u(a,"hoverFill",3,void 0),fe=u(a,"naFill",19,()=>L.gray_shade_light),ce=u(a,"stroke",19,()=>L.white),J=u(a,"strokeWidth",3,.5),Ve=u(a,"labelColor",19,()=>L.black),Ne=u(a,"onMousemove",3,()=>{}),Se=u(a,"onMouseout",3,()=>{}),Oe=u(a,"onClick",3,()=>{}),Ce=u(a,"onBgclick",3,()=>{}),ye=u(a,"tooltip",3,void 0),Ie={states:["PR","VI","MP","GU","AS"],pr:["VI","MP","GU","AS"],territories:[]};function Te(e){return e.split(`
`).map(i=>i.split(",").map(n=>Ie[Ae()].includes(n)?"  ":n))}let Q=k(()=>a.data?a.data.reduce((e,i)=>{const{map_id:n}=i;return e.set(n,i)},new Map):void 0),S=X(500),E=k(()=>Te(et)),De=k(()=>t(E).filter(e=>e.some(i=>i.trim()!=="")).length),h=k(()=>Math.floor(t(S)/t(E)[0].length)),p=k(()=>Re(t(h),o())),$=k(()=>We(t(De),t(p),o()));function Re(e,i){return i==="hex"?e/Math.sqrt(3)*2.1:e}function We(e,i,n){return n==="hex"?e*(i/2)+i*2.25+e%2*(i*.25)+(a.hoverStrokeWidth||0):e*i+(a.hoverStrokeWidth||0)}function Fe(e,i){return[[e/2,0],[e,i/4],[e,i/4*3],[e/2,i],[0,i/4*3],[0,i/4]].reduce((c,v,T)=>(c+=`${T>0?"L":""} ${v[0]},${v[1]} `,c),"M")+"Z"}let Le=k(()=>Fe(t(h),t(p)));function ee(e,i){return o()==="hex"?e*i*.75:e*i}function te(e,i,n){return o()==="hex"&&i%2!==0?e*n-n*.5:e*n}function he(e,i,n){return e?typeof i=="string"?i:i(e)||n:n}function P(e){if(!t(Q))return null;const i=oe.get(e);return t(Q).has(i)?t(Q).get(i):{map_id:i}}let G=X(void 0),pe=X(void 0),O=X(null);function C(e){var i;(i=e.parentNode)==null||i.appendChild(e)}function ve(e,i){e.target&&e.target instanceof Element&&C(e.target),t(G)&&C(t(G));const n=P(i);j(O,{props:n,x:e.pageX,y:e.pageY},!0),Ne()(e,n)}function Y(e){j(O,null),Se()(e)}function me(e,i){e.target instanceof Element&&C(e.target);const n=P(i);Oe()(e,n)}He(()=>{t(G)&&C(t(G))});function ge(e,i){return e===i}Ue();var b=dt(),_=W(b),I=W(_);I.__mousedown=[tt,Ce];var K=Z(I);let ke,be;q(K,21,()=>t(E),z,(e,i,n)=>{var c=V(),v=N(c);q(v,17,()=>t(i),z,(T,d,B)=>{var D=V(),ie=N(D);{var ae=g=>{var x=V(),w=N(x);{var ne=m=>{var s=nt();let A;s.__mousemove=[it,ve,d],s.__mouseout=Y,s.__mousedown=[at,me,d],U((R,l,H,re)=>{A=se(s,0,"tile-shape svelte-yhhhso",null,A,R),r(s,"d",t(Le)),r(s,"fill",l),r(s,"transform",`translate(${H??""}, ${re??""})`),r(s,"stroke",ce()),r(s,"stroke-width",J())},[()=>({highlight:ge(oe.get(t(d)),a.highlightFeature)}),()=>he(P(t(d)),de(),fe()),()=>te(B,n,t(h)),()=>ee(n,t(p))]),we("blur",s,Y),y(m,s)},M=(m,s)=>{{var A=R=>{var l=ot();let H;l.__mousemove=[rt,ve,d],l.__mouseout=Y,l.__mousedown=[st,me,d],U((re,Ge,Ye,Ke)=>{H=se(l,0,"tile-shape svelte-yhhhso",null,H,re),r(l,"width",t(h)),r(l,"height",t(p)),r(l,"transform",`translate(${Ge??""}, ${Ye??""})`),r(l,"fill",Ke),r(l,"stroke",ce()),r(l,"stroke-width",J())},[()=>({highlight:ge(oe.get(t(d)),a.highlightFeature)}),()=>te(B,n,t(h)),()=>ee(n,t(p)),()=>he(P(t(d)),de(),fe())]),we("blur",l,Y),y(R,l)};F(m,R=>{o()==="rect"&&R(A)},s)}};F(w,m=>{o()==="hex"?m(ne):m(M,!1)})}y(g,x)};F(ie,g=>{t(d).trim()!==""&&g(ae)})}y(T,D)}),y(e,c)});var _e=Z(K);Me(_e,"",{},{"--font-weight":"bold"}),q(_e,21,()=>t(E),z,(e,i,n)=>{var c=V(),v=N(c);q(v,17,()=>t(i),z,(T,d,B)=>{var D=V(),ie=N(D);{var ae=g=>{var x=lt(),w=W(x),ne=W(w),M=Z(w),m=W(M);U((s,A)=>{r(x,"transform",`translate(${s??""}, ${A??""})`),r(w,"x",t(h)/2),r(w,"y",t(p)/2),xe(ne,t(d)),r(M,"x",t(h)/2),r(M,"y",t(p)/2),r(M,"fill",Ve()),xe(m,t(d))},[()=>te(B,n,t(h)),()=>ee(n,t(p))]),y(g,x)};F(ie,g=>{t(d).trim()!==""&&g(ae)})}y(T,D)}),y(e,c)}),Qe(_,e=>j(pe,e),()=>t(pe));var Ee=Z(_,2);{var Pe=e=>{$e(e,qe(()=>t(O),{children:(i,n)=>{var c=V(),v=N(c);ze(v,ye,()=>t(O).props),y(i,c)},$$slots:{default:!0}}))};F(Ee,e=>{ye()&&t(O)&&e(Pe)})}return U(e=>{r(b,"aria-hidden",typeof a.ariaRole>"u"),r(b,"role",a.ariaRole),r(b,"aria-label",a.ariaLabel),r(_,"width",t(S)),r(_,"height",t($)),r(_,"viewBox",`0 0 ${t(S)??""} ${t($)??""}`),r(I,"fill",L.white),r(I,"width",t(S)),r(I,"height",t($)),ke=se(K,0,"tiles svelte-yhhhso",null,ke,e),be=Me(K,"",be,{"--hover-fill":ue()||null,"--hover-stroke":a.hoverStroke||null,"--hover-stroke-width":a.hoverStrokeWidth||J()})},[()=>({"hover-fill":ue()})]),Je(b,"clientWidth",e=>j(S,e)),y(f,b),Ze({raise:C})}je(["mousedown","mousemove","mouseout"]);ut.__docgen={data:[{name:"data",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"array",text:"{ [x: string]: any; }[]"},static:!1,readonly:!1},{name:"shape",visibility:"public",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"const",type:"string",value:"hex",text:'"hex"'},{kind:"const",type:"string",value:"rext",text:'"rext"'}],text:'"hex" | "rext"'},static:!1,readonly:!1,defaultValue:'"hex"'},{name:"featureOption",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1,defaultValue:'"states"'},{name:"fill",visibility:"public",description:"- A string or function that returns a string to use as this layers stroke color.",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"type",type:"string",text:"string"},{kind:"function",text:"(d: { [x: string]: any; }) => string"}],text:"string | (d: { [x: string]: any; }) => string"},static:!1,readonly:!1,defaultValue:"..."},{name:"hoverFill",visibility:"public",description:"- A color string to use when a feature is hovered",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"naFill",visibility:"public",description:"- Color to use for values that are NA or otherwise undefined in the color scale",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:"..."},{name:"stroke",visibility:"public",description:"- A string or function that returns a string to use as this layers stroke color.",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"type",type:"string",text:"string"},{kind:"function",text:"(d: Object) => string"}],text:"string | (d: Object) => string"},static:!1,readonly:!1,defaultValue:"..."},{name:"hoverStroke",visibility:"public",description:"- Optional color string for hovered feature stroke",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"strokeWidth",visibility:"public",description:"- Stroke width of each feature",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1,defaultValue:"0.5"},{name:"hoverStrokeWidth",visibility:"public",description:"- Stroke width of each feature when hovered",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1},{name:"highlightFeature",visibility:"public",description:"- ID of the feature to highlight",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"ariaRole",visibility:"public",description:"- Optional aria role string to be applied to SVG container. By default, the SVG is hidden from the accessiblity tree. If you add an ariaRole here, any layers should also be given an ariaRole.",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"ariaLabel",visibility:"public",description:"- Optional aria label string to be applied to SVG container. By default, the SVG is hidden from the accessiblity tree and should include a descriptive label. If you add an ariaRole this property can be left undefined;",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"labelColor",visibility:"public",description:"- Optional color string to use for the labels on the map",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:"..."},{name:"onMousemove",visibility:"public",description:"- Optional handler that fires when the mouse moves over a feature",keywords:[],kind:"let",type:{kind:"function",text:"(e: Event, props: Record<any, any>) => void"},static:!1,readonly:!1,defaultValue:"function"},{name:"onMouseout",visibility:"public",description:"- Optional handler that fires when the mouse moves out of a feature",keywords:[],kind:"let",type:{kind:"function",text:"(e: Event) => void"},static:!1,readonly:!1,defaultValue:"function"},{name:"onClick",visibility:"public",description:"- Optional handler that fires when the mouse clicks on a feature",keywords:[],kind:"let",type:{kind:"function",text:"(e: Event, props: Record<any, any>) => void"},static:!1,readonly:!1,defaultValue:"function"},{name:"onBgclick",visibility:"public",description:"- Optional handler that fires when the mouse clicks on the background",keywords:[],kind:"let",type:{kind:"function",text:"(e: Event) => void"},static:!1,readonly:!1,defaultValue:"function"},{name:"",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1}],name:"Tilemap.svelte"};export{ut as T};
