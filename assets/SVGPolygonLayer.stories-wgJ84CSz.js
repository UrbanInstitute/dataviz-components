import{S as P,i as W,s as C,c as m,a as u,m as p,t as f,b as c,d as g,o as F}from"./index-Dy1J9qof.js";import{s as V,c as w,i as H,d as b,y as h}from"./lifecycle-mCW1c9RL.js";import{g as A,a as E}from"./spread-CgU5AtxT.js";import{S as M}from"./SVGPolygonLayer-CIVQTgms.js";import{S as T}from"./lib-CRabK7jd.js";import{f as y,u as _,e as S}from"./index-D9vgTP3q.js";import{p as j,T as B,S as k}from"./collect-stories-DS3D1-He.js";import{s as L}from"./states_geo-Cwuy5VwI.js";import{u as v}from"./urbanColors-BkxYcPwH.js";import"./each-CjkgdRJJ.js";import"./string-Cinc0syZ.js";import"./Tooltip-DEA9aP6W.js";import"./globals-D0QH3NT1.js";const I='A polygon layer for use in an `<SVGMap>` component. Renders each `feature` as an svg `path` element, leveraging d3\'s geoPath function. If no `features` are passed directly to this layer, it will render the features of the parent `SVGMap` component.\n\n## Usage\n\n```svelte\n<script>\n  import { SVGMap, SVGPolygonLayer } from "@urbaninstitute/dataviz-components/maps";\n  import states from "./path/to/geojson/states.json";\n<\/script>\n<SVGMap features={states.features}>\n  <SVGPolygonLayer />\n</SVGMap>\n\n```\n';function q(s){let e,r;const o=[s[7]];let n={};for(let a=0;a<o.length;a+=1)n=F(n,o[a]);return e=new M({props:n}),e.$on("click",s[3]),e.$on("mouseout",s[4]),e.$on("mousemove",s[5]),e.$on("click",s[2]),e.$on("mouseout",s[1]),e.$on("mousemove",s[0]),{c(){m(e.$$.fragment)},l(a){u(e.$$.fragment,a)},m(a,i){p(e,a,i),r=!0},p(a,i){const t=i&128?A(o,[E(a[7])]):{};e.$set(t)},i(a){r||(f(e.$$.fragment,a),r=!0)},o(a){c(e.$$.fragment,a),r=!1},d(a){g(e,a)}}}function D(s){let e,r;return e=new T({props:{features:s[7].features,$$slots:{default:[q]},$$scope:{ctx:s}}}),{c(){m(e.$$.fragment)},l(o){u(e.$$.fragment,o)},m(o,n){p(e,o,n),r=!0},p(o,n){const a={};n&128&&(a.features=o[7].features),n&384&&(a.$$scope={dirty:n,ctx:o}),e.$set(a)},i(o){r||(f(e.$$.fragment,o),r=!0)},o(o){c(e.$$.fragment,o),r=!1},d(o){g(e,o)}}}function O(s){let e,r,o,n,a,i;return e=new B({props:{$$slots:{default:[D,({args:t})=>({7:t}),({args:t})=>t?128:0]},$$scope:{ctx:s}}}),o=new k({props:{name:"Simple",args:{features:L.features,fill:v.blue},play:s[6]}}),a=new k({props:{name:"With highlighted feature",args:{features:L.features,fill:v.blue,hoverStroke:v.yellow,hoverStrokeWidth:3,highlightFeature:R}}}),{c(){m(e.$$.fragment),r=V(),m(o.$$.fragment),n=V(),m(a.$$.fragment)},l(t){u(e.$$.fragment,t),r=w(t),u(o.$$.fragment,t),n=w(t),u(a.$$.fragment,t)},m(t,l){p(e,t,l),H(t,r,l),p(o,t,l),H(t,n,l),p(a,t,l),i=!0},p(t,[l]){const $={};l&384&&($.$$scope={dirty:l,ctx:t}),e.$set($)},i(t){i||(f(e.$$.fragment,t),f(o.$$.fragment,t),f(a.$$.fragment,t),i=!0)},o(t){c(e.$$.fragment,t),c(o.$$.fragment,t),c(a.$$.fragment,t),i=!1},d(t){t&&(b(r),b(n)),g(e,t),g(o,t),g(a,t)}}}const z={title:"Maps/SVGPolygonLayer",component:M,tags:["autodocs"],argTypes:{features:{control:"array"},fill:{control:"text"},stroke:{control:"number"}},parameters:{docs:{description:{component:I}},githubLink:{url:"/maps/SVGPolygonLayer/SVGPolygonLayer.svelte"}}},R=s=>s.properties.GEOID==="01";function U(s){let e=y(),r=y(),o=y();function n(l){h.call(this,s,l)}function a(l){h.call(this,s,l)}function i(l){h.call(this,s,l)}return[e,r,o,n,a,i,async({canvasElement:l,args:$})=>{const d=l.querySelector(".polygon-feature");await _.hover(d),await S(e).toHaveBeenCalled(),await _.unhover(d),await S(r).toHaveBeenCalled(),await _.click(d),await S(o).toHaveBeenCalled()}]}class J extends P{constructor(e){super(),W(this,e,U,O,C,{})}}const G=j(J,{meta:{title:"Maps/SVGPolygonLayer",tags:["autodocs"]},stories:{"tpl:default":{name:"default",template:!0,source:`<SVGMap features={args.features}>
  <SVGPolygonLayer
    {...args}
    on:click
    on:mouseout
    on:mousemove
    on:click={clickHandler}
    on:mouseout={mouseoutHandler}
    on:mousemove={mousemoveHandler}
  />
</SVGMap>`,hasArgs:!0},Simple:{name:"Simple",template:!1,source:"",hasArgs:!1},WithHighlightedFeature:{name:"With highlighted feature",template:!1,source:"",hasArgs:!1}},allocatedIds:["default","userEvent","expect","fn","Story","Template","states","urbanColors"]},z),ne=G.meta,le=["Simple","WithHighlightedFeature"],ie=G.stories.Simple,me=G.stories.WithHighlightedFeature;export{ie as Simple,me as WithHighlightedFeature,le as __namedExportsOrder,ne as default};
