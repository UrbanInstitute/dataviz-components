import{S as je,i as Pe,s as Te,y as Re,n as re}from"./index-Dy1J9qof.js";import{e as M,s as B,a as O,b as g,c as K,d as m,j as u,f as S,i as y,k as z,J as He,t as j,g as P,l as T,m as L,n as C,o as b,p as k,z as oe}from"./lifecycle-mCW1c9RL.js";import{e as A}from"./each-CjkgdRJJ.js";import{u as Je}from"./urbanColors-BkxYcPwH.js";import{i as Ee,f as se,g as Xe,h as Be,j as Ke}from"./linear-CIErNTRy.js";import{I as fe}from"./index-_doEQLKC.js";import{a as Qe}from"./quantile-08mpu7mT.js";function Q(n,e,a){n=+n,e=+e,a=(l=arguments.length)<2?(e=n,n=0,1):l<3?1:+a;for(var i=-1,l=Math.max(0,Math.ceil((e-n)/a))|0,r=new Array(l);++i<l;)r[i]=n+i*a;return r}function Ue(n,e){for(var a=new Array(e),i=0;i<e;++i)a[i]=n(i/(e-1));return a}const ue=Symbol("implicit");function Me(){var n=new fe,e=[],a=[],i=ue;function l(r){let t=n.get(r);if(t===void 0){if(i!==ue)return i;n.set(r,t=e.push(r)-1)}return a[t%a.length]}return l.domain=function(r){if(!arguments.length)return e.slice();e=[],n=new fe;for(const t of r)n.has(t)||n.set(t,e.push(t)-1);return l},l.range=function(r){return arguments.length?(a=Array.from(r),l):a.slice()},l.unknown=function(r){return arguments.length?(i=r,l):i},l.copy=function(){return Me(e,a).unknown(i)},Ee.apply(l,arguments),l}function Oe(){var n=Me().unknown(void 0),e=n.domain,a=n.range,i=0,l=1,r,t,o=!1,f=0,s=0,h=.5;delete n.unknown;function _(){var d=e().length,p=l<i,w=p?l:i,F=p?i:l;r=(F-w)/Math.max(1,d-f+s*2),o&&(r=Math.floor(r)),w+=(F-w-r*(d-f))*h,t=r*(1-f),o&&(w=Math.round(w),t=Math.round(t));var D=Q(d).map(function(q){return w+r*q});return a(p?D.reverse():D)}return n.domain=function(d){return arguments.length?(e(d),_()):e()},n.range=function(d){return arguments.length?([i,l]=d,i=+i,l=+l,_()):[i,l]},n.rangeRound=function(d){return[i,l]=d,i=+i,l=+l,o=!0,_()},n.bandwidth=function(){return t},n.step=function(){return r},n.round=function(d){return arguments.length?(o=!!d,_()):o},n.padding=function(d){return arguments.length?(f=Math.min(1,s=+d),_()):f},n.paddingInner=function(d){return arguments.length?(f=Math.min(1,d),_()):f},n.paddingOuter=function(d){return arguments.length?(s=+d,_()):s},n.align=function(d){return arguments.length?(h=Math.max(0,Math.min(1,d)),_()):h},n.copy=function(){return Oe(e(),[i,l]).round(o).paddingInner(f).paddingOuter(s).align(h)},Ee.apply(_(),arguments)}function he(n,e,a){const i=n.slice();return i[50]=e[a],i[46]=a,i}function ce(n,e,a){const i=n.slice();i[39]=e[a];const l=i[21]==="ordinal"?i[22](i[39])+i[22].bandwidth()/2:i[22](i[39]);i[40]=l;const r=i[4]==="top"?0:i[2]+i[5]+i[3];return i[41]=r,i}function de(n,e,a){const i=n.slice();return i[50]=e[a],i[46]=a,i}function me(n,e,a){const i=n.slice();return i[44]=e[a],i[46]=a,i}function _e(n,e,a){const i=n.slice();return i[47]=e[a],i[46]=a,i}function ge(n,e,a){const i=n.slice();return i[44]=e[a],i[46]=a,i}function pe(n){let e,a;return{c(){e=M("p"),a=j(n[1]),this.h()},l(i){e=O(i,"P",{class:!0});var l=g(e);a=P(l,n[1]),l.forEach(m),this.h()},h(){u(e,"class","legend-title svelte-1ioe3b8")},m(i,l){y(i,e,l),z(e,a)},p(i,l){l[0]&2&&T(a,i[1])},d(i){i&&m(e)}}}function ye(n){let e;function a(r,t){return r[21]==="ordinal"&&r[10]?Ye:Ze}let i=a(n),l=i(n);return{c(){l.c(),e=L()},l(r){l.l(r),e=L()},m(r,t){l.m(r,t),y(r,e,t)},p(r,t){i===(i=a(r))&&l?l.p(r,t):(l.d(1),l=i(r),l&&(l.c(),l.m(e.parentNode,e)))},d(r){r&&m(e),l.d(r)}}}function Ye(n){let e,a,i=`${n[3]}px`,l=`${n[13]}px`,r=A(n[27]),t=[];for(let o=0;o<r.length;o+=1)t[o]=be(he(n,r,o));return{c(){e=M("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=O(o,"DIV",{class:!0});var f=g(e);for(let s=0;s<t.length;s+=1)t[s].l(f);f.forEach(m),this.h()},h(){u(e,"class",a="swatch-wrap swatch-layout-"+n[11]+" svelte-1ioe3b8"),S(e,"--swatch-font-size",i),S(e,"--swatch-color-size",l),S(e,"--swatch-align",n[12]),S(e,"--swatch-spacing",n[15])},m(o,f){y(o,e,f);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(o,f){if(f[0]&134234113){r=A(o[27]);let s;for(s=0;s<r.length;s+=1){const h=he(o,r,s);t[s]?t[s].p(h,f):(t[s]=be(h),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=r.length}f[0]&2048&&a!==(a="swatch-wrap swatch-layout-"+o[11]+" svelte-1ioe3b8")&&u(e,"class",a),f[0]&8&&i!==(i=`${o[3]}px`)&&S(e,"--swatch-font-size",i),f[0]&8192&&l!==(l=`${o[13]}px`)&&S(e,"--swatch-color-size",l),f[0]&4096&&S(e,"--swatch-align",o[12]),f[0]&32768&&S(e,"--swatch-spacing",o[15])},d(o){o&&m(e),C(t,o)}}}function Ze(n){let e,a,i,l,r,t;function o(d,p){if(d[21]==="continuous")return tt;if(d[21]==="sequential")return et;if(d[21]==="threshold")return $e;if(d[21]==="ordinal")return xe}let f=o(n),s=f&&f(n),h=n[16]&&Se(n),_=n[21]&&n[20]&&n[22]&&Le(n);return{c(){e=b("svg"),a=b("g"),s&&s.c(),i=L(),h&&h.c(),l=L(),_&&_.c(),this.h()},l(d){e=k(d,"svg",{width:!0,height:!0});var p=g(e);a=k(p,"g",{class:!0,transform:!0});var w=g(a);s&&s.l(w),i=L(),h&&h.l(w),l=L(),_&&_.l(w),w.forEach(m),p.forEach(m),this.h()},h(){u(a,"class","legend-inner"),u(a,"transform",r="translate("+n[8].left+", "+n[8].top+")"),u(e,"width",n[20]),u(e,"height",t=n[2]+n[3]+n[5]+n[8].top+n[8].bottom)},m(d,p){y(d,e,p),z(e,a),s&&s.m(a,null),z(a,i),h&&h.m(a,null),z(a,l),_&&_.m(a,null)},p(d,p){f===(f=o(d))&&s?s.p(d,p):(s&&s.d(1),s=f&&f(d),s&&(s.c(),s.m(a,i))),d[16]?h?h.p(d,p):(h=Se(d),h.c(),h.m(a,l)):h&&(h.d(1),h=null),d[21]&&d[20]&&d[22]?_?_.p(d,p):(_=Le(d),_.c(),_.m(a,null)):_&&(_.d(1),_=null),p[0]&256&&r!==(r="translate("+d[8].left+", "+d[8].top+")")&&u(a,"transform",r),p[0]&1048576&&u(e,"width",d[20]),p[0]&300&&t!==(t=d[2]+d[3]+d[5]+d[8].top+d[8].bottom)&&u(e,"height",t)},d(d){d&&m(e),s&&s.d(),h&&h.d(),_&&_.d()}}}function be(n){let e,a,i,l,r=n[50]+"",t,o;return{c(){e=M("div"),a=M("div"),i=B(),l=M("span"),t=j(r),o=B(),this.h()},l(f){e=O(f,"DIV",{class:!0});var s=g(e);a=O(s,"DIV",{class:!0}),g(a).forEach(m),i=K(s),l=O(s,"SPAN",{class:!0});var h=g(l);t=P(h,r),h.forEach(m),o=K(s),s.forEach(m),this.h()},h(){u(a,"class","swatch-color svelte-1ioe3b8"),S(a,"background-color",n[0](n[50])),u(l,"class","swatch-label svelte-1ioe3b8"),u(e,"class","swatch-item svelte-1ioe3b8"),oe(e,"swatch-circle",n[14])},m(f,s){y(f,e,s),z(e,a),z(e,i),z(e,l),z(l,t),z(e,o)},p(f,s){s[0]&134217729&&S(a,"background-color",f[0](f[50])),s[0]&134217728&&r!==(r=f[50]+"")&&T(t,r),s[0]&16384&&oe(e,"swatch-circle",f[14])},d(f){f&&m(e)}}}function xe(n){let e,a=A(n[27]),i=[];for(let l=0;l<a.length;l+=1)i[l]=ke(de(n,a,l));return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=L()},l(l){for(let r=0;r<i.length;r+=1)i[r].l(l);e=L()},m(l,r){for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(l,r);y(l,e,r)},p(l,r){if(r[0]&138412093){a=A(l[27]);let t;for(t=0;t<a.length;t+=1){const o=de(l,a,t);i[t]?i[t].p(o,r):(i[t]=ke(o),i[t].c(),i[t].m(e.parentNode,e))}for(;t<i.length;t+=1)i[t].d(1);i.length=a.length}},d(l){l&&m(e),C(i,l)}}}function $e(n){let e,a=A(n[24]),i=[];for(let l=0;l<a.length;l+=1)i[l]=we(me(n,a,l));return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=L()},l(l){for(let r=0;r<i.length;r+=1)i[r].l(l);e=L()},m(l,r){for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(l,r);y(l,e,r)},p(l,r){if(r[0]&20971524){a=A(l[24]);let t;for(t=0;t<a.length;t+=1){const o=me(l,a,t);i[t]?i[t].p(o,r):(i[t]=we(o),i[t].c(),i[t].m(e.parentNode,e))}for(;t<i.length;t+=1)i[t].d(1);i.length=a.length}},d(l){l&&m(e),C(i,l)}}}function et(n){let e,a,i,l,r=A(n[27]),t=[];for(let o=0;o<r.length;o+=1)t[o]=ve(_e(n,r,o));return{c(){e=b("defs"),a=b("linearGradient");for(let o=0;o<t.length;o+=1)t[o].c();i=b("rect"),this.h()},l(o){e=k(o,"defs",{});var f=g(e);a=k(f,"linearGradient",{id:!0});var s=g(a);for(let h=0;h<t.length;h+=1)t[h].l(s);s.forEach(m),f.forEach(m),i=k(o,"rect",{fill:!0,width:!0,height:!0,y:!0}),g(i).forEach(m),this.h()},h(){u(a,"id",n[28]),u(i,"fill","url(#"+n[28]+")"),u(i,"width",n[23]),u(i,"height",n[2]),u(i,"y",l=n[4]==="bottom"?0:n[3]+n[5])},m(o,f){y(o,e,f),z(e,a);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(a,null);y(o,i,f)},p(o,f){if(f[0]&134217729){r=A(o[27]);let s;for(s=0;s<r.length;s+=1){const h=_e(o,r,s);t[s]?t[s].p(h,f):(t[s]=ve(h),t[s].c(),t[s].m(a,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=r.length}f[0]&8388608&&u(i,"width",o[23]),f[0]&4&&u(i,"height",o[2]),f[0]&56&&l!==(l=o[4]==="bottom"?0:o[3]+o[5])&&u(i,"y",l)},d(o){o&&(m(e),m(i)),C(t,o)}}}function tt(n){let e,a,i,l,r=A(n[24]),t=[];for(let o=0;o<r.length;o+=1)t[o]=ze(ge(n,r,o));return{c(){e=b("defs"),a=b("linearGradient");for(let o=0;o<t.length;o+=1)t[o].c();i=b("rect"),this.h()},l(o){e=k(o,"defs",{});var f=g(e);a=k(f,"linearGradient",{id:!0});var s=g(a);for(let h=0;h<t.length;h+=1)t[h].l(s);s.forEach(m),f.forEach(m),i=k(o,"rect",{fill:!0,width:!0,height:!0,y:!0}),g(i).forEach(m),this.h()},h(){u(a,"id",n[28]),u(i,"fill","url(#"+n[28]+")"),u(i,"width",n[23]),u(i,"height",n[2]),u(i,"y",l=n[4]==="bottom"?0:n[3]+n[5])},m(o,f){y(o,e,f),z(e,a);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(a,null);y(o,i,f)},p(o,f){if(f[0]&16777216){r=A(o[24]);let s;for(s=0;s<r.length;s+=1){const h=ge(o,r,s);t[s]?t[s].p(h,f):(t[s]=ze(h),t[s].c(),t[s].m(a,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=r.length}f[0]&8388608&&u(i,"width",o[23]),f[0]&4&&u(i,"height",o[2]),f[0]&56&&l!==(l=o[4]==="bottom"?0:o[3]+o[5])&&u(i,"y",l)},d(o){o&&(m(e),m(i)),C(t,o)}}}function ke(n){let e,a,i,l,r;return{c(){e=b("rect"),this.h()},l(t){e=k(t,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),g(e).forEach(m),this.h()},h(){u(e,"x",a=n[22](n[50])),u(e,"y",i=n[4]==="bottom"?0:n[3]+n[5]),u(e,"width",l=Math.max(0,n[22].bandwidth()-1)),u(e,"height",n[2]),u(e,"fill",r=n[0](n[50]))},m(t,o){y(t,e,o)},p(t,o){o[0]&138412032&&a!==(a=t[22](t[50]))&&u(e,"x",a),o[0]&56&&i!==(i=t[4]==="bottom"?0:t[3]+t[5])&&u(e,"y",i),o[0]&4194304&&l!==(l=Math.max(0,t[22].bandwidth()-1))&&u(e,"width",l),o[0]&4&&u(e,"height",t[2]),o[0]&134217729&&r!==(r=t[0](t[50]))&&u(e,"fill",r)},d(t){t&&m(e)}}}function we(n){let e,a,i,l;return{c(){e=b("rect"),this.h()},l(r){e=k(r,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),g(e).forEach(m),this.h()},h(){u(e,"x",a=n[22](n[46]-1)),u(e,"y","0"),u(e,"width",i=n[22](n[46])-n[22](n[46]-1)),u(e,"height",n[2]),u(e,"fill",l=n[44])},m(r,t){y(r,e,t)},p(r,t){t[0]&4194304&&a!==(a=r[22](r[46]-1))&&u(e,"x",a),t[0]&4194304&&i!==(i=r[22](r[46])-r[22](r[46]-1))&&u(e,"width",i),t[0]&4&&u(e,"height",r[2]),t[0]&16777216&&l!==(l=r[44])&&u(e,"fill",l)},d(r){r&&m(e)}}}function ve(n){let e,a,i;return{c(){e=b("stop"),this.h()},l(l){e=k(l,"stop",{offset:!0,"stop-color":!0}),g(e).forEach(m),this.h()},h(){u(e,"offset",a=100*(n[46]/(n[27].length-1))+"%"),u(e,"stop-color",i=n[0](n[47]))},m(l,r){y(l,e,r)},p(l,r){r[0]&134217728&&a!==(a=100*(l[46]/(l[27].length-1))+"%")&&u(e,"offset",a),r[0]&134217729&&i!==(i=l[0](l[47]))&&u(e,"stop-color",i)},d(l){l&&m(e)}}}function ze(n){let e,a,i;return{c(){e=b("stop"),this.h()},l(l){e=k(l,"stop",{offset:!0,"stop-color":!0}),g(e).forEach(m),this.h()},h(){u(e,"offset",a=100/(n[24].length-1)*n[46]+"%"),u(e,"stop-color",i=n[44])},m(l,r){y(l,e,r)},p(l,r){r[0]&16777216&&a!==(a=100/(l[24].length-1)*l[46]+"%")&&u(e,"offset",a),r[0]&16777216&&i!==(i=l[44])&&u(e,"stop-color",i)},d(l){l&&m(e)}}}function Se(n){let e,a;return{c(){e=b("rect"),this.h()},l(i){e=k(i,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),g(e).forEach(m),this.h()},h(){u(e,"x",a=n[23]+n[8].left+n[19]),u(e,"y","0"),u(e,"width",n[18]),u(e,"height",n[2]),u(e,"fill",n[16])},m(i,l){y(i,e,l)},p(i,l){l[0]&8913152&&a!==(a=i[23]+i[8].left+i[19])&&u(e,"x",a),l[0]&262144&&u(e,"width",i[18]),l[0]&4&&u(e,"height",i[2]),l[0]&65536&&u(e,"fill",i[16])},d(i){i&&m(e)}}}function Le(n){let e,a,i=A(n[25]),l=[];for(let t=0;t<i.length;t+=1)l[t]=Ve(ce(n,i,t));let r=n[16]&&Ne(n);return{c(){e=b("g");for(let t=0;t<l.length;t+=1)l[t].c();a=L(),r&&r.c(),this.h()},l(t){e=k(t,"g",{class:!0});var o=g(e);for(let f=0;f<l.length;f+=1)l[f].l(o);a=L(),r&&r.l(o),o.forEach(m),this.h()},h(){u(e,"class","legend-ticks")},m(t,o){y(t,e,o);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(e,null);z(e,a),r&&r.m(e,null)},p(t,o){if(o[0]&778043644){i=A(t[25]);let f;for(f=0;f<i.length;f+=1){const s=ce(t,i,f);l[f]?l[f].p(s,o):(l[f]=Ve(s),l[f].c(),l[f].m(e,a))}for(;f<l.length;f+=1)l[f].d(1);l.length=i.length}t[16]?r?r.p(t,o):(r=Ne(t),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(t){t&&m(e),C(l,t),r&&r.d()}}}function Ae(n){let e,a,i,l,r;return{c(){e=b("line"),this.h()},l(t){e=k(t,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0}),g(e).forEach(m),this.h()},h(){u(e,"x1",a=n[40]),u(e,"x2",i=n[40]),u(e,"y1",l=n[4]==="bottom"?0:n[2]+n[5]+n[3]),u(e,"y2",r=n[4]==="bottom"?n[2]+n[5]:n[3]),u(e,"stroke",n[7]),u(e,"stroke-width",n[6])},m(t,o){y(t,e,o)},p(t,o){o[0]&39845888&&a!==(a=t[40])&&u(e,"x1",a),o[0]&39845888&&i!==(i=t[40])&&u(e,"x2",i),o[0]&60&&l!==(l=t[4]==="bottom"?0:t[2]+t[5]+t[3])&&u(e,"y1",l),o[0]&60&&r!==(r=t[4]==="bottom"?t[2]+t[5]:t[3])&&u(e,"y2",r),o[0]&128&&u(e,"stroke",t[7]),o[0]&64&&u(e,"stroke-width",t[6])},d(t){t&&m(e)}}}function Ve(n){let e,a=n[26](n[39])+"",i,l,r,t,o,f,s=n[21]!=="ordinal"&&n[6]&&Ae(n);return{c(){s&&s.c(),e=b("text"),i=j(a),this.h()},l(h){s&&s.l(h),e=k(h,"text",{fill:!0,"alignment-baseline":!0,y:!0,x:!0,"font-size":!0,"text-anchor":!0});var _=g(e);i=P(_,a),_.forEach(m),this.h()},h(){u(e,"fill","black"),u(e,"alignment-baseline",l=n[4]==="top"?"hanging":"baseline"),u(e,"y",r=n[41]),u(e,"x",t=n[40]),u(e,"font-size",o=n[3]+"px"),u(e,"text-anchor",f=n[29](n[39],n[27]))},m(h,_){s&&s.m(h,_),y(h,e,_),z(e,i)},p(h,_){h[21]!=="ordinal"&&h[6]?s?s.p(h,_):(s=Ae(h),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),_[0]&100663296&&a!==(a=h[26](h[39])+"")&&T(i,a),_[0]&16&&l!==(l=h[4]==="top"?"hanging":"baseline")&&u(e,"alignment-baseline",l),_[0]&60&&r!==(r=h[41])&&u(e,"y",r),_[0]&39845888&&t!==(t=h[40])&&u(e,"x",t),_[0]&8&&o!==(o=h[3]+"px")&&u(e,"font-size",o),_[0]&167772160&&f!==(f=h[29](h[39],h[27]))&&u(e,"text-anchor",f)},d(h){h&&m(e),s&&s.d(h)}}}function Ne(n){let e,a,i,l,r,t;return{c(){e=b("text"),a=j(n[17]),this.h()},l(o){e=k(o,"text",{fill:!0,"alignment-baseline":!0,y:!0,x:!0,"font-size":!0,"text-anchor":!0});var f=g(e);a=P(f,n[17]),f.forEach(m),this.h()},h(){u(e,"fill","black"),u(e,"alignment-baseline",i=n[4]==="top"?"hanging":"baseline"),u(e,"y",l=n[4]==="top"?0:n[2]+n[5]+n[3]),u(e,"x",r=n[23]+n[8].left+n[19]+n[18]/2),u(e,"font-size",t=n[3]+"px"),u(e,"text-anchor","middle")},m(o,f){y(o,e,f),z(e,a)},p(o,f){f[0]&131072&&T(a,o[17]),f[0]&16&&i!==(i=o[4]==="top"?"hanging":"baseline")&&u(e,"alignment-baseline",i),f[0]&60&&l!==(l=o[4]==="top"?0:o[2]+o[5]+o[3])&&u(e,"y",l),f[0]&9175296&&r!==(r=o[23]+o[8].left+o[19]+o[18]/2)&&u(e,"x",r),f[0]&8&&t!==(t=o[3]+"px")&&u(e,"font-size",t)},d(o){o&&m(e)}}}function it(n){let e,a,i,l=`${n[9]}px`,r=n[1]&&pe(n),t=n[20]&&ye(n);return{c(){e=M("div"),r&&r.c(),a=B(),t&&t.c(),this.h()},l(o){e=O(o,"DIV",{class:!0});var f=g(e);r&&r.l(f),a=K(f),t&&t.l(f),f.forEach(m),this.h()},h(){u(e,"class","legend-wrapper"),Re(()=>n[35].call(e)),S(e,"max-width",l),S(e,"padding-bottom","10px")},m(o,f){y(o,e,f),r&&r.m(e,null),z(e,a),t&&t.m(e,null),i=He(e,n[35].bind(e))},p(o,f){o[1]?r?r.p(o,f):(r=pe(o),r.c(),r.m(e,a)):r&&(r.d(1),r=null),o[20]?t?t.p(o,f):(t=ye(o),t.c(),t.m(e,null)):t&&(t.d(1),t=null),f[0]&512&&l!==(l=`${o[9]}px`)&&S(e,"max-width",l)},i:re,o:re,d(o){o&&m(e),r&&r.d(),t&&t.d(),i()}}}function nt(n){return n.interpolate?"continuous":n.interpolator?"sequential":n.invertExtent?"threshold":"ordinal"}function lt(){return Date.now().toString(36)+Math.random().toString(36).substring(2)}function at(n,e,a){let i,l,r,t,o,f,s,{scale:h}=e,{title:_=void 0}=e,{height:d=10}=e,{ticks:p=5}=e,{tickValues:w=void 0}=e,{tickSize:F=14}=e,{tickPosition:D="bottom"}=e,{tickMargin:q=5}=e,{tickTextAnchor:G="auto"}=e,{tickFormat:R=void 0}=e,{tickLineWidth:U=1}=e,{tickLineColor:Y=Je.black}=e,{margin:E={top:0,right:0,bottom:5,left:0}}=e,{maxWidth:Z=void 0}=e,{swatch:x=!1}=e,{swatchLayout:$="row"}=e,{swatchAlign:ee="flex-start"}=e,{swatchSize:te=16}=e,{swatchCircle:ie=!1}=e,{swatchSpacing:ne=void 0}=e,{naFill:H=void 0}=e,{naLabel:le="NA"}=e,{naSize:J=16}=e,{naSpacing:X=16}=e,I,Ce=lt(),W;function Fe(c,v){if(v){const V=c===void 0?N=>N:typeof c=="string"?se(c):c;return N=>V(v[N],N)}return typeof c=="string"?se(c):c&&!v?c:V=>V}function De(c,v,V){if(v==="continuous"){const N=Math.min(c.domain().length,c.range().length);return c.copy().rangeRound(Ue(Xe(0,V),N))}else return v==="sequential"?Object.assign(c.copy().interpolator(Be(0,V)),{range(){return[0,V]}}):v==="threshold"?Ke().domain([-1,l.length-1]).rangeRound([0,V]):Oe().domain(c.domain()).rangeRound([0,V])}function Ie(c,v,V){if(w)return w;let N=v.domain();if(c==="sequential"&&!v.ticks){const ae=Math.round(p+1);return Q(ae).map(Ge=>Qe(N,Ge/(ae-1)))}else{if(c==="threshold")return Q(V.length);if(c==="ordinal")return N}return v.ticks(p)}function We(c,v){return G!=="auto"?G:t==="ordinal"||W?"middle":c===v[0]?"start":c===v[v.length-1]?"end":"middle"}function qe(){I=this.clientWidth,a(20,I)}return n.$$set=c=>{"scale"in c&&a(0,h=c.scale),"title"in c&&a(1,_=c.title),"height"in c&&a(2,d=c.height),"ticks"in c&&a(30,p=c.ticks),"tickValues"in c&&a(31,w=c.tickValues),"tickSize"in c&&a(3,F=c.tickSize),"tickPosition"in c&&a(4,D=c.tickPosition),"tickMargin"in c&&a(5,q=c.tickMargin),"tickTextAnchor"in c&&a(32,G=c.tickTextAnchor),"tickFormat"in c&&a(33,R=c.tickFormat),"tickLineWidth"in c&&a(6,U=c.tickLineWidth),"tickLineColor"in c&&a(7,Y=c.tickLineColor),"margin"in c&&a(8,E=c.margin),"maxWidth"in c&&a(9,Z=c.maxWidth),"swatch"in c&&a(10,x=c.swatch),"swatchLayout"in c&&a(11,$=c.swatchLayout),"swatchAlign"in c&&a(12,ee=c.swatchAlign),"swatchSize"in c&&a(13,te=c.swatchSize),"swatchCircle"in c&&a(14,ie=c.swatchCircle),"swatchSpacing"in c&&a(15,ne=c.swatchSpacing),"naFill"in c&&a(16,H=c.naFill),"naLabel"in c&&a(17,le=c.naLabel),"naSize"in c&&a(18,J=c.naSize),"naSpacing"in c&&a(19,X=c.naSpacing)},n.$$.update=()=>{n.$$.dirty[0]&1&&a(27,i=h.domain()),n.$$.dirty[0]&1&&a(24,l=h.range()),n.$$.dirty[0]&1900800&&a(23,r=H?I-E.left-E.right-J-X:I-E.left-E.right),n.$$.dirty[0]&1&&a(21,t=nt(h)),n.$$.dirty[0]&10485761&&a(22,o=De(h,t,r)),n.$$.dirty[0]&2097153&&t==="threshold"&&a(34,W=h.thresholds?h.thresholds():h.quantiles?h.quantiles():h.domain()),n.$$.dirty[1]&12&&a(26,f=Fe(R,W)),n.$$.dirty[0]&6291456|n.$$.dirty[1]&8&&a(25,s=Ie(t,o,W))},[h,_,d,F,D,q,U,Y,E,Z,x,$,ee,te,ie,ne,H,le,J,X,I,t,o,r,l,s,f,i,Ce,We,p,w,G,R,W,qe]}class rt extends je{constructor(e){super(),Pe(this,e,at,it,Te,{scale:0,title:1,height:2,ticks:30,tickValues:31,tickSize:3,tickPosition:4,tickMargin:5,tickTextAnchor:32,tickFormat:33,tickLineWidth:6,tickLineColor:7,margin:8,maxWidth:9,swatch:10,swatchLayout:11,swatchAlign:12,swatchSize:13,swatchCircle:14,swatchSpacing:15,naFill:16,naLabel:17,naSize:18,naSpacing:19},null,[-1,-1])}}rt.__docgen={version:3,name:"ColorLegend.svelte",data:[{keywords:[{name:"type",description:"{ Function } [scale]"}],visibility:"public",description:"D3 scale to base legend on",name:"scale",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"Function",type:"Function"}},{keywords:[{name:"type",description:"{ string } [title = undefined]"}],visibility:"public",description:"Optional title for the legend",name:"title",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"}},{keywords:[{name:"type",description:"{ number } [height = 20]"}],visibility:"public",description:"Height of the visual element of the legend",name:"height",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:10},{keywords:[{name:"type",description:"{ number } [ticks = 3]"}],visibility:"public",description:"Optional number of ticks to pass to d3's generator",name:"ticks",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:5},{keywords:[{name:"type",description:"{Array<any>} [tickValues = undefined]"}],visibility:"public",description:"Optional array of exact values to use as ticks",name:"tickValues",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"Array<any>",type:"Array<any>"}},{keywords:[{name:"type",description:"{ number } [ticksSize = 14]"}],visibility:"public",description:"Optional size for tick labels",name:"tickSize",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:14},{keywords:[{name:"type",description:'{ "top" | "bottom" } [ticksPosition = "bottom"]'}],visibility:"public",description:"Should ticks be positioned above or below the color bars?",name:"tickPosition",kind:"let",static:!1,readonly:!1,type:{kind:"union",text:'"top" | "bottom"',type:[{kind:"type",text:'"top"',type:'"top"'},{kind:"type",text:'"bottom"',type:'"bottom"'}]},defaultValue:"bottom"},{keywords:[{name:"type",description:"{ number } [ticksMargin = 6]"}],visibility:"public",description:"Optional size of space between color and tick labels",name:"tickMargin",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:5},{keywords:[{name:"type",description:'{ "auto" | "middle" | "start" | "end" } [tickTextAnchor = "auto"]'}],visibility:"public",description:"Optionally set the `text-anchor` of all tick marks in the legend. If set to auto, tick marks use `text-anchor: middle` unless they represent the minumum or maximum value of the scale. Min value is set to `text-anchor: start` and max value is set to `text-anchor: end`.",name:"tickTextAnchor",kind:"let",static:!1,readonly:!1,type:{kind:"union",text:'"auto" | "middle" | "start" | "end"',type:[{kind:"type",text:'"auto"',type:'"auto"'},{kind:"type",text:'"middle"',type:'"middle"'},{kind:"type",text:'"start"',type:'"start"'},{kind:"type",text:'"end"',type:'"end"'}]},defaultValue:"auto"},{keywords:[{name:"type",description:"{ string | (a: Object) => string } [tickFormat = undefined]"}],visibility:"public",description:"Optional tick formatting string or function",name:"tickFormat",kind:"let",static:!1,readonly:!1,type:{kind:"union",text:"string | (a: Object) => string",type:[{kind:"type",text:"string",type:"string"},{kind:"type",text:"(a: Object) => string",type:"(a: Object) => string"}]}},{keywords:[{name:"type",description:"{ number } [tickLineWidth = 1]"}],visibility:"public",description:"Width of tick line. Set to 0 if no line is needed.",name:"tickLineWidth",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:1},{keywords:[{name:"type",description:"{ string } [tickLineColor = urbanColors.black]"}],visibility:"public",description:"Color of tick line.",name:"tickLineColor",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"}},{keywords:[{name:"type",description:"{{top: Number, right: Number, bottom: Number, left: Number}}"}],visibility:"public",description:"Optional margin object that defines space around legend within the SVG element",name:"margin",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"{top: Number, right: Number, bottom: Number, left: Number}",type:"{top: Number, right: Number, bottom: Number, left: Number}"}},{keywords:[{name:"type",description:"{ number } [ maxWidth = undefined ]"}],visibility:"public",description:"Optional max width for the legend. Legend will resize to fill the space of the container by default.",name:"maxWidth",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"}},{keywords:[{name:"type",description:"{ boolean } [swatch = false]"}],visibility:"public",description:"Display ordinal scale as swatches rather than bars. Does nothing for other scale types.",name:"swatch",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[{name:"type",description:'{ "row" | "column" } [swatchLayout = "row"]'}],visibility:"public",description:"Display swatches in a row or column layout.",name:"swatchLayout",kind:"let",static:!1,readonly:!1,type:{kind:"union",text:'"row" | "column"',type:[{kind:"type",text:'"row"',type:'"row"'},{kind:"type",text:'"column"',type:'"column"'}]},defaultValue:"row"},{keywords:[{name:"type",description:'{ "flex-start" | "center" | "flex-end" } [swatchAlign = "flex-start"]'}],visibility:"public",description:"A flexbox alignment value for the swatch layout.",name:"swatchAlign",kind:"let",static:!1,readonly:!1,type:{kind:"union",text:'"flex-start" | "center" | "flex-end"',type:[{kind:"type",text:'"flex-start"',type:'"flex-start"'},{kind:"type",text:'"center"',type:'"center"'},{kind:"type",text:'"flex-end"',type:'"flex-end"'}]},defaultValue:"flex-start"},{keywords:[{name:"type",description:"{ number } [swatchSize = 16]"}],visibility:"public",description:"Size of swatch in pixels",name:"swatchSize",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:16},{keywords:[{name:"type",description:"{ boolean } [swatchCircle = false]"}],visibility:"public",description:"Display swatches as circles rather than squares.",name:"swatchCircle",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{keywords:[{name:"type",description:"{ string } [swatchSpacing = undefined]"}],visibility:"public",description:"Optional override space between swatch items. Should be a css compatable string.",name:"swatchSpacing",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"}},{keywords:[{name:"type",description:"{ string } [naFill = undefined]"}],visibility:"public",description:"Optional color to indicate for NA values",name:"naFill",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"}},{keywords:[{name:"type",description:'{ string } [naLabel = "NA"]'}],visibility:"public",description:"Optional string label for NA values",name:"naLabel",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:"NA"},{keywords:[{name:"type",description:'{ string } [naLabel = "NA"]'}],visibility:"public",description:"Optional size in pixels for naLabel",name:"naSize",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:16},{keywords:[{name:"type",description:'{ string } [naLabel = "NA"]'}],visibility:"public",description:"Optional amount of spacing in pixels for NA swatch and label",name:"naSpacing",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:16}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};export{rt as C,Me as o};
