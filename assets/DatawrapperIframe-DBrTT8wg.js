import{p as L,g as f,m,f as _,b as V,d as q,aw as C,i as D,x as E}from"./iframe-BjxEKEQH.js";import{a as j}from"./attributes-UJeNkN1P.js";typeof window<"u"&&typeof window.datawrapper>"u"&&(window.datawrapper={});let r={};typeof window<"u"&&(r=window.datawrapper);let n={};typeof window<"u"&&window.addEventListener("message",z,!1);function z(t){t.data&&t.data.source==="datawrapper"&&t.data.chartId&&n[t.data.type]&&n[t.data.type].forEach(function(e){typeof e=="function"&&e(t.data)})}r.on=function(t,e){if(typeof t!="string")throw new Error("event name must be a string");if(typeof e!="function")throw new Error("callback must be a function");return n[t]||(n[t]=[]),n[t].push(e),r};r.one=function(t,e){r.on(t,function d(){e.apply(null,arguments),r.off(t,d)})};r.off=function(t,e){if(n[t]){e||(n[t].length=0);var d=n[t].indexOf(e);return d>-1&&n[t].splice(d,1),r}};const h=["bar.click","bar.mouseenter","bar.mouseleave","line.click","line.mouseenter","line.mouseleave","area.click","area.mouseenter","area.mouseleave","tooltip","highlight.set","highlight.clear","column:change","region.click","region.mouseenter","region.mouseleave","symbol.click","symbol.mouseenter","symbol.mouseleave","hash.changed","download","social-sharing.click","embed.modal.open","embed.modal.close","embed.copy","source.click","vis.rendered"];var O=_("<iframe></iframe>");function P(t,e){L(e,!0);let d=f(e,"scrolling",3,"no"),b=f(e,"frameborder",3,"0"),g=f(e,"height",3,"500"),k=f(e,"style",3,"width: 0; min-width: 100% !important; border: none;"),x=f(e,"onstartrender",3,()=>{}),p=C(e,["$$slots","$$events","$$legacy","title","ariaLabel","datawrapperId","scrolling","frameborder","height","style","onstartrender"]);const v=new Set(h.map(a=>`on${a.replace(/\./g,"")}`)),I=E(()=>{const a={};for(const[i,o]of Object.entries(p))v.has(i)||(a[i]=o);return a});function y(a,i){return typeof CustomEvent=="function"?new CustomEvent(a,{detail:i}):{type:a,detail:i}}function u(a){if(!(a!=null&&a.data)||typeof a.data!="object"||a.data["datawrapper-height"]===void 0)return;const i=a.data["datawrapper-height"],o=document.querySelectorAll("iframe");for(const c in i)for(let l=0;l<o.length;l+=1){const s=o[l];s.contentWindow===a.source&&(s.style.height=`${i[c]}px`)}}m(()=>{e.datawrapperId,x()(y("startrender"))}),m(()=>{window.addEventListener("message",u);const a=h.map(i=>{const o=i.replace(/\./g,""),c=l=>{const s=p[`on${o}`];typeof s=="function"&&s(y(o,l))};return r.on(i,c),()=>r.off(i,c)});return()=>{window.removeEventListener("message",u),a.forEach(i=>i())}});var w=O();j(w,()=>({title:e.title,"aria-label":e.ariaLabel,id:`datawrapper-chart-${e.datawrapperId??""}`,src:`https://datawrapper.dwcdn.net/${e.datawrapperId??""}`,scrolling:d(),frameborder:b(),style:k(),height:g(),"data-external":"1",...D(I)})),V(t,w),q()}P.__docgen={data:[{name:"title",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1},{name:"ariaLabel",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1},{name:"datawrapperId",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1},{name:"scrolling",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"no"'},{name:"frameborder",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"0"'},{name:"height",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"500"'},{name:"style",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"width: 0; min-width: 100% !important; border: none;"'},{name:"onstartrender",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Function"},static:!1,readonly:!1,defaultValue:"function"}],name:"DatawrapperIframe.svelte"};export{P as D};
