import{p as re,g as n,m as le,h as H,t as R,Y as se,b as h,d as de,R as ce,Q as G,a as j,y as ue,a5 as ye,i as a,x as v}from"./iframe-BjxEKEQH.js";import{e as pe,i as fe}from"./each-DC_8OmU5.js";import{s as l}from"./attributes-UJeNkN1P.js";import{s as ke}from"./class-B9SFUanI.js";import{s as A}from"./style-CNURdi_Z.js";import{b as me}from"./this-DGLcOT4Q.js";import{u as w}from"./urbanColors-BkxYcPwH.js";import{u as he,g as ve,r as x,a as be,b as ge,d as we}from"./lib-CgGEPiW4.js";var xe=(y,e,c)=>e(y,a(c)),_e=(y,e,c)=>e(y,a(c)),Se=H("<circle></circle>"),Fe=H('<g class="point-layer map-layer svelte-149ch8y" role="presentation"></g>');function Pe(y,e){re(e,!0);let c=n(e,"features",3,void 0),N=n(e,"fill",19,()=>w.white),_=n(e,"hoverFill",3,void 0),M=n(e,"naFill",19,()=>w.gray_shade_light),q=n(e,"stroke",19,()=>w.black),D=n(e,"hoverStroke",3,void 0),S=n(e,"strokeWidth",3,0),J=n(e,"hoverStrokeWidth",3,void 0),b=n(e,"r",3,4),Q=n(e,"opacity",3,1),Y=n(e,"ariaRole",3,void 0),f=n(e,"ariaLabel",3,void 0),F=n(e,"highlightFeature",3,void 0),z=n(e,"pointerEvents",3,!0),P=n(e,"tooltip",3,!1),B=n(e,"onclick",3,void 0),I=n(e,"onmousemove",3,void 0),K=n(e,"onmouseout",3,void 0),O=n(e,"children",3,void 0);const r=he(),T=v(()=>we(r.projection));let p;function U(t){return typeof f()=="string"||typeof f()>"u"?f():f()(t)}function X(t){return typeof b()=="number"?b():b()(t)}function g(){const t=p==null?void 0:p.querySelector(".point-feature.highlight");t&&x(t)}function Z(t,o){var s;x(t.target),g(),r.onPointerMove(t,o.properties,{tooltip:P()}),(s=I())==null||s(new CustomEvent("mousemove",{detail:{e:t,props:o.properties}}))}function $(t,o){var s;x(t.target),g(),r.onPointerDown(t,o.properties,{tooltip:P()}),(s=B())==null||s(new CustomEvent("click",{detail:{e:t,props:o.properties}}))}function E(t){var o;r.onPointerOut(t),(o=K())==null||o(new CustomEvent("mouseout",{detail:{e:t}}))}le(()=>{r.stickyHighlight,F(),c(),r.features,g()});var u=Fe();u.__pointerout=E;let V;pe(u,21,()=>c()||r.features,fe,(t,o)=>{var s=G();const k=v(()=>{const[d,i]=a(T).centroid(a(o));return{x:d,y:i}}),C=v(()=>ge(a(o),q())),W=v(()=>be(a(o),N(),M()));var ee=j(s);{var te=d=>{var i=G(),m=j(i);ye(m,O,()=>a(o),()=>a(k).x,()=>a(k).y),h(d,i)},ie=d=>{var i=Se();let m;i.__pointermove=[xe,Z,o],i.__pointerdown=[_e,$,o];let L;R((ne,oe,ae)=>{m=ke(i,0,"point-feature svelte-149ch8y",null,m,ne),l(i,"role",Y()),l(i,"label",oe),l(i,"cx",a(k).x),l(i,"cy",a(k).y),l(i,"opacity",Q()),l(i,"fill",a(W)),l(i,"r",ae),l(i,"stroke-width",S()/r.transform.k),l(i,"stroke",a(C)),L=A(i,"",L,{"--hover-fill":_()||a(W),"--hover-stroke":D()||a(C)})},[()=>({highlight:ve(a(o),r.stickyHighlight,F()),"hover-fill":typeof _()<"u"}),()=>U(a(o)),()=>X(a(o))/r.transform.k]),h(d,i)};ue(ee,d=>{O()?d(te):d(ie,!1)})}h(t,s)}),me(u,t=>p=t,()=>p),R(()=>V=A(u,"",V,{"pointer-events":z()?"auto":"none","--hover-stroke-width":`${(J()||S())/r.transform.k}px`})),se("blur",u,E),h(y,u),de()}ce(["pointerout","pointermove","pointerdown"]);Pe.__docgen={data:[{name:"features",visibility:"public",description:"A list of GeoJSON features rendered by this layer.",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"GeoPermissibleObjects[]"},static:!1,readonly:!1},{name:"fill",visibility:"public",description:"A color string or function applied to fills.",keywords:[],kind:"let",type:{kind:"function",text:"(feature: any) => string"},static:!1,readonly:!1,defaultValue:"..."},{name:"hoverFill",visibility:"public",description:"Optional fill override when hovered.",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"naFill",visibility:"public",description:"Color for NA or undefined values.",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:"..."},{name:"stroke",visibility:"public",description:"Stroke color or accessor.",keywords:[],kind:"let",type:{kind:"function",text:"(feature: any) => string"},static:!1,readonly:!1,defaultValue:"..."},{name:"hoverStroke",visibility:"public",description:"Optional stroke override when hovered.",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"strokeWidth",visibility:"public",description:"Stroke width of each feature.",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1,defaultValue:"0"},{name:"hoverStrokeWidth",visibility:"public",description:"Stroke width when hovered.",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1},{name:"r",visibility:"public",description:"Function or static radius for the circle fallback.",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"type",type:"number",text:"number"},{kind:"function",text:"(feature: any) => number"}],text:"number | (feature: any) => number"},static:!1,readonly:!1,defaultValue:"4"},{name:"opacity",visibility:"public",description:"Opacity of point circles.",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1,defaultValue:"1"},{name:"ariaRole",visibility:"public",description:"Optional aria role string applied to each feature.",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"ariaLabel",visibility:"public",description:"Optional aria label string or accessor.",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"type",type:"string",text:"string"},{kind:"function",text:"(feature: any) => string"}],text:"string | (feature: any) => string"},static:!1,readonly:!1},{name:"highlightFeature",visibility:"public",description:"Object compared to feature properties for highlight.",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Record<string, any>"},static:!1,readonly:!1},{name:"pointerEvents",visibility:"public",description:"Whether the layer responds to pointer events.",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"true"},{name:"tooltip",visibility:"public",description:"Whether the layer should populate the tooltip slot.",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"onclick",visibility:"public",description:"Optional click callback.",keywords:[],kind:"let",type:{kind:"function",text:"(event: CustomEvent<{ e: PointerEvent; props: any; }>) => void"},static:!1,readonly:!1},{name:"onmousemove",visibility:"public",description:"Optional mousemove callback.",keywords:[],kind:"let",type:{kind:"function",text:"(event: CustomEvent<{ e: PointerEvent; props: any; }>) => void"},static:!1,readonly:!1},{name:"onmouseout",visibility:"public",description:"Optional mouseout callback.",keywords:[],kind:"let",type:{kind:"function",text:"(event: CustomEvent<{ e: PointerEvent; }>) => void"},static:!1,readonly:!1},{name:"children",visibility:"public",description:"Optional snippet used to render each point.",keywords:[],kind:"let",type:{kind:"function",text:"Snippet<[feature: any, x: number, y: number]>"},static:!1,readonly:!1}],name:"SVGPointLayer.svelte"};export{Pe as S};
