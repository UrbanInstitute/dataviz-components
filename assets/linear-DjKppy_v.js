import{c as mn,i as T,a as Y,b as Z,d as dn}from"./string-3NetaFjT.js";function S(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function gn(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function rn(n){let t,e,r;n.length!==2?(t=S,e=(u,c)=>S(n(u),c),r=(u,c)=>n(u)-c):(t=n===S||n===gn?n:Mn,e=n,r=n);function i(u,c,f=0,m=u.length){if(f<m){if(t(c,c)!==0)return m;do{const h=f+m>>>1;e(u[h],c)<0?f=h+1:m=h}while(f<m)}return f}function a(u,c,f=0,m=u.length){if(f<m){if(t(c,c)!==0)return m;do{const h=f+m>>>1;e(u[h],c)<=0?f=h+1:m=h}while(f<m)}return f}function o(u,c,f=0,m=u.length){const h=i(u,c,f,m-1);return h>f&&r(u[h-1],c)>-r(u[h],c)?h-1:h}return{left:i,center:o,right:a}}function Mn(){return 0}function en(n){return n===null?NaN:+n}function*yn(n,t){for(let e of n)e!=null&&(e=+e)>=e&&(yield e)}const wn=rn(S),pn=wn.right;rn(en).center;function Nn(n=S){if(n===S)return on;if(typeof n!="function")throw new TypeError("compare is not a function");return(t,e)=>{const r=n(t,e);return r||r===0?r:(n(e,e)===0)-(n(t,t)===0)}}function on(n,t){return(n==null||!(n>=n))-(t==null||!(t>=t))||(n<t?-1:n>t?1:0)}const xn=Math.sqrt(50),kn=Math.sqrt(10),An=Math.sqrt(2);function $(n,t,e){const r=(t-n)/Math.max(0,e),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=xn?10:a>=kn?5:a>=An?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/o,u=Math.round(n*f),c=Math.round(t*f),u/f<n&&++u,c/f>t&&--c,f=-f):(f=Math.pow(10,i)*o,u=Math.round(n/f),c=Math.round(t/f),u*f<n&&++u,c*f>t&&--c),c<u&&.5<=e&&e<2?$(n,t,e*2):[u,c,f]}function Sn(n,t,e){if(t=+t,n=+n,e=+e,!(e>0))return[];if(n===t)return[n];const r=t<n,[i,a,o]=r?$(t,n,e):$(n,t,e);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(r)if(o<0)for(let f=0;f<u;++f)c[f]=(a-f)/-o;else for(let f=0;f<u;++f)c[f]=(a-f)*o;else if(o<0)for(let f=0;f<u;++f)c[f]=(i+f)/-o;else for(let f=0;f<u;++f)c[f]=(i+f)*o;return c}function L(n,t,e){return t=+t,n=+n,e=+e,$(n,t,e)[2]}function bn(n,t,e){t=+t,n=+n,e=+e;const r=t<n,i=r?L(t,n,e):L(n,t,e);return(r?-1:1)*(i<0?1/-i:i)}function H(n,t){let e;for(const r of n)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);return e}function J(n,t){let e;for(const r of n)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);return e}function un(n,t,e=0,r=1/0,i){if(t=Math.floor(t),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(n.length-1,r)),!(e<=t&&t<=r))return n;for(i=i===void 0?on:Nn(i);r>e;){if(r-e>600){const c=r-e+1,f=t-e+1,m=Math.log(c),h=.5*Math.exp(2*m/3),s=.5*Math.sqrt(m*h*(c-h)/c)*(f-c/2<0?-1:1),y=Math.max(e,Math.floor(t-f*h/c+s)),d=Math.min(r,Math.floor(t+(c-f)*h/c+s));un(n,t,y,d,i)}const a=n[t];let o=e,u=r;for(z(n,e,t),i(n[r],a)>0&&z(n,e,r);o<u;){for(z(n,o,u),++o,--u;i(n[o],a)<0;)++o;for(;i(n[u],a)>0;)--u}i(n[e],a)===0?z(n,e,u):(++u,z(n,u,r)),u<=t&&(e=u+1),t<=u&&(r=u-1)}return n}function z(n,t,e){const r=n[t];n[t]=n[e],n[e]=r}function rt(n,t,e){if(n=Float64Array.from(yn(n)),!(!(r=n.length)||isNaN(t=+t))){if(t<=0||r<2)return J(n);if(t>=1)return H(n);var r,i=(r-1)*t,a=Math.floor(i),o=H(un(n,a).subarray(0,a+1)),u=J(n.subarray(a+1));return o+(u-o)*(i-a)}}function et(n,t,e=en){if(!(!(r=n.length)||isNaN(t=+t))){if(t<=0||r<2)return+e(n[0],0,n);if(t>=1)return+e(n[r-1],r-1,n);var r,i=(r-1)*t,a=Math.floor(i),o=+e(n[a],a,n),u=+e(n[a+1],a+1,n);return o+(u-o)*(i-a)}}function vn(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,r=t.slice(),i;return function(a){for(i=0;i<e;++i)r[i]=n[i]*(1-a)+t[i]*a;return r}}function jn(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function zn(n,t){var e=t?t.length:0,r=n?Math.min(e,n.length):0,i=new Array(r),a=new Array(e),o;for(o=0;o<r;++o)i[o]=B(n[o],t[o]);for(;o<e;++o)a[o]=t[o];return function(u){for(o=0;o<r;++o)a[o]=i[o](u);return a}}function Pn(n,t){var e=new Date;return n=+n,t=+t,function(r){return e.setTime(n*(1-r)+t*r),e}}function qn(n,t){var e={},r={},i;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in n?e[i]=B(n[i],t[i]):r[i]=t[i];return function(a){for(i in e)r[i]=e[i](a);return r}}function B(n,t){var e=typeof t,r;return t==null||e==="boolean"?mn(t):(e==="number"?T:e==="string"?(r=Y(t))?(t=r,Z):dn:t instanceof Y?Z:t instanceof Date?Pn:jn(t)?vn:Array.isArray(t)?zn:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?qn:T)(n,t)}function Fn(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}function Rn(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function D(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,r=n.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+n.slice(e+1)]}function b(n){return n=D(Math.abs(n)),n?n[1]:NaN}function $n(n,t){return function(e,r){for(var i=e.length,a=[],o=0,u=n[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),a.push(e.substring(i-=u,i+u)),!((c+=u+1)>r));)u=n[o=(o+1)%n.length];return a.reverse().join(t)}}function Dn(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var En=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function E(n){if(!(t=En.exec(n)))throw new Error("invalid format: "+n);var t;return new G({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}E.prototype=G.prototype;function G(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}G.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function In(n){n:for(var t=n.length,e=1,r=-1,i;e<t;++e)switch(n[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+n[e])break n;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var fn;function Tn(n,t){var e=D(n,t);if(!e)return n+"";var r=e[0],i=e[1],a=i-(fn=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+D(n,Math.max(0,t+a-1))[0]}function K(n,t){var e=D(n,t);if(!e)return n+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Q={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Rn,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>K(n*100,t),r:K,s:Tn,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function W(n){return n}var _=Array.prototype.map,nn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ln(n){var t=n.grouping===void 0||n.thousands===void 0?W:$n(_.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",a=n.numerals===void 0?W:Dn(_.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",u=n.minus===void 0?"−":n.minus+"",c=n.nan===void 0?"NaN":n.nan+"";function f(h){h=E(h);var s=h.fill,y=h.align,d=h.sign,v=h.symbol,x=h.zero,j=h.width,I=h.comma,p=h.precision,O=h.trim,g=h.type;g==="n"?(I=!0,g="g"):Q[g]||(p===void 0&&(p=12),O=!0,g="g"),(x||s==="0"&&y==="=")&&(x=!0,s="0",y="=");var hn=v==="$"?e:v==="#"&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",sn=v==="$"?r:/[%p]/.test(g)?o:"",V=Q[g],ln=/[defgprs%]/.test(g);p=p===void 0?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p));function X(l){var N=hn,M=sn,k,U,P;if(g==="c")M=V(l)+M,l="";else{l=+l;var q=l<0||1/l<0;if(l=isNaN(l)?c:V(Math.abs(l),p),O&&(l=In(l)),q&&+l==0&&d!=="+"&&(q=!1),N=(q?d==="("?d:u:d==="-"||d==="("?"":d)+N,M=(g==="s"?nn[8+fn/3]:"")+M+(q&&d==="("?")":""),ln){for(k=-1,U=l.length;++k<U;)if(P=l.charCodeAt(k),48>P||P>57){M=(P===46?i+l.slice(k+1):l.slice(k))+M,l=l.slice(0,k);break}}}I&&!x&&(l=t(l,1/0));var F=N.length+l.length+M.length,w=F<j?new Array(j-F+1).join(s):"";switch(I&&x&&(l=t(w+l,w.length?j-M.length:1/0),w=""),y){case"<":l=N+l+M+w;break;case"=":l=N+w+l+M;break;case"^":l=w.slice(0,F=w.length>>1)+N+l+M+w.slice(F);break;default:l=w+N+l+M;break}return a(l)}return X.toString=function(){return h+""},X}function m(h,s){var y=f((h=E(h),h.type="f",h)),d=Math.max(-8,Math.min(8,Math.floor(b(s)/3)))*3,v=Math.pow(10,-d),x=nn[8+d/3];return function(j){return y(v*j)+x}}return{format:f,formatPrefix:m}}var R,an,cn;Cn({thousands:",",grouping:[3],currency:["$",""]});function Cn(n){return R=Ln(n),an=R.format,cn=R.formatPrefix,R}function Bn(n){return Math.max(0,-b(Math.abs(n)))}function Gn(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(b(t)/3)))*3-b(Math.abs(n)))}function On(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,b(t)-b(n))+1}function Vn(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function it(n,t){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}function Xn(n){return function(){return n}}function Un(n){return+n}var tn=[0,1];function A(n){return n}function C(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:Xn(isNaN(t)?NaN:.5)}function Yn(n,t){var e;return n>t&&(e=n,n=t,t=e),function(r){return Math.max(n,Math.min(t,r))}}function Zn(n,t,e){var r=n[0],i=n[1],a=t[0],o=t[1];return i<r?(r=C(i,r),a=e(o,a)):(r=C(r,i),a=e(a,o)),function(u){return a(r(u))}}function Hn(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=C(n[o],n[o+1]),a[o]=e(t[o],t[o+1]);return function(u){var c=pn(n,u,1,r)-1;return a[c](i[c](u))}}function Jn(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Kn(){var n=tn,t=tn,e=B,r,i,a,o=A,u,c,f;function m(){var s=Math.min(n.length,t.length);return o!==A&&(o=Yn(n[0],n[s-1])),u=s>2?Hn:Zn,c=f=null,h}function h(s){return s==null||isNaN(s=+s)?a:(c||(c=u(n.map(r),t,e)))(r(o(s)))}return h.invert=function(s){return o(i((f||(f=u(t,n.map(r),T)))(s)))},h.domain=function(s){return arguments.length?(n=Array.from(s,Un),m()):n.slice()},h.range=function(s){return arguments.length?(t=Array.from(s),m()):t.slice()},h.rangeRound=function(s){return t=Array.from(s),e=Fn,m()},h.clamp=function(s){return arguments.length?(o=s?!0:A,m()):o!==A},h.interpolate=function(s){return arguments.length?(e=s,m()):e},h.unknown=function(s){return arguments.length?(a=s,h):a},function(s,y){return r=s,i=y,m()}}function Qn(){return Kn()(A,A)}function Wn(n,t,e,r){var i=bn(n,t,e),a;switch(r=E(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(t));return r.precision==null&&!isNaN(a=Gn(i,o))&&(r.precision=a),cn(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=On(i,Math.max(Math.abs(n),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Bn(i))&&(r.precision=a-(r.type==="%")*2);break}}return an(r)}function _n(n){var t=n.domain;return n.ticks=function(e){var r=t();return Sn(r[0],r[r.length-1],e??10)},n.tickFormat=function(e,r){var i=t();return Wn(i[0],i[i.length-1],e??10,r)},n.nice=function(e){e==null&&(e=10);var r=t(),i=0,a=r.length-1,o=r[i],u=r[a],c,f,m=10;for(u<o&&(f=o,o=u,u=f,f=i,i=a,a=f);m-- >0;){if(f=L(o,u,e),f===c)return r[i]=o,r[a]=u,t(r);if(f>0)o=Math.floor(o/f)*f,u=Math.ceil(u/f)*f;else if(f<0)o=Math.ceil(o*f)/f,u=Math.floor(u*f)/f;else break;c=f}return n},n}function nt(){var n=Qn();return n.copy=function(){return Jn(n,nt())},Vn.apply(n,arguments),_n(n)}export{S as a,pn as b,B as c,A as d,it as e,Fn as f,nt as g,an as h,Vn as i,rt as j,Jn as k,_n as l,et as q,Kn as t};
