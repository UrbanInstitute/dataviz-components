import{S as z,i as B,s as D,c as $,a as c,m as _,t as g,b as y,d,n as N}from"./index-lamZ5WrB.js";import{s as k,c as V,i as h,d as p,e as C,a as b,b as L,f as A,t as G,g as w,j as Q,k as f,l as U}from"./lifecycle-BNS46k4e.js";import{p as T,T as W,S as j}from"./collect-stories-D1soPxiK.js";import"./BasicDropdown-COTLUXo0.js";import"./Block-CN5G-V4Q.js";import"./DatawrapperIframe-SqihcKC5.js";import"./HeadingAlt-Chpw3Ewv.js";import"./LogoTPCBadge-Bf8WNJ-3.js";import"./LogoUrbanBadge-CR_0A0tk.js";import"./LogoUrbanAnimated-Cj19p1G-.js";import"./LogoUrban-j2Vgbv99.js";import"./LogoUrbanWide-wwBnjK-G.js";import"./Navbar-BhNdvCo7.js";import"./ProjectCredits-BiTuTv1s.js";import"./ReturnTop-DG5W3baA.js";import"./Scorecard-DMm5Em_w.js";import"./SocialShare-JT7OF9Z9.js";import"./TextBlock-DteTF_oO.js";import"./Button-fr5-eJVH.js";import{C as R}from"./ChartBlock-OrJbUbdL.js";import"./Theme-BawX-Xjl.js";import"./Headline-C-n8nf0L.js";import"./Meta-QYbSpCi9.js";import"./Toggle-BDuA58JS.js";import"./Scrolly-DEVw05dX.js";import"./Analytics-Bob8DgDW.js";import"./PymChild-BqKIFHPn.js";import"./LoadingWrapper-BpYNSzAk.js";import"./Tooltip-BmgvXhKp.js";import{S as F}from"./lib-B2s90Oy9.js";import{S as O}from"./SVGPolygonLayer-B403W_Mm.js";import{S as H}from"./SVGPointLayer-CcAcsB54.js";import{S as J}from"./SVGLabelLayer-BE7vhOr1.js";import{C as K}from"./ColorLegend-D-LkahpT.js";import{c as X,u as Y,q as Z}from"./us_cities-sd48-Qo3.js";import{u as x}from"./urbanColors-BkxYcPwH.js";import"./each-CxU73AbR.js";import"./spread-CgU5AtxT.js";import"./globals-D0QH3NT1.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./string-3NetaFjT.js";import"./linear-DjKppy_v.js";function tt(s){let t,i,a,n,r,o;return t=new O({props:{fill:s[3],hoverStroke:x.magenta,hoverStrokeWidth:2,tooltip:!0,stroke:x.gray_shade_dark}}),a=new H({props:{features:s[1].features,pointerEvents:!1,fill:x.gray_shade_lighter}}),r=new J({props:{features:s[1].features,getLabel:nt,fontSize:13,pointerEvents:!1}}),{c(){$(t.$$.fragment),i=k(),$(a.$$.fragment),n=k(),$(r.$$.fragment)},l(e){c(t.$$.fragment,e),i=V(e),c(a.$$.fragment,e),n=V(e),c(r.$$.fragment,e)},m(e,l){_(t,e,l),h(e,i,l),_(a,e,l),h(e,n,l),_(r,e,l),o=!0},p:N,i(e){o||(g(t.$$.fragment,e),g(a.$$.fragment,e),g(r.$$.fragment,e),o=!0)},o(e){y(t.$$.fragment,e),y(a.$$.fragment,e),y(r.$$.fragment,e),o=!1},d(e){e&&(p(i),p(n)),d(t,e),d(a,e),d(r,e)}}}function et(s){let t,i,a=s[4].NAME+"",n,r,o,e,l,S,v=s[4].index_air_quality+"",q;return{c(){t=C("div"),i=C("h5"),n=G(a),r=G(" county"),o=k(),e=C("p"),l=G("Air quality index: "),S=C("strong"),q=G(v),this.h()},l(u){t=b(u,"DIV",{slot:!0});var m=L(t);i=b(m,"H5",{});var E=L(i);n=w(E,a),r=w(E," county"),E.forEach(p),o=V(m),e=b(m,"P",{});var M=L(e);l=w(M,"Air quality index: "),S=b(M,"STRONG",{});var P=L(S);q=w(P,v),P.forEach(p),M.forEach(p),m.forEach(p),this.h()},h(){Q(t,"slot","tooltip")},m(u,m){h(u,t,m),f(t,i),f(i,n),f(i,r),f(t,o),f(t,e),f(e,l),f(e,S),f(S,q)},p(u,m){m&16&&a!==(a=u[4].NAME+"")&&U(n,a),m&16&&v!==(v=u[4].index_air_quality+"")&&U(q,v)},d(u){u&&p(t)}}}function rt(s){let t,i,a,n,r;return i=new K({props:{scale:s[2],height:10,tickLineColor:"white",tickLineWidth:"2"}}),n=new F({props:{zoomable:!0,features:s[0].features,aspectRatio:4/2.5,tooltipContainParent:!0,$$slots:{tooltip:[et,({props:o})=>({4:o}),({props:o})=>o?16:0],default:[tt]},$$scope:{ctx:s}}}),{c(){t=C("div"),$(i.$$.fragment),a=k(),$(n.$$.fragment),this.h()},l(o){t=b(o,"DIV",{style:!0});var e=L(t);c(i.$$.fragment,e),e.forEach(p),a=V(o),c(n.$$.fragment,o),this.h()},h(){A(t,"max-width","300px"),A(t,"margin","1em auto 0")},m(o,e){h(o,t,e),_(i,t,null),h(o,a,e),_(n,o,e),r=!0},p(o,e){const l={};e&48&&(l.$$scope={dirty:e,ctx:o}),n.$set(l)},i(o){r||(g(i.$$.fragment,o),g(n.$$.fragment,o),r=!0)},o(o){y(i.$$.fragment,o),y(n.$$.fragment,o),r=!1},d(o){o&&(p(t),p(a)),d(i),d(n,o)}}}function at(s){let t,i;return t=new R({props:{title:"Air quality index by U.S. county",source:"Urban Institute Upward Mobility Framework",$$slots:{default:[rt]},$$scope:{ctx:s}}}),{c(){$(t.$$.fragment)},l(a){c(t.$$.fragment,a)},m(a,n){_(t,a,n),i=!0},p(a,n){const r={};n&32&&(r.$$scope={dirty:n,ctx:a}),t.$set(r)},i(a){i||(g(t.$$.fragment,a),i=!0)},o(a){y(t.$$.fragment,a),i=!1},d(a){d(t,a)}}}function ot(s){let t,i,a,n;return t=new W({}),a=new j({props:{name:"Primary",$$slots:{default:[at]},$$scope:{ctx:s}}}),{c(){$(t.$$.fragment),i=k(),$(a.$$.fragment)},l(r){c(t.$$.fragment,r),i=V(r),c(a.$$.fragment,r)},m(r,o){_(t,r,o),h(r,i,o),_(a,r,o),n=!0},p(r,[o]){const e={};o&32&&(e.$$scope={dirty:o,ctx:r}),a.$set(e)},i(r){n||(g(t.$$.fragment,r),g(a.$$.fragment,r),n=!0)},o(r){y(t.$$.fragment,r),y(a.$$.fragment,r),n=!1},d(r){r&&p(i),d(t,r),d(a,r)}}}const it={title:"Examples/Stories/CustomSVGMap",parameters:{docs:{description:{component:"An custom SVGMap with a ColorLegend and tooltip."}}}},nt=s=>s.properties.name;function st(s){const t=topojson.feature(X,"county_air_quality"),i=topojson.feature(Y,"us_cities");let a=Z().domain(t.features.map(r=>r.properties.index_air_quality)).range(x.getDivergingColors());return[t,i,a,r=>a(r.properties.index_air_quality)]}class lt extends z{constructor(t){super(),B(this,t,st,ot,D,{})}}const I=T(lt,{meta:{title:"Examples/Stories/CustomSVGMap"},stories:{"tpl:default":{name:"default",template:!0,source:"",hasArgs:!1},Primary:{name:"Primary",template:!1,source:`<ChartBlock
  title="Air quality index by U.S. county"
  source="Urban Institute Upward Mobility Framework"
>
  <div style="max-width: 300px; margin: 1em auto 0;">
    <ColorLegend scale={airQualityScale} height={10} tickLineColor={"white"} tickLineWidth="2" />
  </div>
  <SVGMap
    zoomable
    features={county_air_quality.features}
    aspectRatio={4 / 2.5}
    tooltipContainParent={true}
  >
    <SVGPolygonLayer
      fill={(d) => airQualityScale(d.properties.index_air_quality)}
      hoverStroke={urbanColors.magenta}
      hoverStrokeWidth={2}
      tooltip
      stroke={urbanColors.gray_shade_dark}
    />
    <SVGPointLayer
      features={us_cities_geo.features}
      pointerEvents={false}
      fill={urbanColors.gray_shade_lighter}
    />
    <SVGLabelLayer
      features={us_cities_geo.features}
      getLabel={(d) => d.properties.name}
      fontSize={13}
      pointerEvents={false}
    />
    <div slot="tooltip" let:props>
      <h5>{props.NAME} county</h5>
      <p>Air quality index: <strong>{props.index_air_quality}</strong></p>
    </div>
  </SVGMap>
</ChartBlock>`,hasArgs:!1}},allocatedIds:["default","Story","Template","ChartBlock","SVGPolygonLayer","SVGLabelLayer","SVGPointLayer","SVGMap","ColorLegend","county_air_quality_topo","urbanColors","us_cities","scaleQuantile"]},it),Xt=I.meta,Yt=["Primary"],Zt=I.stories.Primary;export{Zt as Primary,Yt as __namedExportsOrder,Xt as default};
